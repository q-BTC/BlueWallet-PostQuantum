{"dependencies":[{"name":"typeforce","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":14,"index":204},"end":{"line":6,"column":34,"index":224}},{"start":{"line":6,"column":14,"index":204},"end":{"line":6,"column":34,"index":224}},{"start":{"line":6,"column":14,"index":204},"end":{"line":6,"column":34,"index":224}},{"start":{"line":6,"column":14,"index":204},"end":{"line":6,"column":34,"index":224}},{"start":{"line":6,"column":14,"index":204},"end":{"line":6,"column":34,"index":224}},{"start":{"line":6,"column":14,"index":204},"end":{"line":6,"column":34,"index":224}},{"start":{"line":6,"column":14,"index":204},"end":{"line":6,"column":34,"index":224}},{"start":{"line":6,"column":14,"index":204},"end":{"line":6,"column":34,"index":224}},{"start":{"line":6,"column":14,"index":204},"end":{"line":6,"column":34,"index":224}}],"key":"oCEA5RW0Ha+xwR9ueiGUwAxq7Z8="}},{"name":"tiny-secp256k1","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":12,"index":263},"end":{"line":8,"column":37,"index":288}},{"start":{"line":8,"column":12,"index":263},"end":{"line":8,"column":37,"index":288}}],"key":"Whff8FUlwSwW4lSXzbcdkAvwS34="}},{"name":"../script","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":16,"index":136},"end":{"line":4,"column":36,"index":156}},{"start":{"line":4,"column":16,"index":136},"end":{"line":4,"column":36,"index":156}},{"start":{"line":4,"column":16,"index":136},"end":{"line":4,"column":36,"index":156}},{"start":{"line":7,"column":12,"index":238},"end":{"line":7,"column":23,"index":249}},{"start":{"line":4,"column":16,"index":136},"end":{"line":4,"column":36,"index":156}},{"start":{"line":7,"column":12,"index":238},"end":{"line":7,"column":23,"index":249}},{"start":{"line":4,"column":16,"index":136},"end":{"line":4,"column":36,"index":156}}],"key":"XOqjZpHZAfPtXF1u3MudqqFxY0c="}},{"name":"./lazy","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":13,"index":171},"end":{"line":5,"column":30,"index":188}},{"start":{"line":5,"column":13,"index":171},"end":{"line":5,"column":30,"index":188}},{"start":{"line":5,"column":13,"index":171},"end":{"line":5,"column":30,"index":188}},{"start":{"line":5,"column":13,"index":171},"end":{"line":5,"column":30,"index":188}},{"start":{"line":5,"column":13,"index":171},"end":{"line":5,"column":30,"index":188}},{"start":{"line":5,"column":13,"index":171},"end":{"line":5,"column":30,"index":188}}],"key":"g4ye5UxsflvXhbFiS+2Co5sloz8="}},{"name":"../networks","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":19,"index":96},"end":{"line":3,"column":41,"index":118}}],"key":"FiQD0tNYEY+NhtBSAnO78dixigg="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  // input: {signature}\n  // output: {pubKey} OP_CHECKSIG\n  function p2pk(a, opts) {\n    if (!a.input && !a.output && !a.pubkey && !a.input && !a.signature) throw new TypeError('Not enough data');\n    opts = Object.assign({\n      validate: true\n    }, opts || {});\n    _$$_REQUIRE(_dependencyMap[0], \"typeforce\")({\n      network: _$$_REQUIRE(_dependencyMap[0], \"typeforce\").maybe(_$$_REQUIRE(_dependencyMap[0], \"typeforce\").Object),\n      output: _$$_REQUIRE(_dependencyMap[0], \"typeforce\").maybe(_$$_REQUIRE(_dependencyMap[0], \"typeforce\").Buffer),\n      pubkey: _$$_REQUIRE(_dependencyMap[0], \"typeforce\").maybe(_$$_REQUIRE(_dependencyMap[1], \"tiny-secp256k1\").isPoint),\n      signature: _$$_REQUIRE(_dependencyMap[0], \"typeforce\").maybe(_$$_REQUIRE(_dependencyMap[2], \"../script\").isCanonicalScriptSignature),\n      input: _$$_REQUIRE(_dependencyMap[0], \"typeforce\").maybe(_$$_REQUIRE(_dependencyMap[0], \"typeforce\").Buffer)\n    }, a);\n    var _chunks = _$$_REQUIRE(_dependencyMap[3], \"./lazy\").value(function () {\n      return _$$_REQUIRE(_dependencyMap[2], \"../script\").decompile(a.input);\n    });\n    var network = a.network || _$$_REQUIRE(_dependencyMap[4], \"../networks\").bitcoin;\n    var o = {\n      name: 'p2pk',\n      network: network\n    };\n    _$$_REQUIRE(_dependencyMap[3], \"./lazy\").prop(o, 'output', function () {\n      if (!a.pubkey) return;\n      return _$$_REQUIRE(_dependencyMap[2], \"../script\").compile([a.pubkey, _$$_REQUIRE(_dependencyMap[2], \"../script\").OPS.OP_CHECKSIG]);\n    });\n    _$$_REQUIRE(_dependencyMap[3], \"./lazy\").prop(o, 'pubkey', function () {\n      if (!a.output) return;\n      return a.output.slice(1, -1);\n    });\n    _$$_REQUIRE(_dependencyMap[3], \"./lazy\").prop(o, 'signature', function () {\n      if (!a.input) return;\n      return _chunks()[0];\n    });\n    _$$_REQUIRE(_dependencyMap[3], \"./lazy\").prop(o, 'input', function () {\n      if (!a.signature) return;\n      return _$$_REQUIRE(_dependencyMap[2], \"../script\").compile([a.signature]);\n    });\n    _$$_REQUIRE(_dependencyMap[3], \"./lazy\").prop(o, 'witness', function () {\n      if (!o.input) return;\n      return [];\n    });\n    // extended validation\n    if (opts.validate) {\n      if (a.output) {\n        if (a.output[a.output.length - 1] !== _$$_REQUIRE(_dependencyMap[2], \"../script\").OPS.OP_CHECKSIG) throw new TypeError('Output is invalid');\n        if (!_$$_REQUIRE(_dependencyMap[1], \"tiny-secp256k1\").isPoint(o.pubkey)) throw new TypeError('Output pubkey is invalid');\n        if (a.pubkey && !a.pubkey.equals(o.pubkey)) throw new TypeError('Pubkey mismatch');\n      }\n      if (a.signature) {\n        if (a.input && !a.input.equals(o.input)) throw new TypeError('Signature mismatch');\n      }\n      if (a.input) {\n        if (_chunks().length !== 1) throw new TypeError('Input is invalid');\n        if (!_$$_REQUIRE(_dependencyMap[2], \"../script\").isCanonicalScriptSignature(o.signature)) throw new TypeError('Input has invalid signature');\n      }\n    }\n    return Object.assign(o, a);\n  }\n  exports.p2pk = p2pk;\n});","lineCount":67,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,9,0],[8,2,10,0],[9,2,11,0],[9,11,11,9,"p2pk"],[9,15,11,13,"p2pk"],[9,16,11,14,"a"],[9,17,11,15],[9,19,11,17,"opts"],[9,23,11,21],[9,25,11,23],[10,4,12,2],[10,8,12,6],[10,9,12,7,"a"],[10,10,12,8],[10,11,12,9,"input"],[10,16,12,14],[10,20,12,18],[10,21,12,19,"a"],[10,22,12,20],[10,23,12,21,"output"],[10,29,12,27],[10,33,12,31],[10,34,12,32,"a"],[10,35,12,33],[10,36,12,34,"pubkey"],[10,42,12,40],[10,46,12,44],[10,47,12,45,"a"],[10,48,12,46],[10,49,12,47,"input"],[10,54,12,52],[10,58,12,56],[10,59,12,57,"a"],[10,60,12,58],[10,61,12,59,"signature"],[10,70,12,68],[10,72,13,4],[10,78,13,10],[10,82,13,14,"TypeError"],[10,91,13,23],[10,92,13,24],[10,109,13,41],[10,110,13,42],[11,4,14,2,"opts"],[11,8,14,6],[11,11,14,9,"Object"],[11,17,14,15],[11,18,14,16,"assign"],[11,24,14,22],[11,25,14,23],[12,6,14,25,"validate"],[12,14,14,33],[12,16,14,35],[13,4,14,40],[13,5,14,41],[13,7,14,43,"opts"],[13,11,14,47],[13,15,14,51],[13,16,14,52],[13,17,14,53],[13,18,14,54],[14,4,15,2,"_$$_REQUIRE"],[14,15,15,2],[14,16,15,2,"_dependencyMap"],[14,30,15,2],[14,48,16,4],[15,6,17,6,"network"],[15,13,17,13],[15,15,17,15,"_$$_REQUIRE"],[15,26,17,15],[15,27,17,15,"_dependencyMap"],[15,41,17,15],[15,59,17,21,"maybe"],[15,64,17,26],[15,65,17,27,"_$$_REQUIRE"],[15,76,17,27],[15,77,17,27,"_dependencyMap"],[15,91,17,27],[15,109,17,33,"Object"],[15,115,17,39],[15,116,17,40],[16,6,18,6,"output"],[16,12,18,12],[16,14,18,14,"_$$_REQUIRE"],[16,25,18,14],[16,26,18,14,"_dependencyMap"],[16,40,18,14],[16,58,18,20,"maybe"],[16,63,18,25],[16,64,18,26,"_$$_REQUIRE"],[16,75,18,26],[16,76,18,26,"_dependencyMap"],[16,90,18,26],[16,108,18,32,"Buffer"],[16,114,18,38],[16,115,18,39],[17,6,19,6,"pubkey"],[17,12,19,12],[17,14,19,14,"_$$_REQUIRE"],[17,25,19,14],[17,26,19,14,"_dependencyMap"],[17,40,19,14],[17,58,19,20,"maybe"],[17,63,19,25],[17,64,19,26,"_$$_REQUIRE"],[17,75,19,26],[17,76,19,26,"_dependencyMap"],[17,90,19,26],[17,113,19,30,"isPoint"],[17,120,19,37],[17,121,19,38],[18,6,20,6,"signature"],[18,15,20,15],[18,17,20,17,"_$$_REQUIRE"],[18,28,20,17],[18,29,20,17,"_dependencyMap"],[18,43,20,17],[18,61,20,23,"maybe"],[18,66,20,28],[18,67,20,29,"_$$_REQUIRE"],[18,78,20,29],[18,79,20,29,"_dependencyMap"],[18,93,20,29],[18,111,20,37,"isCanonicalScriptSignature"],[18,137,20,63],[18,138,20,64],[19,6,21,6,"input"],[19,11,21,11],[19,13,21,13,"_$$_REQUIRE"],[19,24,21,13],[19,25,21,13,"_dependencyMap"],[19,39,21,13],[19,57,21,19,"maybe"],[19,62,21,24],[19,63,21,25,"_$$_REQUIRE"],[19,74,21,25],[19,75,21,25,"_dependencyMap"],[19,89,21,25],[19,107,21,31,"Buffer"],[19,113,21,37],[20,4,22,4],[20,5,22,5],[20,7,23,4,"a"],[20,8,24,2],[20,9,24,3],[21,4,25,2],[21,8,25,8,"_chunks"],[21,15,25,15],[21,18,25,18,"_$$_REQUIRE"],[21,29,25,18],[21,30,25,18,"_dependencyMap"],[21,44,25,18],[21,59,25,23,"value"],[21,64,25,28],[21,65,25,29],[21,77,25,35],[22,6,26,4],[22,13,26,11,"_$$_REQUIRE"],[22,24,26,11],[22,25,26,11,"_dependencyMap"],[22,39,26,11],[22,57,26,19,"decompile"],[22,66,26,28],[22,67,26,29,"a"],[22,68,26,30],[22,69,26,31,"input"],[22,74,26,36],[22,75,26,37],[23,4,27,2],[23,5,27,3],[23,6,27,4],[24,4,28,2],[24,8,28,8,"network"],[24,15,28,15],[24,18,28,18,"a"],[24,19,28,19],[24,20,28,20,"network"],[24,27,28,27],[24,31,28,31,"_$$_REQUIRE"],[24,42,28,31],[24,43,28,31,"_dependencyMap"],[24,57,28,31],[24,77,28,42,"bitcoin"],[24,84,28,49],[25,4,29,2],[25,8,29,8,"o"],[25,9,29,9],[25,12,29,12],[26,6,29,14,"name"],[26,10,29,18],[26,12,29,20],[26,18,29,26],[27,6,29,28,"network"],[27,13,29,35],[27,15,29,28,"network"],[28,4,29,36],[28,5,29,37],[29,4,30,2,"_$$_REQUIRE"],[29,15,30,2],[29,16,30,2,"_dependencyMap"],[29,30,30,2],[29,45,30,7,"prop"],[29,49,30,11],[29,50,30,12,"o"],[29,51,30,13],[29,53,30,15],[29,61,30,23],[29,63,30,25],[29,75,30,31],[30,6,31,4],[30,10,31,8],[30,11,31,9,"a"],[30,12,31,10],[30,13,31,11,"pubkey"],[30,19,31,17],[30,21,31,19],[31,6,32,4],[31,13,32,11,"_$$_REQUIRE"],[31,24,32,11],[31,25,32,11,"_dependencyMap"],[31,39,32,11],[31,57,32,19,"compile"],[31,64,32,26],[31,65,32,27],[31,66,32,28,"a"],[31,67,32,29],[31,68,32,30,"pubkey"],[31,74,32,36],[31,76,32,38,"_$$_REQUIRE"],[31,87,32,38],[31,88,32,38,"_dependencyMap"],[31,102,32,38],[31,120,32,38,"OPS"],[31,123,32,38],[31,124,32,42,"OP_CHECKSIG"],[31,135,32,53],[31,136,32,54],[31,137,32,55],[32,4,33,2],[32,5,33,3],[32,6,33,4],[33,4,34,2,"_$$_REQUIRE"],[33,15,34,2],[33,16,34,2,"_dependencyMap"],[33,30,34,2],[33,45,34,7,"prop"],[33,49,34,11],[33,50,34,12,"o"],[33,51,34,13],[33,53,34,15],[33,61,34,23],[33,63,34,25],[33,75,34,31],[34,6,35,4],[34,10,35,8],[34,11,35,9,"a"],[34,12,35,10],[34,13,35,11,"output"],[34,19,35,17],[34,21,35,19],[35,6,36,4],[35,13,36,11,"a"],[35,14,36,12],[35,15,36,13,"output"],[35,21,36,19],[35,22,36,20,"slice"],[35,27,36,25],[35,28,36,26],[35,29,36,27],[35,31,36,29],[35,32,36,30],[35,33,36,31],[35,34,36,32],[36,4,37,2],[36,5,37,3],[36,6,37,4],[37,4,38,2,"_$$_REQUIRE"],[37,15,38,2],[37,16,38,2,"_dependencyMap"],[37,30,38,2],[37,45,38,7,"prop"],[37,49,38,11],[37,50,38,12,"o"],[37,51,38,13],[37,53,38,15],[37,64,38,26],[37,66,38,28],[37,78,38,34],[38,6,39,4],[38,10,39,8],[38,11,39,9,"a"],[38,12,39,10],[38,13,39,11,"input"],[38,18,39,16],[38,20,39,18],[39,6,40,4],[39,13,40,11,"_chunks"],[39,20,40,18],[39,21,40,19],[39,22,40,20],[39,23,40,21],[39,24,40,22],[39,25,40,23],[40,4,41,2],[40,5,41,3],[40,6,41,4],[41,4,42,2,"_$$_REQUIRE"],[41,15,42,2],[41,16,42,2,"_dependencyMap"],[41,30,42,2],[41,45,42,7,"prop"],[41,49,42,11],[41,50,42,12,"o"],[41,51,42,13],[41,53,42,15],[41,60,42,22],[41,62,42,24],[41,74,42,30],[42,6,43,4],[42,10,43,8],[42,11,43,9,"a"],[42,12,43,10],[42,13,43,11,"signature"],[42,22,43,20],[42,24,43,22],[43,6,44,4],[43,13,44,11,"_$$_REQUIRE"],[43,24,44,11],[43,25,44,11,"_dependencyMap"],[43,39,44,11],[43,57,44,19,"compile"],[43,64,44,26],[43,65,44,27],[43,66,44,28,"a"],[43,67,44,29],[43,68,44,30,"signature"],[43,77,44,39],[43,78,44,40],[43,79,44,41],[44,4,45,2],[44,5,45,3],[44,6,45,4],[45,4,46,2,"_$$_REQUIRE"],[45,15,46,2],[45,16,46,2,"_dependencyMap"],[45,30,46,2],[45,45,46,7,"prop"],[45,49,46,11],[45,50,46,12,"o"],[45,51,46,13],[45,53,46,15],[45,62,46,24],[45,64,46,26],[45,76,46,32],[46,6,47,4],[46,10,47,8],[46,11,47,9,"o"],[46,12,47,10],[46,13,47,11,"input"],[46,18,47,16],[46,20,47,18],[47,6,48,4],[47,13,48,11],[47,15,48,13],[48,4,49,2],[48,5,49,3],[48,6,49,4],[49,4,50,2],[50,4,51,2],[50,8,51,6,"opts"],[50,12,51,10],[50,13,51,11,"validate"],[50,21,51,19],[50,23,51,21],[51,6,52,4],[51,10,52,8,"a"],[51,11,52,9],[51,12,52,10,"output"],[51,18,52,16],[51,20,52,18],[52,8,53,6],[52,12,53,10,"a"],[52,13,53,11],[52,14,53,12,"output"],[52,20,53,18],[52,21,53,19,"a"],[52,22,53,20],[52,23,53,21,"output"],[52,29,53,27],[52,30,53,28,"length"],[52,36,53,34],[52,39,53,37],[52,40,53,38],[52,41,53,39],[52,46,53,44,"_$$_REQUIRE"],[52,57,53,44],[52,58,53,44,"_dependencyMap"],[52,72,53,44],[52,90,53,44,"OPS"],[52,93,53,44],[52,94,53,48,"OP_CHECKSIG"],[52,105,53,59],[52,107,54,8],[52,113,54,14],[52,117,54,18,"TypeError"],[52,126,54,27],[52,127,54,28],[52,146,54,47],[52,147,54,48],[53,8,55,6],[53,12,55,10],[53,13,55,11,"_$$_REQUIRE"],[53,24,55,11],[53,25,55,11,"_dependencyMap"],[53,39,55,11],[53,62,55,15,"isPoint"],[53,69,55,22],[53,70,55,23,"o"],[53,71,55,24],[53,72,55,25,"pubkey"],[53,78,55,31],[53,79,55,32],[53,81,56,8],[53,87,56,14],[53,91,56,18,"TypeError"],[53,100,56,27],[53,101,56,28],[53,127,56,54],[53,128,56,55],[54,8,57,6],[54,12,57,10,"a"],[54,13,57,11],[54,14,57,12,"pubkey"],[54,20,57,18],[54,24,57,22],[54,25,57,23,"a"],[54,26,57,24],[54,27,57,25,"pubkey"],[54,33,57,31],[54,34,57,32,"equals"],[54,40,57,38],[54,41,57,39,"o"],[54,42,57,40],[54,43,57,41,"pubkey"],[54,49,57,47],[54,50,57,48],[54,52,58,8],[54,58,58,14],[54,62,58,18,"TypeError"],[54,71,58,27],[54,72,58,28],[54,89,58,45],[54,90,58,46],[55,6,59,4],[56,6,60,4],[56,10,60,8,"a"],[56,11,60,9],[56,12,60,10,"signature"],[56,21,60,19],[56,23,60,21],[57,8,61,6],[57,12,61,10,"a"],[57,13,61,11],[57,14,61,12,"input"],[57,19,61,17],[57,23,61,21],[57,24,61,22,"a"],[57,25,61,23],[57,26,61,24,"input"],[57,31,61,29],[57,32,61,30,"equals"],[57,38,61,36],[57,39,61,37,"o"],[57,40,61,38],[57,41,61,39,"input"],[57,46,61,44],[57,47,61,45],[57,49,62,8],[57,55,62,14],[57,59,62,18,"TypeError"],[57,68,62,27],[57,69,62,28],[57,89,62,48],[57,90,62,49],[58,6,63,4],[59,6,64,4],[59,10,64,8,"a"],[59,11,64,9],[59,12,64,10,"input"],[59,17,64,15],[59,19,64,17],[60,8,65,6],[60,12,65,10,"_chunks"],[60,19,65,17],[60,20,65,18],[60,21,65,19],[60,22,65,20,"length"],[60,28,65,26],[60,33,65,31],[60,34,65,32],[60,36,65,34],[60,42,65,40],[60,46,65,44,"TypeError"],[60,55,65,53],[60,56,65,54],[60,74,65,72],[60,75,65,73],[61,8,66,6],[61,12,66,10],[61,13,66,11,"_$$_REQUIRE"],[61,24,66,11],[61,25,66,11,"_dependencyMap"],[61,39,66,11],[61,57,66,19,"isCanonicalScriptSignature"],[61,83,66,45],[61,84,66,46,"o"],[61,85,66,47],[61,86,66,48,"signature"],[61,95,66,57],[61,96,66,58],[61,98,67,8],[61,104,67,14],[61,108,67,18,"TypeError"],[61,117,67,27],[61,118,67,28],[61,147,67,57],[61,148,67,58],[62,6,68,4],[63,4,69,2],[64,4,70,2],[64,11,70,9,"Object"],[64,17,70,15],[64,18,70,16,"assign"],[64,24,70,22],[64,25,70,23,"o"],[64,26,70,24],[64,28,70,26,"a"],[64,29,70,27],[64,30,70,28],[65,2,71,0],[66,2,72,0,"exports"],[66,9,72,7],[66,10,72,8,"p2pk"],[66,14,72,12],[66,17,72,15,"p2pk"],[66,21,72,19],[67,0,72,20],[67,3]],"functionMap":{"names":["<global>","p2pk","lazy.value$argument_0","lazy.prop$argument_2"],"mappings":"AAA;ACU;6BCc;GDE;yBEG;GFG;yBEC;GFG;4BEC;GFG;wBEC;GFG;0BEC;GFG;CDsB"}},"type":"js/module"}]}