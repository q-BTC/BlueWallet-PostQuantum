{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":45,"column":0,"index":1235}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk="}},{"name":"@babel/runtime/helpers/defineProperty","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":45,"column":0,"index":1235}}],"key":"X490zePjq+0IljAc8X0qcBg0iTo="}},{"name":"./speedometer.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":43,"index":43}}],"key":"JWtN7GrWQfwHXgytHZkCYHur2j4="}},{"name":"./throttle.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":44},"end":{"line":2,"column":37,"index":81}}],"key":"BcsE82O2TtijQ3mU6T8j9Q2jtpw="}},{"name":"../utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":82},"end":{"line":3,"column":32,"index":114}}],"key":"dGswK136diHRCgUa8xpQUn/UMbc="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.progressEventReducer = exports.progressEventDecorator = exports.asyncDecorator = void 0;\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/defineProperty\"));\n  var _speedometer2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"./speedometer.js\"));\n  var _throttle = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"./throttle.js\"));\n  var _utils = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"../utils.js\"));\n  var progressEventReducer = exports.progressEventReducer = function progressEventReducer(listener, isDownloadStream) {\n    var freq = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 3;\n    var bytesNotified = 0;\n    var _speedometer = (0, _speedometer2.default)(50, 250);\n    return (0, _throttle.default)(function (e) {\n      var loaded = e.loaded;\n      var total = e.lengthComputable ? e.total : undefined;\n      var progressBytes = loaded - bytesNotified;\n      var rate = _speedometer(progressBytes);\n      var inRange = loaded <= total;\n      bytesNotified = loaded;\n      var data = (0, _defineProperty2.default)({\n        loaded: loaded,\n        total: total,\n        progress: total ? loaded / total : undefined,\n        bytes: progressBytes,\n        rate: rate ? rate : undefined,\n        estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n        event: e,\n        lengthComputable: total != null\n      }, isDownloadStream ? 'download' : 'upload', true);\n      listener(data);\n    }, freq);\n  };\n  var progressEventDecorator = exports.progressEventDecorator = function progressEventDecorator(total, throttled) {\n    var lengthComputable = total != null;\n    return [function (loaded) {\n      return throttled[0]({\n        lengthComputable: lengthComputable,\n        total: total,\n        loaded: loaded\n      });\n    }, throttled[1]];\n  };\n  var asyncDecorator = exports.asyncDecorator = function asyncDecorator(fn) {\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return _utils.default.asap(function () {\n        return fn.apply(void 0, args);\n      });\n    };\n  };\n});","lineCount":55,"map":[[8,2,1,0],[8,6,1,0,"_speedometer2"],[8,19,1,0],[8,22,1,0,"_interopRequireDefault"],[8,44,1,0],[8,45,1,0,"_$$_REQUIRE"],[8,56,1,0],[8,57,1,0,"_dependencyMap"],[8,71,1,0],[9,2,2,0],[9,6,2,0,"_throttle"],[9,15,2,0],[9,18,2,0,"_interopRequireDefault"],[9,40,2,0],[9,41,2,0,"_$$_REQUIRE"],[9,52,2,0],[9,53,2,0,"_dependencyMap"],[9,67,2,0],[10,2,3,0],[10,6,3,0,"_utils"],[10,12,3,0],[10,15,3,0,"_interopRequireDefault"],[10,37,3,0],[10,38,3,0,"_$$_REQUIRE"],[10,49,3,0],[10,50,3,0,"_dependencyMap"],[10,64,3,0],[11,2,5,7],[11,6,5,13,"progressEventReducer"],[11,26,5,33],[11,29,5,33,"exports"],[11,36,5,33],[11,37,5,33,"progressEventReducer"],[11,57,5,33],[11,60,5,36],[11,69,5,13,"progressEventReducer"],[11,89,5,33,"progressEventReducer"],[11,90,5,37,"listener"],[11,98,5,45],[11,100,5,47,"isDownloadStream"],[11,116,5,63],[11,118,5,78],[12,4,5,78],[12,8,5,65,"freq"],[12,12,5,69],[12,15,5,69,"arguments"],[12,24,5,69],[12,25,5,69,"length"],[12,31,5,69],[12,39,5,69,"arguments"],[12,48,5,69],[12,56,5,69,"undefined"],[12,65,5,69],[12,68,5,69,"arguments"],[12,77,5,69],[12,83,5,72],[12,84,5,73],[13,4,6,2],[13,8,6,6,"bytesNotified"],[13,21,6,19],[13,24,6,22],[13,25,6,23],[14,4,7,2],[14,8,7,8,"_speedometer"],[14,20,7,20],[14,23,7,23],[14,27,7,23,"speedometer"],[14,48,7,34],[14,50,7,35],[14,52,7,37],[14,54,7,39],[14,57,7,42],[14,58,7,43],[15,4,9,2],[15,11,9,9],[15,15,9,9,"throttle"],[15,32,9,17],[15,34,9,18],[15,44,9,18,"e"],[15,45,9,19],[15,47,9,23],[16,6,10,4],[16,10,10,10,"loaded"],[16,16,10,16],[16,19,10,19,"e"],[16,20,10,20],[16,21,10,21,"loaded"],[16,27,10,27],[17,6,11,4],[17,10,11,10,"total"],[17,15,11,15],[17,18,11,18,"e"],[17,19,11,19],[17,20,11,20,"lengthComputable"],[17,36,11,36],[17,39,11,39,"e"],[17,40,11,40],[17,41,11,41,"total"],[17,46,11,46],[17,49,11,49,"undefined"],[17,58,11,58],[18,6,12,4],[18,10,12,10,"progressBytes"],[18,23,12,23],[18,26,12,26,"loaded"],[18,32,12,32],[18,35,12,35,"bytesNotified"],[18,48,12,48],[19,6,13,4],[19,10,13,10,"rate"],[19,14,13,14],[19,17,13,17,"_speedometer"],[19,29,13,29],[19,30,13,30,"progressBytes"],[19,43,13,43],[19,44,13,44],[20,6,14,4],[20,10,14,10,"inRange"],[20,17,14,17],[20,20,14,20,"loaded"],[20,26,14,26],[20,30,14,30,"total"],[20,35,14,35],[21,6,16,4,"bytesNotified"],[21,19,16,17],[21,22,16,20,"loaded"],[21,28,16,26],[22,6,18,4],[22,10,18,10,"data"],[22,14,18,14],[22,21,18,14,"_defineProperty2"],[22,37,18,14],[22,38,18,14,"default"],[22,45,18,14],[23,8,19,6,"loaded"],[23,14,19,12],[23,16,19,6,"loaded"],[23,22,19,12],[24,8,20,6,"total"],[24,13,20,11],[24,15,20,6,"total"],[24,20,20,11],[25,8,21,6,"progress"],[25,16,21,14],[25,18,21,16,"total"],[25,23,21,21],[25,26,21,25,"loaded"],[25,32,21,31],[25,35,21,34,"total"],[25,40,21,39],[25,43,21,43,"undefined"],[25,52,21,52],[26,8,22,6,"bytes"],[26,13,22,11],[26,15,22,13,"progressBytes"],[26,28,22,26],[27,8,23,6,"rate"],[27,12,23,10],[27,14,23,12,"rate"],[27,18,23,16],[27,21,23,19,"rate"],[27,25,23,23],[27,28,23,26,"undefined"],[27,37,23,35],[28,8,24,6,"estimated"],[28,17,24,15],[28,19,24,17,"rate"],[28,23,24,21],[28,27,24,25,"total"],[28,32,24,30],[28,36,24,34,"inRange"],[28,43,24,41],[28,46,24,44],[28,47,24,45,"total"],[28,52,24,50],[28,55,24,53,"loaded"],[28,61,24,59],[28,65,24,63,"rate"],[28,69,24,67],[28,72,24,70,"undefined"],[28,81,24,79],[29,8,25,6,"event"],[29,13,25,11],[29,15,25,13,"e"],[29,16,25,14],[30,8,26,6,"lengthComputable"],[30,24,26,22],[30,26,26,24,"total"],[30,31,26,29],[30,35,26,33],[31,6,26,37],[31,9,27,7,"isDownloadStream"],[31,25,27,23],[31,28,27,26],[31,38,27,36],[31,41,27,39],[31,49,27,47],[31,51,27,50],[31,55,27,54],[31,56,28,5],[32,6,30,4,"listener"],[32,14,30,12],[32,15,30,13,"data"],[32,19,30,17],[32,20,30,18],[33,4,31,2],[33,5,31,3],[33,7,31,5,"freq"],[33,11,31,9],[33,12,31,10],[34,2,32,0],[34,3,32,1],[35,2,34,7],[35,6,34,13,"progressEventDecorator"],[35,28,34,35],[35,31,34,35,"exports"],[35,38,34,35],[35,39,34,35,"progressEventDecorator"],[35,61,34,35],[35,64,34,38],[35,73,34,13,"progressEventDecorator"],[35,95,34,35,"progressEventDecorator"],[35,96,34,39,"total"],[35,101,34,44],[35,103,34,46,"throttled"],[35,112,34,55],[35,114,34,60],[36,4,35,2],[36,8,35,8,"lengthComputable"],[36,24,35,24],[36,27,35,27,"total"],[36,32,35,32],[36,36,35,36],[36,40,35,40],[37,4,37,2],[37,11,37,9],[37,12,37,10],[37,22,37,11,"loaded"],[37,28,37,17],[38,6,37,17],[38,13,37,22,"throttled"],[38,22,37,31],[38,23,37,32],[38,24,37,33],[38,25,37,34],[38,26,37,35],[39,8,38,4,"lengthComputable"],[39,24,38,20],[39,26,38,4,"lengthComputable"],[39,42,38,20],[40,8,39,4,"total"],[40,13,39,9],[40,15,39,4,"total"],[40,20,39,9],[41,8,40,4,"loaded"],[41,14,40,10],[41,16,40,4,"loaded"],[42,6,41,2],[42,7,41,3],[42,8,41,4],[43,4,41,4],[43,7,41,6,"throttled"],[43,16,41,15],[43,17,41,16],[43,18,41,17],[43,19,41,18],[43,20,41,19],[44,2,42,0],[44,3,42,1],[45,2,44,7],[45,6,44,13,"asyncDecorator"],[45,20,44,27],[45,23,44,27,"exports"],[45,30,44,27],[45,31,44,27,"asyncDecorator"],[45,45,44,27],[45,48,44,30],[45,57,44,13,"asyncDecorator"],[45,71,44,27,"asyncDecorator"],[45,72,44,31,"fn"],[45,74,44,33],[46,4,44,33],[46,11,44,38],[47,6,44,38],[47,15,44,38,"_len"],[47,19,44,38],[47,22,44,38,"arguments"],[47,31,44,38],[47,32,44,38,"length"],[47,38,44,38],[47,40,44,42,"args"],[47,44,44,46],[47,51,44,46,"Array"],[47,56,44,46],[47,57,44,46,"_len"],[47,61,44,46],[47,64,44,46,"_key"],[47,68,44,46],[47,74,44,46,"_key"],[47,78,44,46],[47,81,44,46,"_len"],[47,85,44,46],[47,87,44,46,"_key"],[47,91,44,46],[48,8,44,42,"args"],[48,12,44,46],[48,13,44,46,"_key"],[48,17,44,46],[48,21,44,46,"arguments"],[48,30,44,46],[48,31,44,46,"_key"],[48,35,44,46],[49,6,44,46],[50,6,44,46],[50,13,44,51,"utils"],[50,27,44,56],[50,28,44,57,"asap"],[50,32,44,61],[50,33,44,62],[51,8,44,62],[51,15,44,68,"fn"],[51,17,44,70],[51,18,44,70,"apply"],[51,23,44,70],[51,32,44,74,"args"],[51,36,44,78],[51,37,44,79],[52,6,44,79],[52,8,44,80],[53,4,44,80],[54,2,44,80],[55,0,44,81],[55,3]],"functionMap":{"names":["<global>","progressEventReducer","throttle$argument_0","progressEventDecorator","<anonymous>","asyncDecorator","utils.asap$argument_0"],"mappings":"AAA;oCCI;kBCI;GDsB;CDC;sCGE;UCG;IDI;CHC;8BKE,QD,wBE,iBF,CJ"}},"type":"js/module"}]}