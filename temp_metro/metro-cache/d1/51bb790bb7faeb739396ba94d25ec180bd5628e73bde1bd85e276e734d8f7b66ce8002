{"dependencies":[{"name":"@babel/runtime/helpers/toConsumableArray","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":64,"column":42,"index":2330}}],"key":"kiCFfIx1MWoD4noR0gEoyrFAUKE="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":64,"column":42,"index":2330}}],"key":"yg7e6laZwmpbIvId5jovq9ugXp8="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":64,"column":42,"index":2330}}],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  ////////////////////////////////////////////////////////////////////////////\n  //\n  // Copyright 2022 Realm Inc.\n  //\n  // Licensed under the Apache License, Version 2.0 (the \"License\");\n  // you may not use this file except in compliance with the License.\n  // You may obtain a copy of the License at\n  //\n  // http://www.apache.org/licenses/LICENSE-2.0\n  //\n  // Unless required by applicable law or agreed to in writing, software\n  // distributed under the License is distributed on an \"AS IS\" BASIS,\n  // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  // See the License for the specific language governing permissions and\n  // limitations under the License.\n  //\n  ////////////////////////////////////////////////////////////////////////////\n  var _toConsumableArray = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/toConsumableArray\");\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _createClass = _$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.RealmListeners = exports.RealmEvent = void 0;\n  var RealmEvent;\n  (function (RealmEvent) {\n    RealmEvent[\"Change\"] = \"change\";\n    RealmEvent[\"Schema\"] = \"schema\";\n    RealmEvent[\"BeforeNotify\"] = \"beforenotify\";\n  })(RealmEvent = exports.RealmEvent || (exports.RealmEvent = {}));\n  // Temporary functions to work between event names and corresponding enums\n  // TODO: We should update the external API to take a `RealmEvent` instead of a string.\n  var RealmListeners = /*#__PURE__*/function () {\n    /**\n     * Keeps tracked of registered listener callbacks for Realm class notifications.\n     */\n    function RealmListeners(realm, eventType) {\n      _classCallCheck(this, RealmListeners);\n      this.listeners = new Set();\n      this.realm = realm;\n      this.eventType = eventType;\n      this.eventType = eventType;\n    }\n    return _createClass(RealmListeners, [{\n      key: \"notify\",\n      value:\n      // Combined callback which runs all listener callbacks in one call.\n      function notify(schema) {\n        // Spreading to an array to avoid firing listeners that gets added from another listener\n        for (var callback of _toConsumableArray(this.listeners)) {\n          callback(this.realm, this.eventType, schema);\n        }\n      }\n    }, {\n      key: \"add\",\n      value: function add(callback) {\n        if (this.listeners.has(callback)) {\n          // No need to add a listener twice\n          return;\n        }\n        // Store the listener.\n        this.listeners.add(callback);\n      }\n    }, {\n      key: \"remove\",\n      value: function remove(callback) {\n        this.listeners.delete(callback);\n      }\n    }, {\n      key: \"removeAll\",\n      value: function removeAll() {\n        this.listeners.clear();\n      }\n    }]);\n  }();\n  exports.RealmListeners = RealmListeners;\n});","lineCount":80,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0],[5,2,3,0],[6,2,4,0],[7,2,5,0],[8,2,6,0],[9,2,7,0],[10,2,8,0],[11,2,9,0],[12,2,10,0],[13,2,11,0],[14,2,12,0],[15,2,13,0],[16,2,14,0],[17,2,15,0],[18,2,16,0],[19,2,17,0],[20,2,18,0],[21,2,18,0],[21,6,18,0,"_toConsumableArray"],[21,24,18,0],[21,27,18,0,"_$$_REQUIRE"],[21,38,18,0],[21,39,18,0,"_dependencyMap"],[21,53,18,0],[22,2,18,0],[22,6,18,0,"_classCallCheck"],[22,21,18,0],[22,24,18,0,"_$$_REQUIRE"],[22,35,18,0],[22,36,18,0,"_dependencyMap"],[22,50,18,0],[23,2,18,0],[23,6,18,0,"_createClass"],[23,18,18,0],[23,21,18,0,"_$$_REQUIRE"],[23,32,18,0],[23,33,18,0,"_dependencyMap"],[23,47,18,0],[24,2,19,0,"Object"],[24,8,19,6],[24,9,19,7,"defineProperty"],[24,23,19,21],[24,24,19,22,"exports"],[24,31,19,29],[24,33,19,31],[24,45,19,43],[24,47,19,45],[25,4,19,47,"value"],[25,9,19,52],[25,11,19,54],[26,2,19,59],[26,3,19,60],[26,4,19,61],[27,2,20,0,"exports"],[27,9,20,7],[27,10,20,8,"RealmListeners"],[27,24,20,22],[27,27,20,25,"exports"],[27,34,20,32],[27,35,20,33,"RealmEvent"],[27,45,20,43],[27,48,20,46],[27,53,20,51],[27,54,20,52],[28,2,21,0],[28,6,21,4,"RealmEvent"],[28,16,21,14],[29,2,22,0],[29,3,22,1],[29,13,22,11,"RealmEvent"],[29,23,22,21],[29,25,22,23],[30,4,23,4,"RealmEvent"],[30,14,23,14],[30,15,23,15],[30,23,23,23],[30,24,23,24],[30,27,23,27],[30,35,23,35],[31,4,24,4,"RealmEvent"],[31,14,24,14],[31,15,24,15],[31,23,24,23],[31,24,24,24],[31,27,24,27],[31,35,24,35],[32,4,25,4,"RealmEvent"],[32,14,25,14],[32,15,25,15],[32,29,25,29],[32,30,25,30],[32,33,25,33],[32,47,25,47],[33,2,26,0],[33,3,26,1],[33,5,26,3,"RealmEvent"],[33,15,26,13],[33,18,26,16,"exports"],[33,25,26,23],[33,26,26,24,"RealmEvent"],[33,36,26,34],[33,41,26,39,"exports"],[33,48,26,46],[33,49,26,47,"RealmEvent"],[33,59,26,57],[33,62,26,60],[33,63,26,61],[33,64,26,62],[33,65,26,63],[33,66,26,64],[34,2,27,0],[35,2,28,0],[36,2,28,0],[36,6,29,6,"RealmListeners"],[36,20,29,20],[37,4,32,4],[38,0,33,0],[39,0,34,0],[40,4,35,4],[40,13,35,4,"RealmListeners"],[40,28,35,16,"realm"],[40,33,35,21],[40,35,35,23,"eventType"],[40,44,35,32],[40,46,35,34],[41,6,35,34,"_classCallCheck"],[41,21,35,34],[41,28,35,34,"RealmListeners"],[41,42,35,34],[42,6,35,34],[42,11,40,4,"listeners"],[42,20,40,13],[42,23,40,16],[42,27,40,20,"Set"],[42,30,40,23],[42,31,40,24],[42,32,40,25],[43,6,36,8],[43,10,36,12],[43,11,36,13,"realm"],[43,16,36,18],[43,19,36,21,"realm"],[43,24,36,26],[44,6,37,8],[44,10,37,12],[44,11,37,13,"eventType"],[44,20,37,22],[44,23,37,25,"eventType"],[44,32,37,34],[45,6,38,8],[45,10,38,12],[45,11,38,13,"eventType"],[45,20,38,22],[45,23,38,25,"eventType"],[45,32,38,34],[46,4,39,4],[47,4,39,5],[47,11,39,5,"_createClass"],[47,23,39,5],[47,24,39,5,"RealmListeners"],[47,38,39,5],[48,6,39,5,"key"],[48,9,39,5],[49,6,39,5,"value"],[49,11,39,5],[50,6,41,4],[51,6,42,4],[51,15,42,4,"notify"],[51,21,42,10,"notify"],[51,22,42,11,"schema"],[51,28,42,17],[51,30,42,19],[52,8,43,8],[53,8,44,8],[53,13,44,13],[53,17,44,19,"callback"],[53,25,44,27],[53,29,44,27,"_toConsumableArray"],[53,47,44,27],[53,48,44,35],[53,52,44,39],[53,53,44,40,"listeners"],[53,62,44,49],[53,65,44,52],[54,10,45,12,"callback"],[54,18,45,20],[54,19,45,21],[54,23,45,25],[54,24,45,26,"realm"],[54,29,45,31],[54,31,45,33],[54,35,45,37],[54,36,45,38,"eventType"],[54,45,45,47],[54,47,45,49,"schema"],[54,53,45,55],[54,54,45,56],[55,8,46,8],[56,6,47,4],[57,4,47,5],[58,6,47,5,"key"],[58,9,47,5],[59,6,47,5,"value"],[59,11,47,5],[59,13,48,4],[59,22,48,4,"add"],[59,25,48,7,"add"],[59,26,48,8,"callback"],[59,34,48,16],[59,36,48,18],[60,8,49,8],[60,12,49,12],[60,16,49,16],[60,17,49,17,"listeners"],[60,26,49,26],[60,27,49,27,"has"],[60,30,49,30],[60,31,49,31,"callback"],[60,39,49,39],[60,40,49,40],[60,42,49,42],[61,10,50,12],[62,10,51,12],[63,8,52,8],[64,8,53,8],[65,8,54,8],[65,12,54,12],[65,13,54,13,"listeners"],[65,22,54,22],[65,23,54,23,"add"],[65,26,54,26],[65,27,54,27,"callback"],[65,35,54,35],[65,36,54,36],[66,6,55,4],[67,4,55,5],[68,6,55,5,"key"],[68,9,55,5],[69,6,55,5,"value"],[69,11,55,5],[69,13,56,4],[69,22,56,4,"remove"],[69,28,56,10,"remove"],[69,29,56,11,"callback"],[69,37,56,19],[69,39,56,21],[70,8,57,8],[70,12,57,12],[70,13,57,13,"listeners"],[70,22,57,22],[70,23,57,23,"delete"],[70,29,57,29],[70,30,57,30,"callback"],[70,38,57,38],[70,39,57,39],[71,6,58,4],[72,4,58,5],[73,6,58,5,"key"],[73,9,58,5],[74,6,58,5,"value"],[74,11,58,5],[74,13,59,4],[74,22,59,4,"removeAll"],[74,31,59,13,"removeAll"],[74,32,59,13],[74,34,59,16],[75,8,60,8],[75,12,60,12],[75,13,60,13,"listeners"],[75,22,60,22],[75,23,60,23,"clear"],[75,28,60,28],[75,29,60,29],[75,30,60,30],[76,6,61,4],[77,4,61,5],[78,2,61,5],[79,2,63,0,"exports"],[79,9,63,7],[79,10,63,8,"RealmListeners"],[79,24,63,22],[79,27,63,25,"RealmListeners"],[79,41,63,39],[80,0,63,40],[80,3]],"functionMap":{"names":["<global>","<anonymous>","RealmListeners","constructor","notify","add","remove","removeAll"],"mappings":"AAA;CCqB;CDI;AEG;ICM;KDI;IEG;KFK;IGC;KHO;IIC;KJE;IKC;KLE;CFC"}},"type":"js/module"}]}