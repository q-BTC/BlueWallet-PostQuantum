{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":120,"column":0,"index":4113}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk="}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":120,"column":0,"index":4113}}],"key":"5y7e5+zC7teYEEC6niD9f5zII1M="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":120,"column":0,"index":4113}}],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":120,"column":0,"index":4113}}],"key":"yg7e6laZwmpbIvId5jovq9ugXp8="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":120,"column":0,"index":4113}}],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30="}},{"name":"bitcoinjs-lib","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":41,"index":41}}],"key":"/nlroPCTcjBceL8E3aKsbjY7aTo="}},{"name":"../blue_modules/hapticFeedback","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":83},"end":{"line":4,"column":92,"index":175}}],"key":"5yRkE7GWwtxjPgkyNfrsMJ1glts="}},{"name":"../blue_modules/noble_ecc","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":176},"end":{"line":5,"column":44,"index":220}}],"key":"8uEDO2nShVXqusUGShpeHYUarb4="}},{"name":"../components/Alert","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":221},"end":{"line":6,"column":47,"index":268}}],"key":"0xv82G+AqnUqlW1vWUa+qrI08GA="}},{"name":"assert","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":343},"end":{"line":8,"column":28,"index":371}}],"key":"GZNHw+WT2f5kcSAMBpMaSQtjoUA="}},{"name":"ecpair","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":42},"end":{"line":2,"column":39,"index":81}}],"key":"u6yWeivdFv15Am3FmwSfeX38wPs="}},{"name":"../blue_modules/uint8array-extras","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":372},"end":{"line":9,"column":68,"index":440}}],"key":"jroZQDnFANt7Rj1zyUrv3Q7fO/E="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _slicedToArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\"));\n  var _asyncToGenerator2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/createClass\"));\n  var bitcoin = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[5], \"bitcoinjs-lib\"));\n  var _hapticFeedback = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[6], \"../blue_modules/hapticFeedback\"));\n  var _noble_ecc = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[7], \"../blue_modules/noble_ecc\"));\n  var _Alert = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[8], \"../components/Alert\"));\n  var _assert = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[9], \"assert\"));\n  function _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\n  function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n  var ECPair = (0, _$$_REQUIRE(_dependencyMap[10], \"ecpair\").ECPairFactory)(_noble_ecc.default);\n  var delay = function delay(milliseconds) {\n    return new Promise(function (resolve) {\n      return setTimeout(resolve, milliseconds);\n    });\n  };\n\n  // Implements IPayjoinClientWallet\n  // https://github.com/bitcoinjs/payjoin-client/blob/master/ts_src/wallet.ts\n  var PayjoinTransaction = exports.default = /*#__PURE__*/function () {\n    function PayjoinTransaction(psbt, broadcast, wallet) {\n      (0, _classCallCheck2.default)(this, PayjoinTransaction);\n      this._psbt = psbt;\n      this._broadcast = broadcast;\n      this._wallet = wallet;\n      this._payjoinPsbt = false;\n    }\n    return (0, _createClass2.default)(PayjoinTransaction, [{\n      key: \"getPsbt\",\n      value: function () {\n        var _getPsbt = (0, _asyncToGenerator2.default)(function* () {\n          // Nasty hack to get this working for now\n          var unfinalized = this._psbt.clone();\n          for (var _ref of unfinalized.data.inputs.entries()) {\n            var _ref2 = (0, _slicedToArray2.default)(_ref, 2);\n            var index = _ref2[0];\n            var input = _ref2[1];\n            delete input.finalScriptWitness;\n            (0, _assert.default)(input.witnessUtxo, 'Internal error: input.witnessUtxo is not set');\n            var address = bitcoin.address.fromOutputScript(input.witnessUtxo.script);\n            var wif = this._wallet._getWifForAddress(address);\n            var keyPair = ECPair.fromWIF(wif);\n            unfinalized.signInput(index, keyPair);\n          }\n\n          // now, since payjoin lib expects an older version of Psbt object (from bitcoinjs-lib v6),\n          // it expects `script` to be Buffer, and in v7 its actually uint8 array.\n          // lets monkey patch the cloned PSBT so it returns buffers, as expected:\n          var origclone = unfinalized.clone;\n          unfinalized.clone = function () {\n            var newPsbt = origclone.apply(unfinalized);\n            var original = newPsbt.txOutputs;\n            Object.defineProperty(newPsbt, 'txOutputs', {\n              get: function get() {\n                return original.map(function (o) {\n                  return Object.assign({}, o, {\n                    script: Buffer.from((0, _$$_REQUIRE(_dependencyMap[11], \"../blue_modules/uint8array-extras\").uint8ArrayToHex)(o.script), 'hex')\n                  });\n                });\n              }\n            });\n            return newPsbt;\n          };\n          return unfinalized;\n        });\n        function getPsbt() {\n          return _getPsbt.apply(this, arguments);\n        }\n        return getPsbt;\n      }()\n      /**\n       * Doesnt conform to spec but needed for user-facing wallet software to find out txid of payjoined transaction\n       *\n       * @returns {Psbt}\n       */\n    }, {\n      key: \"getPayjoinPsbt\",\n      value: function getPayjoinPsbt() {\n        return this._payjoinPsbt;\n      }\n    }, {\n      key: \"signPsbt\",\n      value: function () {\n        var _signPsbt = (0, _asyncToGenerator2.default)(function* (payjoinPsbt) {\n          // Do this without relying on private methods\n\n          for (var _ref3 of payjoinPsbt.data.inputs.entries()) {\n            var _ref4 = (0, _slicedToArray2.default)(_ref3, 2);\n            var index = _ref4[0];\n            var input = _ref4[1];\n            (0, _assert.default)(input.witnessUtxo, 'Internal error: input.witnessUtxo is not set');\n            var address = bitcoin.address.fromOutputScript(input.witnessUtxo.script);\n            try {\n              var wif = this._wallet._getWifForAddress(address);\n              var keyPair = ECPair.fromWIF(wif);\n              payjoinPsbt.signInput(index, keyPair).finalizeInput(index);\n            } catch (e) {}\n          }\n          this._payjoinPsbt = payjoinPsbt;\n          return this._payjoinPsbt;\n        });\n        function signPsbt(_x) {\n          return _signPsbt.apply(this, arguments);\n        }\n        return signPsbt;\n      }()\n    }, {\n      key: \"broadcastTx\",\n      value: function () {\n        var _broadcastTx = (0, _asyncToGenerator2.default)(function* (txHex) {\n          try {\n            var result = yield this._broadcast(txHex);\n            if (!result) {\n              throw new Error(`Broadcast failed`);\n            }\n            return '';\n          } catch (e) {\n            return 'Error: ' + e.message;\n          }\n        });\n        function broadcastTx(_x2) {\n          return _broadcastTx.apply(this, arguments);\n        }\n        return broadcastTx;\n      }()\n    }, {\n      key: \"scheduleBroadcastTx\",\n      value: function () {\n        var _scheduleBroadcastTx = (0, _asyncToGenerator2.default)(function* (txHex, milliseconds) {\n          var _this = this;\n          delay(milliseconds).then(/*#__PURE__*/(0, _asyncToGenerator2.default)(function* () {\n            var result = yield _this.broadcastTx(txHex);\n            if (result === '') {\n              // TODO: Improve the wording of this error message\n              (0, _hapticFeedback.default)(_hapticFeedback.HapticFeedbackTypes.NotificationError);\n              (0, _Alert.default)({\n                message: 'Something was wrong with the payjoin transaction, the original transaction successfully broadcast.'\n              });\n            }\n          }));\n        });\n        function scheduleBroadcastTx(_x3, _x4) {\n          return _scheduleBroadcastTx.apply(this, arguments);\n        }\n        return scheduleBroadcastTx;\n      }()\n    }, {\n      key: \"isOwnOutputScript\",\n      value: function () {\n        var _isOwnOutputScript = (0, _asyncToGenerator2.default)(function* (outputScript) {\n          var address = bitcoin.address.fromOutputScript(outputScript);\n          return this._wallet.weOwnAddress(address);\n        });\n        function isOwnOutputScript(_x5) {\n          return _isOwnOutputScript.apply(this, arguments);\n        }\n        return isOwnOutputScript;\n      }()\n    }]);\n  }();\n});","lineCount":168,"map":[[11,2,1,0],[11,6,1,0,"bitcoin"],[11,13,1,0],[11,16,1,0,"_interopRequireWildcard"],[11,39,1,0],[11,40,1,0,"_$$_REQUIRE"],[11,51,1,0],[11,52,1,0,"_dependencyMap"],[11,66,1,0],[12,2,4,0],[12,6,4,0,"_hapticFeedback"],[12,21,4,0],[12,24,4,0,"_interopRequireWildcard"],[12,47,4,0],[12,48,4,0,"_$$_REQUIRE"],[12,59,4,0],[12,60,4,0,"_dependencyMap"],[12,74,4,0],[13,2,5,0],[13,6,5,0,"_noble_ecc"],[13,16,5,0],[13,19,5,0,"_interopRequireDefault"],[13,41,5,0],[13,42,5,0,"_$$_REQUIRE"],[13,53,5,0],[13,54,5,0,"_dependencyMap"],[13,68,5,0],[14,2,6,0],[14,6,6,0,"_Alert"],[14,12,6,0],[14,15,6,0,"_interopRequireDefault"],[14,37,6,0],[14,38,6,0,"_$$_REQUIRE"],[14,49,6,0],[14,50,6,0,"_dependencyMap"],[14,64,6,0],[15,2,8,0],[15,6,8,0,"_assert"],[15,13,8,0],[15,16,8,0,"_interopRequireDefault"],[15,38,8,0],[15,39,8,0,"_$$_REQUIRE"],[15,50,8,0],[15,51,8,0,"_dependencyMap"],[15,65,8,0],[16,2,8,28],[16,11,8,28,"_getRequireWildcardCache"],[16,36,8,28,"e"],[16,37,8,28],[16,66,8,28,"WeakMap"],[16,73,8,28],[16,92,8,28,"r"],[16,93,8,28],[16,100,8,28,"WeakMap"],[16,107,8,28],[16,111,8,28,"t"],[16,112,8,28],[16,119,8,28,"WeakMap"],[16,126,8,28],[16,138,8,28,"_getRequireWildcardCache"],[16,162,8,28],[16,174,8,28,"_getRequireWildcardCache"],[16,199,8,28,"e"],[16,200,8,28],[16,211,8,28,"e"],[16,212,8,28],[16,215,8,28,"t"],[16,216,8,28],[16,219,8,28,"r"],[16,220,8,28],[16,225,8,28,"e"],[16,226,8,28],[17,2,8,28],[17,11,8,28,"_interopRequireWildcard"],[17,35,8,28,"e"],[17,36,8,28],[17,38,8,28,"r"],[17,39,8,28],[17,48,8,28,"r"],[17,49,8,28],[17,53,8,28,"e"],[17,54,8,28],[17,58,8,28,"e"],[17,59,8,28],[17,60,8,28,"__esModule"],[17,70,8,28],[17,79,8,28,"e"],[17,80,8,28],[17,95,8,28,"e"],[17,96,8,28],[17,119,8,28,"e"],[17,120,8,28],[17,145,8,28,"e"],[17,146,8,28],[17,157,8,28,"default"],[17,164,8,28],[17,166,8,28,"e"],[17,167,8,28],[17,175,8,28,"t"],[17,176,8,28],[17,179,8,28,"_getRequireWildcardCache"],[17,203,8,28],[17,204,8,28,"r"],[17,205,8,28],[17,212,8,28,"t"],[17,213,8,28],[17,217,8,28,"t"],[17,218,8,28],[17,219,8,28,"has"],[17,222,8,28],[17,223,8,28,"e"],[17,224,8,28],[17,234,8,28,"t"],[17,235,8,28],[17,236,8,28,"get"],[17,239,8,28],[17,240,8,28,"e"],[17,241,8,28],[17,248,8,28,"n"],[17,249,8,28],[17,254,8,28,"__proto__"],[17,263,8,28],[17,273,8,28,"a"],[17,274,8,28],[17,277,8,28,"Object"],[17,283,8,28],[17,284,8,28,"defineProperty"],[17,298,8,28],[17,302,8,28,"Object"],[17,308,8,28],[17,309,8,28,"getOwnPropertyDescriptor"],[17,333,8,28],[17,344,8,28,"u"],[17,345,8,28],[17,349,8,28,"e"],[17,350,8,28],[17,370,8,28,"u"],[17,371,8,28],[17,378,8,28,"hasOwnProperty"],[17,392,8,28],[17,393,8,28,"call"],[17,397,8,28],[17,398,8,28,"e"],[17,399,8,28],[17,401,8,28,"u"],[17,402,8,28],[17,411,8,28,"i"],[17,412,8,28],[17,415,8,28,"a"],[17,416,8,28],[17,419,8,28,"Object"],[17,425,8,28],[17,426,8,28,"getOwnPropertyDescriptor"],[17,450,8,28],[17,451,8,28,"e"],[17,452,8,28],[17,454,8,28,"u"],[17,455,8,28],[17,465,8,28,"i"],[17,466,8,28],[17,471,8,28,"i"],[17,472,8,28],[17,473,8,28,"get"],[17,476,8,28],[17,480,8,28,"i"],[17,481,8,28],[17,482,8,28,"set"],[17,485,8,28],[17,489,8,28,"Object"],[17,495,8,28],[17,496,8,28,"defineProperty"],[17,510,8,28],[17,511,8,28,"n"],[17,512,8,28],[17,514,8,28,"u"],[17,515,8,28],[17,517,8,28,"i"],[17,518,8,28],[17,522,8,28,"n"],[17,523,8,28],[17,524,8,28,"u"],[17,525,8,28],[17,529,8,28,"e"],[17,530,8,28],[17,531,8,28,"u"],[17,532,8,28],[17,544,8,28,"n"],[17,545,8,28],[17,546,8,28,"default"],[17,553,8,28],[17,556,8,28,"e"],[17,557,8,28],[17,559,8,28,"t"],[17,560,8,28],[17,564,8,28,"t"],[17,565,8,28],[17,566,8,28,"set"],[17,569,8,28],[17,570,8,28,"e"],[17,571,8,28],[17,573,8,28,"n"],[17,574,8,28],[17,577,8,28,"n"],[17,578,8,28],[18,2,10,0],[18,6,10,6,"ECPair"],[18,12,10,12],[18,15,10,15],[18,19,10,15,"ECPairFactory"],[18,50,10,15],[18,51,10,15,"ECPairFactory"],[18,74,10,28],[18,76,10,29,"ecc"],[18,94,10,32],[18,95,10,33],[19,2,12,0],[19,6,12,6,"delay"],[19,11,12,11],[19,14,12,14],[19,23,12,6,"delay"],[19,28,12,11,"delay"],[19,29,12,15,"milliseconds"],[19,41,12,35],[20,4,12,35],[20,11,12,40],[20,15,12,44,"Promise"],[20,22,12,51],[20,23,12,52],[20,33,12,52,"resolve"],[20,40,12,59],[21,6,12,59],[21,13,12,63,"setTimeout"],[21,23,12,73],[21,24,12,74,"resolve"],[21,31,12,81],[21,33,12,83,"milliseconds"],[21,45,12,95],[21,46,12,96],[22,4,12,96],[22,6,12,97],[23,2,12,97],[25,2,14,0],[26,2,15,0],[27,2,15,0],[27,6,16,21,"PayjoinTransaction"],[27,24,16,39],[27,27,16,39,"exports"],[27,34,16,39],[27,35,16,39,"default"],[27,42,16,39],[28,4,22,2],[28,13,22,2,"PayjoinTransaction"],[28,32,22,14,"psbt"],[28,36,22,32],[28,38,22,34,"broadcast"],[28,47,22,89],[28,49,22,91,"wallet"],[28,55,22,119],[28,57,22,121],[29,6,22,121],[29,10,22,121,"_classCallCheck2"],[29,26,22,121],[29,27,22,121,"default"],[29,34,22,121],[29,42,22,121,"PayjoinTransaction"],[29,60,22,121],[30,6,23,4],[30,10,23,8],[30,11,23,9,"_psbt"],[30,16,23,14],[30,19,23,17,"psbt"],[30,23,23,21],[31,6,24,4],[31,10,24,8],[31,11,24,9,"_broadcast"],[31,21,24,19],[31,24,24,22,"broadcast"],[31,33,24,31],[32,6,25,4],[32,10,25,8],[32,11,25,9,"_wallet"],[32,18,25,16],[32,21,25,19,"wallet"],[32,27,25,25],[33,6,26,4],[33,10,26,8],[33,11,26,9,"_payjoinPsbt"],[33,23,26,21],[33,26,26,24],[33,31,26,29],[34,4,27,2],[35,4,27,3],[35,15,27,3,"_createClass2"],[35,28,27,3],[35,29,27,3,"default"],[35,36,27,3],[35,38,27,3,"PayjoinTransaction"],[35,56,27,3],[36,6,27,3,"key"],[36,9,27,3],[37,6,27,3,"value"],[37,11,27,3],[38,8,27,3],[38,12,27,3,"_getPsbt"],[38,20,27,3],[38,27,27,3,"_asyncToGenerator2"],[38,45,27,3],[38,46,27,3,"default"],[38,53,27,3],[38,55,29,2],[38,68,29,18],[39,10,30,4],[40,10,31,4],[40,14,31,10,"unfinalized"],[40,25,31,21],[40,28,31,24],[40,32,31,28],[40,33,31,29,"_psbt"],[40,38,31,34],[40,39,31,35,"clone"],[40,44,31,40],[40,45,31,41],[40,46,31,42],[41,10,32,4],[41,19,32,4,"_ref"],[41,23,32,4],[41,27,32,33,"unfinalized"],[41,38,32,44],[41,39,32,45,"data"],[41,43,32,49],[41,44,32,50,"inputs"],[41,50,32,56],[41,51,32,57,"entries"],[41,58,32,64],[41,59,32,65],[41,60,32,66],[41,62,32,68],[42,12,32,68],[42,16,32,68,"_ref2"],[42,21,32,68],[42,28,32,68,"_slicedToArray2"],[42,43,32,68],[42,44,32,68,"default"],[42,51,32,68],[42,53,32,68,"_ref"],[42,57,32,68],[43,12,32,68],[43,16,32,16,"index"],[43,21,32,21],[43,24,32,21,"_ref2"],[43,29,32,21],[44,12,32,21],[44,16,32,23,"input"],[44,21,32,28],[44,24,32,28,"_ref2"],[44,29,32,28],[45,12,33,6],[45,19,33,13,"input"],[45,24,33,18],[45,25,33,19,"finalScriptWitness"],[45,43,33,37],[46,12,35,6],[46,16,35,6,"assert"],[46,31,35,12],[46,33,35,13,"input"],[46,38,35,18],[46,39,35,19,"witnessUtxo"],[46,50,35,30],[46,52,35,32],[46,98,35,78],[46,99,35,79],[47,12,36,6],[47,16,36,12,"address"],[47,23,36,19],[47,26,36,22,"bitcoin"],[47,33,36,29],[47,34,36,30,"address"],[47,41,36,37],[47,42,36,38,"fromOutputScript"],[47,58,36,54],[47,59,36,55,"input"],[47,64,36,60],[47,65,36,61,"witnessUtxo"],[47,76,36,72],[47,77,36,73,"script"],[47,83,36,79],[47,84,36,80],[48,12,37,6],[48,16,37,12,"wif"],[48,19,37,15],[48,22,37,18],[48,26,37,22],[48,27,37,23,"_wallet"],[48,34,37,30],[48,35,37,31,"_getWifForAddress"],[48,52,37,48],[48,53,37,49,"address"],[48,60,37,56],[48,61,37,57],[49,12,38,6],[49,16,38,12,"keyPair"],[49,23,38,19],[49,26,38,22,"ECPair"],[49,32,38,28],[49,33,38,29,"fromWIF"],[49,40,38,36],[49,41,38,37,"wif"],[49,44,38,40],[49,45,38,41],[50,12,40,6,"unfinalized"],[50,23,40,17],[50,24,40,18,"signInput"],[50,33,40,27],[50,34,40,28,"index"],[50,39,40,33],[50,41,40,35,"keyPair"],[50,48,40,42],[50,49,40,43],[51,10,41,4],[53,10,43,4],[54,10,44,4],[55,10,45,4],[56,10,46,4],[56,14,46,10,"origclone"],[56,23,46,19],[56,26,46,22,"unfinalized"],[56,37,46,33],[56,38,46,34,"clone"],[56,43,46,39],[57,10,47,4,"unfinalized"],[57,21,47,15],[57,22,47,16,"clone"],[57,27,47,21],[57,30,47,24],[57,42,47,30],[58,12,48,6],[58,16,48,12,"newPsbt"],[58,23,48,19],[58,26,48,22,"origclone"],[58,35,48,31],[58,36,48,32,"apply"],[58,41,48,37],[58,42,48,38,"unfinalized"],[58,53,48,49],[58,54,48,50],[59,12,49,6],[59,16,49,12,"original"],[59,24,49,20],[59,27,49,23,"newPsbt"],[59,34,49,30],[59,35,49,31,"txOutputs"],[59,44,49,40],[60,12,51,6,"Object"],[60,18,51,12],[60,19,51,13,"defineProperty"],[60,33,51,27],[60,34,51,28,"newPsbt"],[60,41,51,35],[60,43,51,37],[60,54,51,48],[60,56,51,50],[61,14,52,8,"get"],[61,17,52,11],[61,28,52,8,"get"],[61,31,52,11,"get"],[61,32,52,11],[61,34,52,14],[62,16,53,10],[62,23,53,17,"original"],[62,31,53,25],[62,32,53,26,"map"],[62,35,53,29],[62,36,53,30],[62,46,53,30,"o"],[62,47,53,31],[63,18,53,31],[63,25,53,31,"Object"],[63,31,53,31],[63,32,53,31,"assign"],[63,38,53,31],[63,43,54,15,"o"],[63,44,54,16],[64,20,55,12,"script"],[64,26,55,18],[64,28,55,20,"Buffer"],[64,34,55,26],[64,35,55,27,"from"],[64,39,55,31],[64,40,55,32],[64,44,55,32,"uint8ArrayToHex"],[64,75,55,32],[64,76,55,32,"uint8ArrayToHex"],[64,128,55,47],[64,130,55,48,"o"],[64,131,55,49],[64,132,55,50,"script"],[64,138,55,56],[64,139,55,57],[64,141,55,59],[64,146,55,64],[65,18,55,65],[66,16,55,65],[66,17,56,12],[66,18,56,13],[67,14,57,8],[68,12,58,6],[68,13,58,7],[68,14,58,8],[69,12,60,6],[69,19,60,13,"newPsbt"],[69,26,60,20],[70,10,61,4],[70,11,61,5],[71,10,63,4],[71,17,63,11,"unfinalized"],[71,28,63,22],[72,8,64,2],[72,9,64,3],[73,8,64,3],[73,17,29,8,"getPsbt"],[73,24,29,15,"getPsbt"],[73,25,29,15],[74,10,29,15],[74,17,29,15,"_getPsbt"],[74,25,29,15],[74,26,29,15,"apply"],[74,31,29,15],[74,38,29,15,"arguments"],[74,47,29,15],[75,8,29,15],[76,8,29,15],[76,15,29,8,"getPsbt"],[76,22,29,15],[77,6,29,15],[78,6,66,2],[79,0,67,0],[80,0,68,0],[81,0,69,0],[82,0,70,0],[83,4,66,2],[84,6,66,2,"key"],[84,9,66,2],[85,6,66,2,"value"],[85,11,66,2],[85,13,71,2],[85,22,71,2,"getPayjoinPsbt"],[85,36,71,16,"getPayjoinPsbt"],[85,37,71,16],[85,39,71,19],[86,8,72,4],[86,15,72,11],[86,19,72,15],[86,20,72,16,"_payjoinPsbt"],[86,32,72,28],[87,6,73,2],[88,4,73,3],[89,6,73,3,"key"],[89,9,73,3],[90,6,73,3,"value"],[90,11,73,3],[91,8,73,3],[91,12,73,3,"_signPsbt"],[91,21,73,3],[91,28,73,3,"_asyncToGenerator2"],[91,46,73,3],[91,47,73,3,"default"],[91,54,73,3],[91,56,75,2],[91,67,75,17,"payjoinPsbt"],[91,78,75,42],[91,80,75,44],[92,10,76,4],[94,10,78,4],[94,19,78,4,"_ref3"],[94,24,78,4],[94,28,78,33,"payjoinPsbt"],[94,39,78,44],[94,40,78,45,"data"],[94,44,78,49],[94,45,78,50,"inputs"],[94,51,78,56],[94,52,78,57,"entries"],[94,59,78,64],[94,60,78,65],[94,61,78,66],[94,63,78,68],[95,12,78,68],[95,16,78,68,"_ref4"],[95,21,78,68],[95,28,78,68,"_slicedToArray2"],[95,43,78,68],[95,44,78,68,"default"],[95,51,78,68],[95,53,78,68,"_ref3"],[95,58,78,68],[96,12,78,68],[96,16,78,16,"index"],[96,21,78,21],[96,24,78,21,"_ref4"],[96,29,78,21],[97,12,78,21],[97,16,78,23,"input"],[97,21,78,28],[97,24,78,28,"_ref4"],[97,29,78,28],[98,12,79,6],[98,16,79,6,"assert"],[98,31,79,12],[98,33,79,13,"input"],[98,38,79,18],[98,39,79,19,"witnessUtxo"],[98,50,79,30],[98,52,79,32],[98,98,79,78],[98,99,79,79],[99,12,80,6],[99,16,80,12,"address"],[99,23,80,19],[99,26,80,22,"bitcoin"],[99,33,80,29],[99,34,80,30,"address"],[99,41,80,37],[99,42,80,38,"fromOutputScript"],[99,58,80,54],[99,59,80,55,"input"],[99,64,80,60],[99,65,80,61,"witnessUtxo"],[99,76,80,72],[99,77,80,73,"script"],[99,83,80,79],[99,84,80,80],[100,12,81,6],[100,16,81,10],[101,14,82,8],[101,18,82,14,"wif"],[101,21,82,17],[101,24,82,20],[101,28,82,24],[101,29,82,25,"_wallet"],[101,36,82,32],[101,37,82,33,"_getWifForAddress"],[101,54,82,50],[101,55,82,51,"address"],[101,62,82,58],[101,63,82,59],[102,14,83,8],[102,18,83,14,"keyPair"],[102,25,83,21],[102,28,83,24,"ECPair"],[102,34,83,30],[102,35,83,31,"fromWIF"],[102,42,83,38],[102,43,83,39,"wif"],[102,46,83,42],[102,47,83,43],[103,14,84,8,"payjoinPsbt"],[103,25,84,19],[103,26,84,20,"signInput"],[103,35,84,29],[103,36,84,30,"index"],[103,41,84,35],[103,43,84,37,"keyPair"],[103,50,84,44],[103,51,84,45],[103,52,84,46,"finalizeInput"],[103,65,84,59],[103,66,84,60,"index"],[103,71,84,65],[103,72,84,66],[104,12,85,6],[104,13,85,7],[104,14,85,8],[104,21,85,15,"e"],[104,22,85,16],[104,24,85,18],[104,25,85,19],[105,10,86,4],[106,10,87,4],[106,14,87,8],[106,15,87,9,"_payjoinPsbt"],[106,27,87,21],[106,30,87,24,"payjoinPsbt"],[106,41,87,35],[107,10,88,4],[107,17,88,11],[107,21,88,15],[107,22,88,16,"_payjoinPsbt"],[107,34,88,28],[108,8,89,2],[108,9,89,3],[109,8,89,3],[109,17,75,8,"signPsbt"],[109,25,75,16,"signPsbt"],[109,26,75,16,"_x"],[109,28,75,16],[110,10,75,16],[110,17,75,16,"_signPsbt"],[110,26,75,16],[110,27,75,16,"apply"],[110,32,75,16],[110,39,75,16,"arguments"],[110,48,75,16],[111,8,75,16],[112,8,75,16],[112,15,75,8,"signPsbt"],[112,23,75,16],[113,6,75,16],[114,4,75,16],[115,6,75,16,"key"],[115,9,75,16],[116,6,75,16,"value"],[116,11,75,16],[117,8,75,16],[117,12,75,16,"_broadcastTx"],[117,24,75,16],[117,31,75,16,"_asyncToGenerator2"],[117,49,75,16],[117,50,75,16,"default"],[117,57,75,16],[117,59,91,2],[117,70,91,20,"txHex"],[117,75,91,33],[117,77,91,35],[118,10,92,4],[118,14,92,8],[119,12,93,6],[119,16,93,12,"result"],[119,22,93,18],[119,31,93,27],[119,35,93,31],[119,36,93,32,"_broadcast"],[119,46,93,42],[119,47,93,43,"txHex"],[119,52,93,48],[119,53,93,49],[120,12,94,6],[120,16,94,10],[120,17,94,11,"result"],[120,23,94,17],[120,25,94,19],[121,14,95,8],[121,20,95,14],[121,24,95,18,"Error"],[121,29,95,23],[121,30,95,24],[121,48,95,42],[121,49,95,43],[122,12,96,6],[123,12,97,6],[123,19,97,13],[123,21,97,15],[124,10,98,4],[124,11,98,5],[124,12,98,6],[124,19,98,13,"e"],[124,20,98,19],[124,22,98,21],[125,12,99,6],[125,19,99,13],[125,28,99,22],[125,31,99,25,"e"],[125,32,99,26],[125,33,99,27,"message"],[125,40,99,34],[126,10,100,4],[127,8,101,2],[127,9,101,3],[128,8,101,3],[128,17,91,8,"broadcastTx"],[128,28,91,19,"broadcastTx"],[128,29,91,19,"_x2"],[128,32,91,19],[129,10,91,19],[129,17,91,19,"_broadcastTx"],[129,29,91,19],[129,30,91,19,"apply"],[129,35,91,19],[129,42,91,19,"arguments"],[129,51,91,19],[130,8,91,19],[131,8,91,19],[131,15,91,8,"broadcastTx"],[131,26,91,19],[132,6,91,19],[133,4,91,19],[134,6,91,19,"key"],[134,9,91,19],[135,6,91,19,"value"],[135,11,91,19],[136,8,91,19],[136,12,91,19,"_scheduleBroadcastTx"],[136,32,91,19],[136,39,91,19,"_asyncToGenerator2"],[136,57,91,19],[136,58,91,19,"default"],[136,65,91,19],[136,67,103,2],[136,78,103,28,"txHex"],[136,83,103,41],[136,85,103,43,"milliseconds"],[136,97,103,63],[136,99,103,65],[137,10,103,65],[137,14,103,65,"_this"],[137,19,103,65],[138,10,104,4,"delay"],[138,15,104,9],[138,16,104,10,"milliseconds"],[138,28,104,22],[138,29,104,23],[138,30,104,24,"then"],[138,34,104,28],[138,52,104,28,"_asyncToGenerator2"],[138,70,104,28],[138,71,104,28,"default"],[138,78,104,28],[138,80,104,29],[138,93,104,41],[139,12,105,6],[139,16,105,12,"result"],[139,22,105,18],[139,31,105,27,"_this"],[139,36,105,31],[139,37,105,32,"broadcastTx"],[139,48,105,43],[139,49,105,44,"txHex"],[139,54,105,49],[139,55,105,50],[140,12,106,6],[140,16,106,10,"result"],[140,22,106,16],[140,27,106,21],[140,29,106,23],[140,31,106,25],[141,14,107,8],[142,14,108,8],[142,18,108,8,"triggerHapticFeedback"],[142,41,108,29],[142,43,108,30,"HapticFeedbackTypes"],[142,78,108,49],[142,79,108,50,"NotificationError"],[142,96,108,67],[142,97,108,68],[143,14,109,8],[143,18,109,8,"presentAlert"],[143,32,109,20],[143,34,109,21],[144,16,109,23,"message"],[144,23,109,30],[144,25,109,32],[145,14,109,133],[145,15,109,134],[145,16,109,135],[146,12,110,6],[147,10,111,4],[147,11,111,5],[147,13,111,6],[148,8,112,2],[148,9,112,3],[149,8,112,3],[149,17,103,8,"scheduleBroadcastTx"],[149,36,103,27,"scheduleBroadcastTx"],[149,37,103,27,"_x3"],[149,40,103,27],[149,42,103,27,"_x4"],[149,45,103,27],[150,10,103,27],[150,17,103,27,"_scheduleBroadcastTx"],[150,37,103,27],[150,38,103,27,"apply"],[150,43,103,27],[150,50,103,27,"arguments"],[150,59,103,27],[151,8,103,27],[152,8,103,27],[152,15,103,8,"scheduleBroadcastTx"],[152,34,103,27],[153,6,103,27],[154,4,103,27],[155,6,103,27,"key"],[155,9,103,27],[156,6,103,27,"value"],[156,11,103,27],[157,8,103,27],[157,12,103,27,"_isOwnOutputScript"],[157,30,103,27],[157,37,103,27,"_asyncToGenerator2"],[157,55,103,27],[157,56,103,27,"default"],[157,63,103,27],[157,65,114,2],[157,76,114,26,"outputScript"],[157,88,114,46],[157,90,114,48],[158,10,115,4],[158,14,115,10,"address"],[158,21,115,17],[158,24,115,20,"bitcoin"],[158,31,115,27],[158,32,115,28,"address"],[158,39,115,35],[158,40,115,36,"fromOutputScript"],[158,56,115,52],[158,57,115,53,"outputScript"],[158,69,115,65],[158,70,115,66],[159,10,117,4],[159,17,117,11],[159,21,117,15],[159,22,117,16,"_wallet"],[159,29,117,23],[159,30,117,24,"weOwnAddress"],[159,42,117,36],[159,43,117,37,"address"],[159,50,117,44],[159,51,117,45],[160,8,118,2],[160,9,118,3],[161,8,118,3],[161,17,114,8,"isOwnOutputScript"],[161,34,114,25,"isOwnOutputScript"],[161,35,114,25,"_x5"],[161,38,114,25],[162,10,114,25],[162,17,114,25,"_isOwnOutputScript"],[162,35,114,25],[162,36,114,25,"apply"],[162,41,114,25],[162,48,114,25,"arguments"],[162,57,114,25],[163,8,114,25],[164,8,114,25],[164,15,114,8,"isOwnOutputScript"],[164,32,114,25],[165,6,114,25],[166,4,114,25],[167,2,114,25],[168,0,114,25],[168,3]],"functionMap":{"names":["<global>","delay","Promise$argument_0","PayjoinTransaction","PayjoinTransaction#constructor","PayjoinTransaction#getPsbt","unfinalized.clone","Object.defineProperty$argument_2.get","original.map$argument_0","PayjoinTransaction#getPayjoinPsbt","PayjoinTransaction#signPsbt","PayjoinTransaction#broadcastTx","PayjoinTransaction#scheduleBroadcastTx","delay.then$argument_0","PayjoinTransaction#isOwnOutputScript"],"mappings":"AAA;cCW,sCC,4CD,CD;eGI;ECM;GDK;EEE;wBCkB;QCK;8BCC;YDG;SDC;KDI;GFG;EMO;GNE;EOE;GPc;EQE;GRU;ESE;6BCC;KDO;GTC;EWE;GXI;CHC"}},"type":"js/module"}]}