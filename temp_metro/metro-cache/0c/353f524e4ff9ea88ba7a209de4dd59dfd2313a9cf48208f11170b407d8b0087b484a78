{"dependencies":[{"name":"uint8array-tools","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":15,"column":27,"index":462},"end":{"line":15,"column":54,"index":489}}],"key":"d9z2uhLIsbEZR4MIqnLfYd/zTK8="}},{"name":"../../typeFields.cjs","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":14,"column":24,"index":402},"end":{"line":14,"column":55,"index":433}},{"start":{"line":14,"column":24,"index":402},"end":{"line":14,"column":55,"index":433}}],"key":"6VKrghDrlipK/Kkfa9oBo7LMnas="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var __importStar = this && this.__importStar || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result['default'] = mod;\n    return result;\n  };\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var tools = __importStar(_$$_REQUIRE(_dependencyMap[0], \"uint8array-tools\"));\n  function decode(keyVal) {\n    if (keyVal.key[0] !== _$$_REQUIRE(_dependencyMap[1], \"../../typeFields.cjs\").InputTypes.TAP_SCRIPT_SIG) {\n      throw new Error('Decode Error: could not decode tapScriptSig with key 0x' + tools.toHex(keyVal.key));\n    }\n    if (keyVal.key.length !== 65) {\n      throw new Error('Decode Error: tapScriptSig has invalid key 0x' + tools.toHex(keyVal.key));\n    }\n    if (keyVal.value.length !== 64 && keyVal.value.length !== 65) {\n      throw new Error('Decode Error: tapScriptSig has invalid signature in key 0x' + tools.toHex(keyVal.key));\n    }\n    var pubkey = keyVal.key.slice(1, 33);\n    var leafHash = keyVal.key.slice(33);\n    return {\n      pubkey: pubkey,\n      leafHash: leafHash,\n      signature: keyVal.value\n    };\n  }\n  exports.decode = decode;\n  function encode(tSig) {\n    var head = Uint8Array.from([_$$_REQUIRE(_dependencyMap[1], \"../../typeFields.cjs\").InputTypes.TAP_SCRIPT_SIG]);\n    return {\n      key: tools.concat([head, tSig.pubkey, tSig.leafHash]),\n      value: tSig.signature\n    };\n  }\n  exports.encode = encode;\n  exports.expected = '{ pubkey: Uint8Array; leafHash: Uint8Array; signature: Uint8Array; }';\n  function check(data) {\n    return data.pubkey instanceof Uint8Array && data.leafHash instanceof Uint8Array && data.signature instanceof Uint8Array && data.pubkey.length === 32 && data.leafHash.length === 32 && (data.signature.length === 64 || data.signature.length === 65);\n  }\n  exports.check = check;\n  function canAddToArray(array, item, dupeSet) {\n    var dupeString = tools.toHex(item.pubkey) + tools.toHex(item.leafHash);\n    if (dupeSet.has(dupeString)) return false;\n    dupeSet.add(dupeString);\n    return array.filter(function (v) {\n      return tools.compare(v.pubkey, item.pubkey) === 0 && tools.compare(v.leafHash, item.leafHash) === 0;\n    }).length === 0;\n  }\n  exports.canAddToArray = canAddToArray;\n});","lineCount":56,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0],[4,6,2,4,"__importStar"],[4,18,2,16],[4,21,3,3],[4,25,3,7],[4,29,3,11],[4,33,3,15],[4,34,3,16,"__importStar"],[4,46,3,28],[4,50,4,2],[4,60,4,11,"mod"],[4,63,4,14],[4,65,4,16],[5,4,5,4],[5,8,5,8,"mod"],[5,11,5,11],[5,15,5,15,"mod"],[5,18,5,18],[5,19,5,19,"__esModule"],[5,29,5,29],[5,31,5,31],[5,38,5,38,"mod"],[5,41,5,41],[6,4,6,4],[6,8,6,8,"result"],[6,14,6,14],[6,17,6,17],[6,18,6,18],[6,19,6,19],[7,4,7,4],[7,8,7,8,"mod"],[7,11,7,11],[7,15,7,15],[7,19,7,19],[7,21,8,6],[7,26,8,11],[7,30,8,15,"k"],[7,31,8,16],[7,35,8,20,"mod"],[7,38,8,23],[7,40,9,8],[7,44,9,12,"Object"],[7,50,9,18],[7,51,9,19,"hasOwnProperty"],[7,65,9,33],[7,66,9,34,"call"],[7,70,9,38],[7,71,9,39,"mod"],[7,74,9,42],[7,76,9,44,"k"],[7,77,9,45],[7,78,9,46],[7,80,9,48,"result"],[7,86,9,54],[7,87,9,55,"k"],[7,88,9,56],[7,89,9,57],[7,92,9,60,"mod"],[7,95,9,63],[7,96,9,64,"k"],[7,97,9,65],[7,98,9,66],[8,4,10,4,"result"],[8,10,10,10],[8,11,10,11],[8,20,10,20],[8,21,10,21],[8,24,10,24,"mod"],[8,27,10,27],[9,4,11,4],[9,11,11,11,"result"],[9,17,11,17],[10,2,12,2],[10,3,12,3],[11,2,13,0,"Object"],[11,8,13,6],[11,9,13,7,"defineProperty"],[11,23,13,21],[11,24,13,22,"exports"],[11,31,13,29],[11,33,13,31],[11,45,13,43],[11,47,13,45],[12,4,13,47,"value"],[12,9,13,52],[12,11,13,54],[13,2,13,59],[13,3,13,60],[13,4,13,61],[14,2,15,0],[14,6,15,6,"tools"],[14,11,15,11],[14,14,15,14,"__importStar"],[14,26,15,26],[14,27,15,27,"require"],[14,38,15,34],[14,39,15,34,"_dependencyMap"],[14,53,15,34],[14,76,15,53],[14,77,15,54],[14,78,15,55],[15,2,16,0],[15,11,16,9,"decode"],[15,17,16,15,"decode"],[15,18,16,16,"keyVal"],[15,24,16,22],[15,26,16,24],[16,4,17,2],[16,8,17,6,"keyVal"],[16,14,17,12],[16,15,17,13,"key"],[16,18,17,16],[16,19,17,17],[16,20,17,18],[16,21,17,19],[16,26,17,24,"_$$_REQUIRE"],[16,37,17,24],[16,38,17,24,"_dependencyMap"],[16,52,17,24],[16,81,17,40,"InputTypes"],[16,91,17,50],[16,92,17,51,"TAP_SCRIPT_SIG"],[16,106,17,65],[16,108,17,67],[17,6,18,4],[17,12,18,10],[17,16,18,14,"Error"],[17,21,18,19],[17,22,19,6],[17,79,19,63],[17,82,20,8,"tools"],[17,87,20,13],[17,88,20,14,"toHex"],[17,93,20,19],[17,94,20,20,"keyVal"],[17,100,20,26],[17,101,20,27,"key"],[17,104,20,30],[17,105,21,4],[17,106,21,5],[18,4,22,2],[19,4,23,2],[19,8,23,6,"keyVal"],[19,14,23,12],[19,15,23,13,"key"],[19,18,23,16],[19,19,23,17,"length"],[19,25,23,23],[19,30,23,28],[19,32,23,30],[19,34,23,32],[20,6,24,4],[20,12,24,10],[20,16,24,14,"Error"],[20,21,24,19],[20,22,25,6],[20,69,25,53],[20,72,25,56,"tools"],[20,77,25,61],[20,78,25,62,"toHex"],[20,83,25,67],[20,84,25,68,"keyVal"],[20,90,25,74],[20,91,25,75,"key"],[20,94,25,78],[20,95,26,4],[20,96,26,5],[21,4,27,2],[22,4,28,2],[22,8,28,6,"keyVal"],[22,14,28,12],[22,15,28,13,"value"],[22,20,28,18],[22,21,28,19,"length"],[22,27,28,25],[22,32,28,30],[22,34,28,32],[22,38,28,36,"keyVal"],[22,44,28,42],[22,45,28,43,"value"],[22,50,28,48],[22,51,28,49,"length"],[22,57,28,55],[22,62,28,60],[22,64,28,62],[22,66,28,64],[23,6,29,4],[23,12,29,10],[23,16,29,14,"Error"],[23,21,29,19],[23,22,30,6],[23,82,30,66],[23,85,31,8,"tools"],[23,90,31,13],[23,91,31,14,"toHex"],[23,96,31,19],[23,97,31,20,"keyVal"],[23,103,31,26],[23,104,31,27,"key"],[23,107,31,30],[23,108,32,4],[23,109,32,5],[24,4,33,2],[25,4,34,2],[25,8,34,8,"pubkey"],[25,14,34,14],[25,17,34,17,"keyVal"],[25,23,34,23],[25,24,34,24,"key"],[25,27,34,27],[25,28,34,28,"slice"],[25,33,34,33],[25,34,34,34],[25,35,34,35],[25,37,34,37],[25,39,34,39],[25,40,34,40],[26,4,35,2],[26,8,35,8,"leafHash"],[26,16,35,16],[26,19,35,19,"keyVal"],[26,25,35,25],[26,26,35,26,"key"],[26,29,35,29],[26,30,35,30,"slice"],[26,35,35,35],[26,36,35,36],[26,38,35,38],[26,39,35,39],[27,4,36,2],[27,11,36,9],[28,6,37,4,"pubkey"],[28,12,37,10],[28,14,37,4,"pubkey"],[28,20,37,10],[29,6,38,4,"leafHash"],[29,14,38,12],[29,16,38,4,"leafHash"],[29,24,38,12],[30,6,39,4,"signature"],[30,15,39,13],[30,17,39,15,"keyVal"],[30,23,39,21],[30,24,39,22,"value"],[31,4,40,2],[31,5,40,3],[32,2,41,0],[33,2,42,0,"exports"],[33,9,42,7],[33,10,42,8,"decode"],[33,16,42,14],[33,19,42,17,"decode"],[33,25,42,23],[34,2,43,0],[34,11,43,9,"encode"],[34,17,43,15,"encode"],[34,18,43,16,"tSig"],[34,22,43,20],[34,24,43,22],[35,4,44,2],[35,8,44,8,"head"],[35,12,44,12],[35,15,44,15,"Uint8Array"],[35,25,44,25],[35,26,44,26,"from"],[35,30,44,30],[35,31,44,31],[35,32,44,32,"_$$_REQUIRE"],[35,43,44,32],[35,44,44,32,"_dependencyMap"],[35,58,44,32],[35,87,44,48,"InputTypes"],[35,97,44,58],[35,98,44,59,"TAP_SCRIPT_SIG"],[35,112,44,73],[35,113,44,74],[35,114,44,75],[36,4,45,2],[36,11,45,9],[37,6,46,4,"key"],[37,9,46,7],[37,11,46,9,"tools"],[37,16,46,14],[37,17,46,15,"concat"],[37,23,46,21],[37,24,46,22],[37,25,46,23,"head"],[37,29,46,27],[37,31,46,29,"tSig"],[37,35,46,33],[37,36,46,34,"pubkey"],[37,42,46,40],[37,44,46,42,"tSig"],[37,48,46,46],[37,49,46,47,"leafHash"],[37,57,46,55],[37,58,46,56],[37,59,46,57],[38,6,47,4,"value"],[38,11,47,9],[38,13,47,11,"tSig"],[38,17,47,15],[38,18,47,16,"signature"],[39,4,48,2],[39,5,48,3],[40,2,49,0],[41,2,50,0,"exports"],[41,9,50,7],[41,10,50,8,"encode"],[41,16,50,14],[41,19,50,17,"encode"],[41,25,50,23],[42,2,51,0,"exports"],[42,9,51,7],[42,10,51,8,"expected"],[42,18,51,16],[42,21,52,2],[42,91,52,72],[43,2,53,0],[43,11,53,9,"check"],[43,16,53,14,"check"],[43,17,53,15,"data"],[43,21,53,19],[43,23,53,21],[44,4,54,2],[44,11,55,4,"data"],[44,15,55,8],[44,16,55,9,"pubkey"],[44,22,55,15],[44,34,55,27,"Uint8Array"],[44,44,55,37],[44,48,56,4,"data"],[44,52,56,8],[44,53,56,9,"leafHash"],[44,61,56,17],[44,73,56,29,"Uint8Array"],[44,83,56,39],[44,87,57,4,"data"],[44,91,57,8],[44,92,57,9,"signature"],[44,101,57,18],[44,113,57,30,"Uint8Array"],[44,123,57,40],[44,127,58,4,"data"],[44,131,58,8],[44,132,58,9,"pubkey"],[44,138,58,15],[44,139,58,16,"length"],[44,145,58,22],[44,150,58,27],[44,152,58,29],[44,156,59,4,"data"],[44,160,59,8],[44,161,59,9,"leafHash"],[44,169,59,17],[44,170,59,18,"length"],[44,176,59,24],[44,181,59,29],[44,183,59,31],[44,188,60,5,"data"],[44,192,60,9],[44,193,60,10,"signature"],[44,202,60,19],[44,203,60,20,"length"],[44,209,60,26],[44,214,60,31],[44,216,60,33],[44,220,60,37,"data"],[44,224,60,41],[44,225,60,42,"signature"],[44,234,60,51],[44,235,60,52,"length"],[44,241,60,58],[44,246,60,63],[44,248,60,65],[44,249,60,66],[45,2,62,0],[46,2,63,0,"exports"],[46,9,63,7],[46,10,63,8,"check"],[46,15,63,13],[46,18,63,16,"check"],[46,23,63,21],[47,2,64,0],[47,11,64,9,"canAddToArray"],[47,24,64,22,"canAddToArray"],[47,25,64,23,"array"],[47,30,64,28],[47,32,64,30,"item"],[47,36,64,34],[47,38,64,36,"dupeSet"],[47,45,64,43],[47,47,64,45],[48,4,65,2],[48,8,65,8,"dupeString"],[48,18,65,18],[48,21,65,21,"tools"],[48,26,65,26],[48,27,65,27,"toHex"],[48,32,65,32],[48,33,65,33,"item"],[48,37,65,37],[48,38,65,38,"pubkey"],[48,44,65,44],[48,45,65,45],[48,48,65,48,"tools"],[48,53,65,53],[48,54,65,54,"toHex"],[48,59,65,59],[48,60,65,60,"item"],[48,64,65,64],[48,65,65,65,"leafHash"],[48,73,65,73],[48,74,65,74],[49,4,66,2],[49,8,66,6,"dupeSet"],[49,15,66,13],[49,16,66,14,"has"],[49,19,66,17],[49,20,66,18,"dupeString"],[49,30,66,28],[49,31,66,29],[49,33,66,31],[49,40,66,38],[49,45,66,43],[50,4,67,2,"dupeSet"],[50,11,67,9],[50,12,67,10,"add"],[50,15,67,13],[50,16,67,14,"dupeString"],[50,26,67,24],[50,27,67,25],[51,4,68,2],[51,11,69,4,"array"],[51,16,69,9],[51,17,69,10,"filter"],[51,23,69,16],[51,24,70,6],[51,34,70,6,"v"],[51,35,70,7],[52,6,70,7],[52,13,71,8,"tools"],[52,18,71,13],[52,19,71,14,"compare"],[52,26,71,21],[52,27,71,22,"v"],[52,28,71,23],[52,29,71,24,"pubkey"],[52,35,71,30],[52,37,71,32,"item"],[52,41,71,36],[52,42,71,37,"pubkey"],[52,48,71,43],[52,49,71,44],[52,54,71,49],[52,55,71,50],[52,59,72,8,"tools"],[52,64,72,13],[52,65,72,14,"compare"],[52,72,72,21],[52,73,72,22,"v"],[52,74,72,23],[52,75,72,24,"leafHash"],[52,83,72,32],[52,85,72,34,"item"],[52,89,72,38],[52,90,72,39,"leafHash"],[52,98,72,47],[52,99,72,48],[52,104,72,53],[52,105,72,54],[53,4,72,54],[53,5,73,4],[53,6,73,5],[53,7,73,6,"length"],[53,13,73,12],[53,18,73,17],[53,19,73,18],[54,2,75,0],[55,2,76,0,"exports"],[55,9,76,7],[55,10,76,8,"canAddToArray"],[55,23,76,21],[55,26,76,24,"canAddToArray"],[55,39,76,37],[56,0,76,38],[56,3]],"functionMap":{"names":["<global>","<anonymous>","decode","encode","check","canAddToArray","array.filter$argument_0"],"mappings":"AAA;ECG;GDQ;AEI;CFyB;AGE;CHM;AII;CJS;AKE;MCM;sDDE;CLG"}},"type":"js/module"}]}