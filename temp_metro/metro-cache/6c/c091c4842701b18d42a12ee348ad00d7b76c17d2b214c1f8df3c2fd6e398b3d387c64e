{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":71,"column":0,"index":2371}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":71,"column":0,"index":2371}}],"key":"yg7e6laZwmpbIvId5jovq9ugXp8="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":71,"column":0,"index":2371}}],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30="}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":71,"column":0,"index":2371}}],"key":"aU3Lrys8xTVpYSDJal2nhppojC8="}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":71,"column":0,"index":2371}}],"key":"4DwyfFXBA53CJWVTVj5w3kH1PUg="}},{"name":"@babel/runtime/helpers/get","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":71,"column":0,"index":2371}}],"key":"7RhWyTq5i/X0UNOgMT1VkjxHPX0="}},{"name":"@babel/runtime/helpers/inherits","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":71,"column":0,"index":2371}}],"key":"y0uNg4LxF1CLscQChxzgo5dfjvA="}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":37,"index":52}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g="}},{"name":"./Server","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":53},"end":{"line":4,"column":30,"index":83}}],"key":"9sCYoHHemTc9PQk/ZqBB2lH9kmU="}},{"name":"./TLSSocket","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":84},"end":{"line":5,"column":36,"index":120}}],"key":"j+SqCPeiy8nx9kYIyTVdQ4Gosfs="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n  var _getPrototypeOf2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/getPrototypeOf\"));\n  var _get2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/get\"));\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"@babel/runtime/helpers/inherits\"));\n  var _reactNative = _$$_REQUIRE(_dependencyMap[7], \"react-native\");\n  var _Server2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[8], \"./Server\"));\n  var _TLSSocket = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[9], \"./TLSSocket\"));\n  function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }\n  function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\n  function _superPropGet(t, o, e, r) { var p = (0, _get2.default)((0, _getPrototypeOf2.default)(1 & r ? t.prototype : t), o, e); return 2 & r && \"function\" == typeof p ? function (t) { return p.apply(e, t); } : p; }\n  /**\n   * @typedef {object} TLSServerOptions\n   * @property {any} keystore\n   *\n   * @extends {Server}\n   */\n  var TLSServer = exports.default = /*#__PURE__*/function (_Server) {\n    /**\n     * @param {(socket: TLSSocket) => void} [secureConnectionListener] Automatically set as a listener for the `'secureConnection'` event.\n     */\n    function TLSServer(secureConnectionListener) {\n      var _this;\n      (0, _classCallCheck2.default)(this, TLSServer);\n      _this = _callSuper(this, TLSServer);\n      if (secureConnectionListener) _this.on('secureConnection', secureConnectionListener);\n      _this._registerTLSEvents();\n      return _this;\n    }\n\n    /**\n     * @param {TLSServerOptions} options TLS server options\n     */\n    (0, _inherits2.default)(TLSServer, _Server);\n    return (0, _createClass2.default)(TLSServer, [{\n      key: \"setSecureContext\",\n      value: function setSecureContext(options) {\n        /** @private */\n        this._options = Object.assign({}, options);\n        this._options.keystore = _reactNative.Image.resolveAssetSource(this._options.keystore).uri;\n      }\n\n      /**\n       * Start a server listening for connections.\n       *\n       * This function is asynchronous. When the server starts listening, the `'listening'` event will be emitted.\n       * The last parameter `callback` will be added as a listener for the `'listening'` event.\n       *\n       * The `server.listen()` method can be called again if and only if there was an error during the first\n       * `server.listen()` call or `server.close()` has been called. Otherwise, an `ERR_SERVER_ALREADY_LISTEN`\n       * error will be thrown.\n       *\n       * @param {{ port: number; host: string; reuseAddress?: boolean}} options\n       * @param {() => void} [callback]\n       * @override\n       */\n    }, {\n      key: \"listen\",\n      value: function listen(options, callback) {\n        var newOptions = Object.assign({}, options);\n        // @ts-ignore\n        newOptions['tls'] = this._options;\n        return _superPropGet(TLSServer, \"listen\", this, 3)([newOptions, callback]);\n      }\n\n      /**\n       * @private\n       */\n    }, {\n      key: \"_registerTLSEvents\",\n      value: function _registerTLSEvents() {\n        var _this2 = this;\n        this._secureConnectionListener = this._eventEmitter.addListener('secureConnection', function (evt) {\n          if (evt.id !== _this2._id) return;\n          var standardSocket = _this2._buildSocket(evt.info);\n          standardSocket._unregisterEvents();\n          var tlsSocket = new _TLSSocket.default(standardSocket);\n          _this2._addConnection(tlsSocket);\n          _this2.emit('connection', standardSocket);\n          _this2.emit('secureConnection', tlsSocket);\n        });\n      }\n    }]);\n  }(_Server2.default);\n});","lineCount":94,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireDefault"],[4,28,1,13],[4,31,1,13,"_$$_REQUIRE"],[4,42,1,13],[4,43,1,13,"_dependencyMap"],[4,57,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"default"],[8,17,1,13],[9,2,1,13],[9,6,1,13,"_classCallCheck2"],[9,22,1,13],[9,25,1,13,"_interopRequireDefault"],[9,47,1,13],[9,48,1,13,"_$$_REQUIRE"],[9,59,1,13],[9,60,1,13,"_dependencyMap"],[9,74,1,13],[10,2,1,13],[10,6,1,13,"_createClass2"],[10,19,1,13],[10,22,1,13,"_interopRequireDefault"],[10,44,1,13],[10,45,1,13,"_$$_REQUIRE"],[10,56,1,13],[10,57,1,13,"_dependencyMap"],[10,71,1,13],[11,2,1,13],[11,6,1,13,"_possibleConstructorReturn2"],[11,33,1,13],[11,36,1,13,"_interopRequireDefault"],[11,58,1,13],[11,59,1,13,"_$$_REQUIRE"],[11,70,1,13],[11,71,1,13,"_dependencyMap"],[11,85,1,13],[12,2,1,13],[12,6,1,13,"_getPrototypeOf2"],[12,22,1,13],[12,25,1,13,"_interopRequireDefault"],[12,47,1,13],[12,48,1,13,"_$$_REQUIRE"],[12,59,1,13],[12,60,1,13,"_dependencyMap"],[12,74,1,13],[13,2,1,13],[13,6,1,13,"_get2"],[13,11,1,13],[13,14,1,13,"_interopRequireDefault"],[13,36,1,13],[13,37,1,13,"_$$_REQUIRE"],[13,48,1,13],[13,49,1,13,"_dependencyMap"],[13,63,1,13],[14,2,1,13],[14,6,1,13,"_inherits2"],[14,16,1,13],[14,19,1,13,"_interopRequireDefault"],[14,41,1,13],[14,42,1,13,"_$$_REQUIRE"],[14,53,1,13],[14,54,1,13,"_dependencyMap"],[14,68,1,13],[15,2,3,0],[15,6,3,0,"_reactNative"],[15,18,3,0],[15,21,3,0,"_$$_REQUIRE"],[15,32,3,0],[15,33,3,0,"_dependencyMap"],[15,47,3,0],[16,2,4,0],[16,6,4,0,"_Server2"],[16,14,4,0],[16,17,4,0,"_interopRequireDefault"],[16,39,4,0],[16,40,4,0,"_$$_REQUIRE"],[16,51,4,0],[16,52,4,0,"_dependencyMap"],[16,66,4,0],[17,2,5,0],[17,6,5,0,"_TLSSocket"],[17,16,5,0],[17,19,5,0,"_interopRequireDefault"],[17,41,5,0],[17,42,5,0,"_$$_REQUIRE"],[17,53,5,0],[17,54,5,0,"_dependencyMap"],[17,68,5,0],[18,2,5,36],[18,11,5,36,"_callSuper"],[18,22,5,36,"t"],[18,23,5,36],[18,25,5,36,"o"],[18,26,5,36],[18,28,5,36,"e"],[18,29,5,36],[18,40,5,36,"o"],[18,41,5,36],[18,48,5,36,"_getPrototypeOf2"],[18,64,5,36],[18,65,5,36,"default"],[18,72,5,36],[18,74,5,36,"o"],[18,75,5,36],[18,82,5,36,"_possibleConstructorReturn2"],[18,109,5,36],[18,110,5,36,"default"],[18,117,5,36],[18,119,5,36,"t"],[18,120,5,36],[18,122,5,36,"_isNativeReflectConstruct"],[18,147,5,36],[18,152,5,36,"Reflect"],[18,159,5,36],[18,160,5,36,"construct"],[18,169,5,36],[18,170,5,36,"o"],[18,171,5,36],[18,173,5,36,"e"],[18,174,5,36],[18,186,5,36,"_getPrototypeOf2"],[18,202,5,36],[18,203,5,36,"default"],[18,210,5,36],[18,212,5,36,"t"],[18,213,5,36],[18,215,5,36,"constructor"],[18,226,5,36],[18,230,5,36,"o"],[18,231,5,36],[18,232,5,36,"apply"],[18,237,5,36],[18,238,5,36,"t"],[18,239,5,36],[18,241,5,36,"e"],[18,242,5,36],[19,2,5,36],[19,11,5,36,"_isNativeReflectConstruct"],[19,37,5,36],[19,51,5,36,"t"],[19,52,5,36],[19,56,5,36,"Boolean"],[19,63,5,36],[19,64,5,36,"prototype"],[19,73,5,36],[19,74,5,36,"valueOf"],[19,81,5,36],[19,82,5,36,"call"],[19,86,5,36],[19,87,5,36,"Reflect"],[19,94,5,36],[19,95,5,36,"construct"],[19,104,5,36],[19,105,5,36,"Boolean"],[19,112,5,36],[19,145,5,36,"t"],[19,146,5,36],[19,159,5,36,"_isNativeReflectConstruct"],[19,184,5,36],[19,196,5,36,"_isNativeReflectConstruct"],[19,222,5,36],[19,235,5,36,"t"],[19,236,5,36],[20,2,5,36],[20,11,5,36,"_superPropGet"],[20,25,5,36,"t"],[20,26,5,36],[20,28,5,36,"o"],[20,29,5,36],[20,31,5,36,"e"],[20,32,5,36],[20,34,5,36,"r"],[20,35,5,36],[20,43,5,36,"p"],[20,44,5,36],[20,51,5,36,"_get2"],[20,56,5,36],[20,57,5,36,"default"],[20,64,5,36],[20,70,5,36,"_getPrototypeOf2"],[20,86,5,36],[20,87,5,36,"default"],[20,94,5,36],[20,100,5,36,"r"],[20,101,5,36],[20,104,5,36,"t"],[20,105,5,36],[20,106,5,36,"prototype"],[20,115,5,36],[20,118,5,36,"t"],[20,119,5,36],[20,122,5,36,"o"],[20,123,5,36],[20,125,5,36,"e"],[20,126,5,36],[20,140,5,36,"r"],[20,141,5,36],[20,166,5,36,"p"],[20,167,5,36],[20,180,5,36,"t"],[20,181,5,36],[20,192,5,36,"p"],[20,193,5,36],[20,194,5,36,"apply"],[20,199,5,36],[20,200,5,36,"e"],[20,201,5,36],[20,203,5,36,"t"],[20,204,5,36],[20,211,5,36,"p"],[20,212,5,36],[21,2,7,0],[22,0,8,0],[23,0,9,0],[24,0,10,0],[25,0,11,0],[26,0,12,0],[27,2,7,0],[27,6,13,21,"TLSServer"],[27,15,13,30],[27,18,13,30,"exports"],[27,25,13,30],[27,26,13,30,"default"],[27,33,13,30],[27,59,13,30,"_Server"],[27,66,13,30],[28,4,14,4],[29,0,15,0],[30,0,16,0],[31,4,17,4],[31,13,17,4,"TLSServer"],[31,23,17,16,"secureConnectionListener"],[31,47,17,40],[31,49,17,42],[32,6,17,42],[32,10,17,42,"_this"],[32,15,17,42],[33,6,17,42],[33,10,17,42,"_classCallCheck2"],[33,26,17,42],[33,27,17,42,"default"],[33,34,17,42],[33,42,17,42,"TLSServer"],[33,51,17,42],[34,6,18,8,"_this"],[34,11,18,8],[34,14,18,8,"_callSuper"],[34,24,18,8],[34,31,18,8,"TLSServer"],[34,40,18,8],[35,6,19,8],[35,10,19,12,"secureConnectionListener"],[35,34,19,36],[35,36,19,38,"_this"],[35,41,19,38],[35,42,19,43,"on"],[35,44,19,45],[35,45,19,46],[35,63,19,64],[35,65,19,66,"secureConnectionListener"],[35,89,19,90],[35,90,19,91],[36,6,20,8,"_this"],[36,11,20,8],[36,12,20,13,"_registerTLSEvents"],[36,30,20,31],[36,31,20,32],[36,32,20,33],[37,6,20,34],[37,13,20,34,"_this"],[37,18,20,34],[38,4,21,4],[40,4,23,4],[41,0,24,0],[42,0,25,0],[43,4,23,4],[43,8,23,4,"_inherits2"],[43,18,23,4],[43,19,23,4,"default"],[43,26,23,4],[43,28,23,4,"TLSServer"],[43,37,23,4],[43,39,23,4,"_Server"],[43,46,23,4],[44,4,23,4],[44,15,23,4,"_createClass2"],[44,28,23,4],[44,29,23,4,"default"],[44,36,23,4],[44,38,23,4,"TLSServer"],[44,47,23,4],[45,6,23,4,"key"],[45,9,23,4],[46,6,23,4,"value"],[46,11,23,4],[46,13,26,4],[46,22,26,4,"setSecureContext"],[46,38,26,20,"setSecureContext"],[46,39,26,21,"options"],[46,46,26,28],[46,48,26,30],[47,8,27,8],[48,8,28,8],[48,12,28,12],[48,13,28,13,"_options"],[48,21,28,21],[48,24,28,21,"Object"],[48,30,28,21],[48,31,28,21,"assign"],[48,37,28,21],[48,42,28,29,"options"],[48,49,28,36],[48,50,28,38],[49,8,29,8],[49,12,29,12],[49,13,29,13,"_options"],[49,21,29,21],[49,22,29,22,"keystore"],[49,30,29,30],[49,33,29,33,"Image"],[49,51,29,38],[49,52,29,39,"resolveAssetSource"],[49,70,29,57],[49,71,29,58],[49,75,29,62],[49,76,29,63,"_options"],[49,84,29,71],[49,85,29,72,"keystore"],[49,93,29,80],[49,94,29,81],[49,95,29,82,"uri"],[49,98,29,85],[50,6,30,4],[52,6,32,4],[53,0,33,0],[54,0,34,0],[55,0,35,0],[56,0,36,0],[57,0,37,0],[58,0,38,0],[59,0,39,0],[60,0,40,0],[61,0,41,0],[62,0,42,0],[63,0,43,0],[64,0,44,0],[65,0,45,0],[66,4,32,4],[67,6,32,4,"key"],[67,9,32,4],[68,6,32,4,"value"],[68,11,32,4],[68,13,46,4],[68,22,46,4,"listen"],[68,28,46,10,"listen"],[68,29,46,11,"options"],[68,36,46,18],[68,38,46,20,"callback"],[68,46,46,28],[68,48,46,30],[69,8,47,8],[69,12,47,14,"newOptions"],[69,22,47,24],[69,25,47,24,"Object"],[69,31,47,24],[69,32,47,24,"assign"],[69,38,47,24],[69,43,47,32,"options"],[69,50,47,39],[69,51,47,41],[70,8,48,8],[71,8,49,8,"newOptions"],[71,18,49,18],[71,19,49,19],[71,24,49,24],[71,25,49,25],[71,28,49,28],[71,32,49,32],[71,33,49,33,"_options"],[71,41,49,41],[72,8,50,8],[72,15,50,8,"_superPropGet"],[72,28,50,8],[72,29,50,8,"TLSServer"],[72,38,50,8],[72,60,50,28,"newOptions"],[72,70,50,38],[72,72,50,40,"callback"],[72,80,50,48],[73,6,51,4],[75,6,53,4],[76,0,54,0],[77,0,55,0],[78,4,53,4],[79,6,53,4,"key"],[79,9,53,4],[80,6,53,4,"value"],[80,11,53,4],[80,13,56,4],[80,22,56,4,"_registerTLSEvents"],[80,40,56,22,"_registerTLSEvents"],[80,41,56,22],[80,43,56,25],[81,8,56,25],[81,12,56,25,"_this2"],[81,18,56,25],[82,8,57,8],[82,12,57,12],[82,13,57,13,"_secureConnectionListener"],[82,38,57,38],[82,41,57,41],[82,45,57,45],[82,46,57,46,"_eventEmitter"],[82,59,57,59],[82,60,57,60,"addListener"],[82,71,57,71],[82,72,58,12],[82,90,58,30],[82,92,59,12],[82,102,59,13,"evt"],[82,105,59,16],[82,107,59,21],[83,10,60,16],[83,14,60,20,"evt"],[83,17,60,23],[83,18,60,24,"id"],[83,20,60,26],[83,25,60,31,"_this2"],[83,31,60,35],[83,32,60,36,"_id"],[83,35,60,39],[83,37,60,41],[84,10,61,16],[84,14,61,22,"standardSocket"],[84,28,61,36],[84,31,61,39,"_this2"],[84,37,61,43],[84,38,61,44,"_buildSocket"],[84,50,61,56],[84,51,61,57,"evt"],[84,54,61,60],[84,55,61,61,"info"],[84,59,61,65],[84,60,61,66],[85,10,62,16,"standardSocket"],[85,24,62,30],[85,25,62,31,"_unregisterEvents"],[85,42,62,48],[85,43,62,49],[85,44,62,50],[86,10,63,16],[86,14,63,22,"tlsSocket"],[86,23,63,31],[86,26,63,34],[86,30,63,38,"TLSSocket"],[86,48,63,47],[86,49,63,48,"standardSocket"],[86,63,63,62],[86,64,63,63],[87,10,64,16,"_this2"],[87,16,64,20],[87,17,64,21,"_addConnection"],[87,31,64,35],[87,32,64,36,"tlsSocket"],[87,41,64,45],[87,42,64,46],[88,10,65,16,"_this2"],[88,16,65,20],[88,17,65,21,"emit"],[88,21,65,25],[88,22,65,26],[88,34,65,38],[88,36,65,40,"standardSocket"],[88,50,65,54],[88,51,65,55],[89,10,66,16,"_this2"],[89,16,66,20],[89,17,66,21,"emit"],[89,21,66,25],[89,22,66,26],[89,40,66,44],[89,42,66,46,"tlsSocket"],[89,51,66,55],[89,52,66,56],[90,8,67,12],[90,9,68,8],[90,10,68,9],[91,6,69,4],[92,4,69,5],[93,2,69,5],[93,4,13,39,"Server"],[93,20,13,45],[94,0,13,45],[94,3]],"functionMap":{"names":["<global>","TLSServer","constructor","setSecureContext","listen","_registerTLSEvents","_eventEmitter.addListener$argument_1"],"mappings":"AAA;eCY;ICI;KDI;IEK;KFI;IGgB;KHK;IIK;YCG;aDQ;KJE;CDC"}},"type":"js/module"}]}