{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":336,"column":0,"index":13999}}],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":336,"column":0,"index":13999}}],"key":"yg7e6laZwmpbIvId5jovq9ugXp8="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":336,"column":0,"index":13999}}],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30="}},{"name":"./utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":16,"index":165},"end":{"line":5,"column":34,"index":183}},{"start":{"line":5,"column":16,"index":165},"end":{"line":5,"column":34,"index":183}},{"start":{"line":5,"column":16,"index":165},"end":{"line":5,"column":34,"index":183}},{"start":{"line":5,"column":16,"index":165},"end":{"line":5,"column":34,"index":183}},{"start":{"line":5,"column":16,"index":165},"end":{"line":5,"column":34,"index":183}},{"start":{"line":5,"column":16,"index":165},"end":{"line":5,"column":34,"index":183}},{"start":{"line":5,"column":16,"index":165},"end":{"line":5,"column":34,"index":183}},{"start":{"line":5,"column":16,"index":165},"end":{"line":5,"column":34,"index":183}},{"start":{"line":5,"column":16,"index":165},"end":{"line":5,"column":34,"index":183}},{"start":{"line":5,"column":16,"index":165},"end":{"line":5,"column":34,"index":183}}],"key":"Arg6QRuIuy5D/jfcnxX1qJiHjX8="}},{"name":"./request","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":18,"index":127},"end":{"line":4,"column":38,"index":147}}],"key":"bcxrcbcUa9e+psuHv6sgrmFEUiY="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _asyncToGenerator = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _createClass = _$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.PayjoinClient = void 0;\n  var BROADCAST_ATTEMPT_TIME = 2 * 60 * 1000; // 2 minute\n  var PayjoinClient = /*#__PURE__*/function () {\n    function PayjoinClient(opts) {\n      _classCallCheck(this, PayjoinClient);\n      if (!opts.wallet) {\n        throw new Error('wallet (IPayjoinClientWallet) was not provided to PayjoinClient');\n      }\n      if (!opts.paymentScript) {\n        throw new Error('paymentScript (output script of BIP21 destination) was not provided to PayjoinClient');\n      }\n      this.wallet = opts.wallet;\n      this.paymentScript = opts.paymentScript;\n      this.payjoinParameters = opts.payjoinParameters;\n      if (isRequesterOpts(opts)) {\n        this.payjoinRequester = opts.payjoinRequester;\n      } else if (!opts.payjoinUrl) {\n        throw new Error('payjoinUrl (value of the key pj of BIP21) OR payjoinRequester (IPayjoinRequester) was not provided to PayjoinClient');\n      } else {\n        var endpointFunc = opts.getEndpointUrl || _$$_REQUIRE(_dependencyMap[3], \"./utils\").getEndpointUrl;\n        this.payjoinRequester = new (_$$_REQUIRE(_dependencyMap[4], \"./request\").PayjoinRequester)(endpointFunc(opts.payjoinUrl, opts.payjoinParameters));\n      }\n    }\n    return _createClass(PayjoinClient, [{\n      key: \"run\",\n      value: function () {\n        var _run = _asyncToGenerator(function* () {\n          var _this = this;\n          var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n          var psbt = yield this.wallet.getPsbt();\n          var clonedPsbt = psbt.clone();\n          var originalType = _$$_REQUIRE(_dependencyMap[3], \"./utils\").getInputsScriptPubKeyType(clonedPsbt);\n          clonedPsbt.finalizeAllInputs();\n          var originalTxHex = clonedPsbt.extractTransaction().toHex();\n          var broadcastOriginalNow = function broadcastOriginalNow() {\n            return _this.wallet.broadcastTx(originalTxHex);\n          };\n          try {\n            // We make sure we don't send unnecessary information to the receiver\n            for (var index = 0; index < clonedPsbt.inputCount; index++) {\n              clonedPsbt.clearFinalizedInput(index);\n            }\n            clonedPsbt.data.outputs.forEach(function (output) {\n              delete output.bip32Derivation;\n            });\n            delete clonedPsbt.data.globalMap.globalXpub;\n            var originalInputs = clonedPsbt.txInputs.map(function (value, index) {\n              return {\n                originalTxIn: value,\n                signedPSBTInput: psbt.data.inputs[index]\n              };\n            });\n            var originalOutputs = clonedPsbt.txOutputs.map(function (value, index) {\n              return {\n                originalTxOut: value,\n                signedPSBTInput: psbt.data.outputs[index],\n                index: index\n              };\n            });\n            var feeOutput = ((_a = this.payjoinParameters) === null || _a === void 0 ? void 0 : _a.additionalFeeOutputIndex) !== undefined ? originalOutputs[(_b = this.payjoinParameters) === null || _b === void 0 ? void 0 : _b.additionalFeeOutputIndex] : null;\n            var originalFeeRate = clonedPsbt.getFeeRate();\n            var allowOutputSubstitution = !(((_c = this.payjoinParameters) === null || _c === void 0 ? void 0 : _c.disableOutputSubstitution) !== undefined && ((_d = this.payjoinParameters) === null || _d === void 0 ? void 0 : _d.disableOutputSubstitution));\n            var payjoinPsbt = yield this.payjoinRequester.requestPayjoin(clonedPsbt);\n            if (!payjoinPsbt) throw new Error(\"We did not get the receiver's PSBT\");\n            if (payjoinPsbt.data.globalMap.globalXpub && payjoinPsbt.data.globalMap.globalXpub.length > 0) {\n              throw new Error(\"GlobalXPubs should not be included in the receiver's PSBT\");\n            }\n            if (payjoinPsbt.version !== clonedPsbt.version) {\n              throw new Error('The proposal PSBT changed the transaction version');\n            }\n            if (payjoinPsbt.locktime !== clonedPsbt.locktime) {\n              throw new Error('The proposal PSBT changed the nLocktime');\n            }\n            var sequences = new Set();\n            // For each inputs in the proposal:\n            for (var i = 0; i < payjoinPsbt.data.inputs.length; i++) {\n              var proposedPSBTInput = payjoinPsbt.data.inputs[i];\n              if (_$$_REQUIRE(_dependencyMap[3], \"./utils\").hasKeypathInformationSet(proposedPSBTInput)) throw new Error('The receiver added keypaths to an input');\n              if (proposedPSBTInput.partialSig && proposedPSBTInput.partialSig.length > 0) throw new Error('The receiver added partial signatures to an input');\n              var proposedTxIn = payjoinPsbt.txInputs[i];\n              var ourInputIndex = _$$_REQUIRE(_dependencyMap[3], \"./utils\").getInputIndex(clonedPsbt, proposedTxIn.hash, proposedTxIn.index);\n              var isOurInput = ourInputIndex >= 0;\n              // If it is one of our input\n              if (isOurInput) {\n                var input = originalInputs.splice(0, 1)[0];\n                // Verify that sequence is unchanged.\n                if (input.originalTxIn.sequence !== proposedTxIn.sequence) throw new Error('The proposedTxIn modified the sequence of one of our inputs');\n                // Verify the PSBT input is not finalized\n                if (_$$_REQUIRE(_dependencyMap[3], \"./utils\").isFinalized(proposedPSBTInput)) throw new Error('The receiver finalized one of our inputs');\n                // Verify that <code>non_witness_utxo</code> and <code>witness_utxo</code> are not specified.\n                if (proposedPSBTInput.nonWitnessUtxo || proposedPSBTInput.witnessUtxo) throw new Error('The receiver added non_witness_utxo or witness_utxo to one of our inputs');\n                if (proposedTxIn.sequence != null) {\n                  sequences.add(proposedTxIn.sequence);\n                }\n                // Fill up the info from the original PSBT input so we can sign and get fees.\n                proposedPSBTInput.nonWitnessUtxo = input.signedPSBTInput.nonWitnessUtxo;\n                proposedPSBTInput.witnessUtxo = input.signedPSBTInput.witnessUtxo;\n                // We fill up information we had on the signed PSBT, so we can sign it.\n                payjoinPsbt.data.inputs[i].bip32Derivation = input.signedPSBTInput.bip32Derivation || [];\n                payjoinPsbt.data.inputs[i].nonWitnessUtxo = input.signedPSBTInput.nonWitnessUtxo;\n                payjoinPsbt.data.inputs[i].witnessUtxo = input.signedPSBTInput.witnessUtxo;\n                payjoinPsbt.data.inputs[i].redeemScript = input.signedPSBTInput.redeemScript;\n                payjoinPsbt.data.inputs[i].sighashType = input.signedPSBTInput.sighashType;\n              } else {\n                // Verify the PSBT input is finalized\n                if (!_$$_REQUIRE(_dependencyMap[3], \"./utils\").isFinalized(proposedPSBTInput)) throw new Error('The receiver did not finalized one of their input');\n                // Verify that non_witness_utxo or witness_utxo are filled in.\n                if (!proposedPSBTInput.nonWitnessUtxo && !proposedPSBTInput.witnessUtxo) throw new Error('The receiver did not specify non_witness_utxo or witness_utxo for one of their inputs');\n                if (proposedTxIn.sequence != null) {\n                  sequences.add(proposedTxIn.sequence);\n                }\n                // Verify that the payjoin proposal did not introduced mixed input's type.\n                if (originalType !== _$$_REQUIRE(_dependencyMap[3], \"./utils\").getInputScriptPubKeyType(payjoinPsbt, i)) throw new Error('Mixed input type detected in the proposal');\n              }\n            }\n            // Verify that all of sender's inputs from the original PSBT are in the proposal.\n            if (originalInputs.length !== 0) throw new Error('Some of our inputs are not included in the proposal');\n            // Verify that the payjoin proposal did not introduced mixed input's sequence.\n            if (sequences.size !== 1) throw new Error('Mixed sequence detected in the proposal');\n            var originalFee = clonedPsbt.getFee();\n            var newFee;\n            var signedPsbt = yield this.wallet.signPsbt(payjoinPsbt);\n            try {\n              newFee = signedPsbt.getFee();\n            } catch (e) {\n              throw new Error('The payjoin receiver did not included UTXO information to calculate fee correctly');\n            }\n            var additionalFee = newFee - originalFee;\n            if (additionalFee < 0) throw new Error('The receiver decreased absolute fee');\n            // For each outputs in the proposal:\n            for (var _i = 0; _i < payjoinPsbt.data.outputs.length; _i++) {\n              var proposedPSBTOutput = payjoinPsbt.data.outputs[_i];\n              var proposedTxOut = payjoinPsbt.txOutputs[_i];\n              // Verify that no keypaths is in the PSBT output\n              if (_$$_REQUIRE(_dependencyMap[3], \"./utils\").hasKeypathInformationSet(proposedPSBTOutput)) throw new Error('The receiver added keypaths to an output');\n              if (originalOutputs.length === 0) continue;\n              var originalOutput = originalOutputs[0];\n              var isOriginalOutput = originalOutput.originalTxOut.script.equals(payjoinPsbt.txOutputs[_i].script);\n              var substitutedOutput = !isOriginalOutput && allowOutputSubstitution && originalOutput.originalTxOut.script.equals(this.paymentScript);\n              if (isOriginalOutput || substitutedOutput) {\n                originalOutputs.splice(0, 1);\n                if (feeOutput && originalOutput.index === ((_e = this.payjoinParameters) === null || _e === void 0 ? void 0 : _e.additionalFeeOutputIndex) && ((_f = this.payjoinParameters) === null || _f === void 0 ? void 0 : _f.maxAdditionalFeeContribution) && proposedTxOut.value !== feeOutput.originalTxOut.value) {\n                  var actualContribution = feeOutput.originalTxOut.value - proposedTxOut.value;\n                  // The amount that was substracted from the output's value is less or equal to maxadditionalfeecontribution\n                  if (actualContribution > ((_g = this.payjoinParameters) === null || _g === void 0 ? void 0 : _g.maxAdditionalFeeContribution)) throw new Error(`The actual contribution is more than maxadditionalfeecontribution`);\n                  // Make sure the actual contribution is only paying fee\n                  if (actualContribution > additionalFee) throw new Error('The actual contribution is not only paying fee');\n                  // Make sure the actual contribution is only paying for fee incurred by additional inputs\n                  var additionalInputsCount = payjoinPsbt.txInputs.length - clonedPsbt.txInputs.length;\n                  if (actualContribution > _$$_REQUIRE(_dependencyMap[3], \"./utils\").getFee(originalFeeRate, _$$_REQUIRE(_dependencyMap[3], \"./utils\").getVirtualSize(originalType)) * additionalInputsCount) throw new Error('The actual contribution is not only paying for additional inputs');\n                } else if (allowOutputSubstitution && originalOutput.originalTxOut.script.equals(this.paymentScript)) {\n                  // That's the payment output, the receiver may have changed it.\n                } else {\n                  if (originalOutput.originalTxOut.value > proposedTxOut.value) throw new Error('The receiver decreased the value of one of the outputs');\n                }\n                // We fill up information we had on the signed PSBT, so we can sign it.\n                payjoinPsbt.updateOutput(_i, proposedPSBTOutput);\n              }\n            }\n            // Verify that all of sender's outputs from the original PSBT are in the proposal.\n            if (originalOutputs.length !== 0) {\n              if (!allowOutputSubstitution || originalOutputs.length !== 1 || !originalOutputs.splice(0, 1)[0].originalTxOut.script.equals(this.paymentScript)) {\n                throw new Error('Some of our outputs are not included in the proposal');\n              }\n            }\n            // If minfeerate was specified, check that the fee rate of the payjoin transaction is not less than this value.\n            if ((_h = this.payjoinParameters) === null || _h === void 0 ? void 0 : _h.minimumFeeRate) {\n              var newFeeRate;\n              try {\n                newFeeRate = payjoinPsbt.getFeeRate();\n              } catch (_k) {\n                throw new Error('The payjoin receiver did not included UTXO information to calculate fee correctly');\n              }\n              if (newFeeRate < ((_j = this.payjoinParameters) === null || _j === void 0 ? void 0 : _j.minimumFeeRate)) throw new Error('The payjoin receiver created a payjoin with a too low fee rate');\n            }\n            // const signedPsbt = await this.wallet.signPsbt(payjoinPsbt);\n            var tx = signedPsbt.extractTransaction();\n            // Now broadcast. If this fails, there's a possibility the server is\n            // trying to leak information by double spending an input, this is why\n            // we schedule broadcast of original BEFORE we broadcast the payjoin.\n            // And it is why schedule broadcast is expected to fail. (why you must\n            // not throw an error.)\n            var response = yield this.wallet.broadcastTx(tx.toHex());\n            if (response !== '') {\n              throw new Error('payjoin tx failed to broadcast.\\nReason:\\n' + response);\n            } else {\n              // Schedule original tx broadcast after succeeding, just in case.\n              yield this.wallet.scheduleBroadcastTx(originalTxHex, BROADCAST_ATTEMPT_TIME);\n            }\n          } catch (e) {\n            // If anything goes wrong, broadcast original immediately.\n            yield broadcastOriginalNow();\n            throw e;\n          }\n        });\n        function run() {\n          return _run.apply(this, arguments);\n        }\n        return run;\n      }()\n    }]);\n  }();\n  exports.PayjoinClient = PayjoinClient;\n  function isRequesterOpts(opts) {\n    return opts.payjoinRequester !== undefined;\n  }\n});","lineCount":216,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_asyncToGenerator"],[4,23,1,13],[4,26,1,13,"_$$_REQUIRE"],[4,37,1,13],[4,38,1,13,"_dependencyMap"],[4,52,1,13],[5,2,1,13],[5,6,1,13,"_classCallCheck"],[5,21,1,13],[5,24,1,13,"_$$_REQUIRE"],[5,35,1,13],[5,36,1,13,"_dependencyMap"],[5,50,1,13],[6,2,1,13],[6,6,1,13,"_createClass"],[6,18,1,13],[6,21,1,13,"_$$_REQUIRE"],[6,32,1,13],[6,33,1,13,"_dependencyMap"],[6,47,1,13],[7,2,2,0,"Object"],[7,8,2,6],[7,9,2,7,"defineProperty"],[7,23,2,21],[7,24,2,22,"exports"],[7,31,2,29],[7,33,2,31],[7,45,2,43],[7,47,2,45],[8,4,2,47,"value"],[8,9,2,52],[8,11,2,54],[9,2,2,59],[9,3,2,60],[9,4,2,61],[10,2,3,0,"exports"],[10,9,3,7],[10,10,3,8,"PayjoinClient"],[10,23,3,21],[10,26,3,24],[10,31,3,29],[10,32,3,30],[11,2,6,0],[11,6,6,6,"BROADCAST_ATTEMPT_TIME"],[11,28,6,28],[11,31,6,31],[11,32,6,32],[11,35,6,35],[11,37,6,37],[11,40,6,40],[11,44,6,44],[11,45,6,45],[11,46,6,46],[12,2,6,46],[12,6,7,6,"PayjoinClient"],[12,19,7,19],[13,4,8,2],[13,13,8,2,"PayjoinClient"],[13,27,8,14,"opts"],[13,31,8,18],[13,33,8,20],[14,6,8,20,"_classCallCheck"],[14,21,8,20],[14,28,8,20,"PayjoinClient"],[14,41,8,20],[15,6,9,4],[15,10,9,8],[15,11,9,9,"opts"],[15,15,9,13],[15,16,9,14,"wallet"],[15,22,9,20],[15,24,9,22],[16,8,10,6],[16,14,10,12],[16,18,10,16,"Error"],[16,23,10,21],[16,24,11,8],[16,89,12,6],[16,90,12,7],[17,6,13,4],[18,6,14,4],[18,10,14,8],[18,11,14,9,"opts"],[18,15,14,13],[18,16,14,14,"paymentScript"],[18,29,14,27],[18,31,14,29],[19,8,15,6],[19,14,15,12],[19,18,15,16,"Error"],[19,23,15,21],[19,24,16,8],[19,110,17,6],[19,111,17,7],[20,6,18,4],[21,6,19,4],[21,10,19,8],[21,11,19,9,"wallet"],[21,17,19,15],[21,20,19,18,"opts"],[21,24,19,22],[21,25,19,23,"wallet"],[21,31,19,29],[22,6,20,4],[22,10,20,8],[22,11,20,9,"paymentScript"],[22,24,20,22],[22,27,20,25,"opts"],[22,31,20,29],[22,32,20,30,"paymentScript"],[22,45,20,43],[23,6,21,4],[23,10,21,8],[23,11,21,9,"payjoinParameters"],[23,28,21,26],[23,31,21,29,"opts"],[23,35,21,33],[23,36,21,34,"payjoinParameters"],[23,53,21,51],[24,6,22,4],[24,10,22,8,"isRequesterOpts"],[24,25,22,23],[24,26,22,24,"opts"],[24,30,22,28],[24,31,22,29],[24,33,22,31],[25,8,23,6],[25,12,23,10],[25,13,23,11,"payjoinRequester"],[25,29,23,27],[25,32,23,30,"opts"],[25,36,23,34],[25,37,23,35,"payjoinRequester"],[25,53,23,51],[26,6,24,4],[26,7,24,5],[26,13,24,11],[26,17,24,15],[26,18,24,16,"opts"],[26,22,24,20],[26,23,24,21,"payjoinUrl"],[26,33,24,31],[26,35,24,33],[27,8,25,6],[27,14,25,12],[27,18,25,16,"Error"],[27,23,25,21],[27,24,26,8],[27,141,27,6],[27,142,27,7],[28,6,28,4],[28,7,28,5],[28,13,28,11],[29,8,29,6],[29,12,29,12,"endpointFunc"],[29,24,29,24],[29,27,29,27,"opts"],[29,31,29,31],[29,32,29,32,"getEndpointUrl"],[29,46,29,46],[29,50,29,50,"_$$_REQUIRE"],[29,61,29,50],[29,62,29,50,"_dependencyMap"],[29,76,29,50],[29,92,29,58,"getEndpointUrl"],[29,106,29,72],[30,8,30,6],[30,12,30,10],[30,13,30,11,"payjoinRequester"],[30,29,30,27],[30,32,30,30],[30,37,30,34,"_$$_REQUIRE"],[30,48,30,34],[30,49,30,34,"_dependencyMap"],[30,63,30,34],[30,81,30,44,"PayjoinRequester"],[30,97,30,60],[30,99,31,8,"endpointFunc"],[30,111,31,20],[30,112,31,21,"opts"],[30,116,31,25],[30,117,31,26,"payjoinUrl"],[30,127,31,36],[30,129,31,38,"opts"],[30,133,31,42],[30,134,31,43,"payjoinParameters"],[30,151,31,60],[30,152,32,6],[30,153,32,7],[31,6,33,4],[32,4,34,2],[33,4,34,3],[33,11,34,3,"_createClass"],[33,23,34,3],[33,24,34,3,"PayjoinClient"],[33,37,34,3],[34,6,34,3,"key"],[34,9,34,3],[35,6,34,3,"value"],[35,11,34,3],[36,8,34,3],[36,12,34,3,"_run"],[36,16,34,3],[36,19,34,3,"_asyncToGenerator"],[36,36,34,3],[36,37,35,2],[36,50,35,14],[37,10,35,14],[37,14,35,14,"_this"],[37,19,35,14],[38,10,36,4],[38,14,36,8,"_a"],[38,16,36,10],[38,18,36,12,"_b"],[38,20,36,14],[38,22,36,16,"_c"],[38,24,36,18],[38,26,36,20,"_d"],[38,28,36,22],[38,30,36,24,"_e"],[38,32,36,26],[38,34,36,28,"_f"],[38,36,36,30],[38,38,36,32,"_g"],[38,40,36,34],[38,42,36,36,"_h"],[38,44,36,38],[38,46,36,40,"_j"],[38,48,36,42],[39,10,37,4],[39,14,37,10,"psbt"],[39,18,37,14],[39,27,37,23],[39,31,37,27],[39,32,37,28,"wallet"],[39,38,37,34],[39,39,37,35,"getPsbt"],[39,46,37,42],[39,47,37,43],[39,48,37,44],[40,10,38,4],[40,14,38,10,"clonedPsbt"],[40,24,38,20],[40,27,38,23,"psbt"],[40,31,38,27],[40,32,38,28,"clone"],[40,37,38,33],[40,38,38,34],[40,39,38,35],[41,10,39,4],[41,14,39,10,"originalType"],[41,26,39,22],[41,29,39,25,"_$$_REQUIRE"],[41,40,39,25],[41,41,39,25,"_dependencyMap"],[41,55,39,25],[41,71,39,33,"getInputsScriptPubKeyType"],[41,96,39,58],[41,97,39,59,"clonedPsbt"],[41,107,39,69],[41,108,39,70],[42,10,40,4,"clonedPsbt"],[42,20,40,14],[42,21,40,15,"finalizeAllInputs"],[42,38,40,32],[42,39,40,33],[42,40,40,34],[43,10,41,4],[43,14,41,10,"originalTxHex"],[43,27,41,23],[43,30,41,26,"clonedPsbt"],[43,40,41,36],[43,41,41,37,"extractTransaction"],[43,59,41,55],[43,60,41,56],[43,61,41,57],[43,62,41,58,"toHex"],[43,67,41,63],[43,68,41,64],[43,69,41,65],[44,10,42,4],[44,14,42,10,"broadcastOriginalNow"],[44,34,42,30],[44,37,42,33],[44,46,42,10,"broadcastOriginalNow"],[44,66,42,30,"broadcastOriginalNow"],[44,67,42,30],[45,12,42,30],[45,19,42,39,"_this"],[45,24,42,43],[45,25,42,44,"wallet"],[45,31,42,50],[45,32,42,51,"broadcastTx"],[45,43,42,62],[45,44,42,63,"originalTxHex"],[45,57,42,76],[45,58,42,77],[46,10,42,77],[47,10,43,4],[47,14,43,8],[48,12,44,6],[49,12,45,6],[49,17,45,11],[49,21,45,15,"index"],[49,26,45,20],[49,29,45,23],[49,30,45,24],[49,32,45,26,"index"],[49,37,45,31],[49,40,45,34,"clonedPsbt"],[49,50,45,44],[49,51,45,45,"inputCount"],[49,61,45,55],[49,63,45,57,"index"],[49,68,45,62],[49,70,45,64],[49,72,45,66],[50,14,46,8,"clonedPsbt"],[50,24,46,18],[50,25,46,19,"clearFinalizedInput"],[50,44,46,38],[50,45,46,39,"index"],[50,50,46,44],[50,51,46,45],[51,12,47,6],[52,12,48,6,"clonedPsbt"],[52,22,48,16],[52,23,48,17,"data"],[52,27,48,21],[52,28,48,22,"outputs"],[52,35,48,29],[52,36,48,30,"forEach"],[52,43,48,37],[52,44,48,38],[52,54,48,39,"output"],[52,60,48,45],[52,62,48,50],[53,14,49,8],[53,21,49,15,"output"],[53,27,49,21],[53,28,49,22,"bip32Derivation"],[53,43,49,37],[54,12,50,6],[54,13,50,7],[54,14,50,8],[55,12,51,6],[55,19,51,13,"clonedPsbt"],[55,29,51,23],[55,30,51,24,"data"],[55,34,51,28],[55,35,51,29,"globalMap"],[55,44,51,38],[55,45,51,39,"globalXpub"],[55,55,51,49],[56,12,52,6],[56,16,52,12,"originalInputs"],[56,30,52,26],[56,33,52,29,"clonedPsbt"],[56,43,52,39],[56,44,52,40,"txInputs"],[56,52,52,48],[56,53,52,49,"map"],[56,56,52,52],[56,57,52,53],[56,67,52,54,"value"],[56,72,52,59],[56,74,52,61,"index"],[56,79,52,66],[56,81,52,71],[57,14,53,8],[57,21,53,15],[58,16,54,10,"originalTxIn"],[58,28,54,22],[58,30,54,24,"value"],[58,35,54,29],[59,16,55,10,"signedPSBTInput"],[59,31,55,25],[59,33,55,27,"psbt"],[59,37,55,31],[59,38,55,32,"data"],[59,42,55,36],[59,43,55,37,"inputs"],[59,49,55,43],[59,50,55,44,"index"],[59,55,55,49],[60,14,56,8],[60,15,56,9],[61,12,57,6],[61,13,57,7],[61,14,57,8],[62,12,58,6],[62,16,58,12,"originalOutputs"],[62,31,58,27],[62,34,58,30,"clonedPsbt"],[62,44,58,40],[62,45,58,41,"txOutputs"],[62,54,58,50],[62,55,58,51,"map"],[62,58,58,54],[62,59,58,55],[62,69,58,56,"value"],[62,74,58,61],[62,76,58,63,"index"],[62,81,58,68],[62,83,58,73],[63,14,59,8],[63,21,59,15],[64,16,60,10,"originalTxOut"],[64,29,60,23],[64,31,60,25,"value"],[64,36,60,30],[65,16,61,10,"signedPSBTInput"],[65,31,61,25],[65,33,61,27,"psbt"],[65,37,61,31],[65,38,61,32,"data"],[65,42,61,36],[65,43,61,37,"outputs"],[65,50,61,44],[65,51,61,45,"index"],[65,56,61,50],[65,57,61,51],[66,16,62,10,"index"],[66,21,62,15],[66,23,62,10,"index"],[67,14,63,8],[67,15,63,9],[68,12,64,6],[68,13,64,7],[68,14,64,8],[69,12,65,6],[69,16,65,12,"feeOutput"],[69,25,65,21],[69,28,66,8],[69,29,66,9],[69,30,66,10,"_a"],[69,32,66,12],[69,35,66,15],[69,39,66,19],[69,40,66,20,"payjoinParameters"],[69,57,66,37],[69,63,66,43],[69,67,66,47],[69,71,66,51,"_a"],[69,73,66,53],[69,78,66,58],[69,83,66,63],[69,84,66,64],[69,87,67,12],[69,92,67,17],[69,93,67,18],[69,96,68,12,"_a"],[69,98,68,14],[69,99,68,15,"additionalFeeOutputIndex"],[69,123,68,39],[69,129,68,45,"undefined"],[69,138,68,54],[69,141,69,12,"originalOutputs"],[69,156,69,27],[69,157,70,14],[69,158,70,15,"_b"],[69,160,70,17],[69,163,70,20],[69,167,70,24],[69,168,70,25,"payjoinParameters"],[69,185,70,42],[69,191,70,48],[69,195,70,52],[69,199,70,56,"_b"],[69,201,70,58],[69,206,70,63],[69,211,70,68],[69,212,70,69],[69,215,71,18],[69,220,71,23],[69,221,71,24],[69,224,72,18,"_b"],[69,226,72,20],[69,227,72,21,"additionalFeeOutputIndex"],[69,251,72,45],[69,252,73,13],[69,255,74,12],[69,259,74,16],[70,12,75,6],[70,16,75,12,"originalFeeRate"],[70,31,75,27],[70,34,75,30,"clonedPsbt"],[70,44,75,40],[70,45,75,41,"getFeeRate"],[70,55,75,51],[70,56,75,52],[70,57,75,53],[71,12,76,6],[71,16,76,12,"allowOutputSubstitution"],[71,39,76,35],[71,42,76,38],[71,44,77,8],[71,45,77,9],[71,46,77,10,"_c"],[71,48,77,12],[71,51,77,15],[71,55,77,19],[71,56,77,20,"payjoinParameters"],[71,73,77,37],[71,79,77,43],[71,83,77,47],[71,87,77,51,"_c"],[71,89,77,53],[71,94,77,58],[71,99,77,63],[71,100,77,64],[71,103,78,12],[71,108,78,17],[71,109,78,18],[71,112,79,12,"_c"],[71,114,79,14],[71,115,79,15,"disableOutputSubstitution"],[71,140,79,40],[71,146,79,46,"undefined"],[71,155,79,55],[71,160,80,9],[71,161,80,10,"_d"],[71,163,80,12],[71,166,80,15],[71,170,80,19],[71,171,80,20,"payjoinParameters"],[71,188,80,37],[71,194,80,43],[71,198,80,47],[71,202,80,51,"_d"],[71,204,80,53],[71,209,80,58],[71,214,80,63],[71,215,80,64],[71,218,81,12],[71,223,81,17],[71,224,81,18],[71,227,82,12,"_d"],[71,229,82,14],[71,230,82,15,"disableOutputSubstitution"],[71,255,82,40],[71,256,82,41],[71,257,83,7],[72,12,84,6],[72,16,84,12,"payjoinPsbt"],[72,27,84,23],[72,36,84,32],[72,40,84,36],[72,41,84,37,"payjoinRequester"],[72,57,84,53],[72,58,84,54,"requestPayjoin"],[72,72,84,68],[72,73,85,8,"clonedPsbt"],[72,83,86,6],[72,84,86,7],[73,12,87,6],[73,16,87,10],[73,17,87,11,"payjoinPsbt"],[73,28,87,22],[73,30,87,24],[73,36,87,30],[73,40,87,34,"Error"],[73,45,87,39],[73,46,87,40],[73,82,87,76],[73,83,87,77],[74,12,88,6],[74,16,89,8,"payjoinPsbt"],[74,27,89,19],[74,28,89,20,"data"],[74,32,89,24],[74,33,89,25,"globalMap"],[74,42,89,34],[74,43,89,35,"globalXpub"],[74,53,89,45],[74,57,90,8,"payjoinPsbt"],[74,68,90,19],[74,69,90,20,"data"],[74,73,90,24],[74,74,90,25,"globalMap"],[74,83,90,34],[74,84,90,35,"globalXpub"],[74,94,90,45],[74,95,90,46,"length"],[74,101,90,52],[74,104,90,55],[74,105,90,56],[74,107,91,8],[75,14,92,8],[75,20,92,14],[75,24,92,18,"Error"],[75,29,92,23],[75,30,93,10],[75,89,94,8],[75,90,94,9],[76,12,95,6],[77,12,96,6],[77,16,96,10,"payjoinPsbt"],[77,27,96,21],[77,28,96,22,"version"],[77,35,96,29],[77,40,96,34,"clonedPsbt"],[77,50,96,44],[77,51,96,45,"version"],[77,58,96,52],[77,60,96,54],[78,14,97,8],[78,20,97,14],[78,24,97,18,"Error"],[78,29,97,23],[78,30,97,24],[78,81,97,75],[78,82,97,76],[79,12,98,6],[80,12,99,6],[80,16,99,10,"payjoinPsbt"],[80,27,99,21],[80,28,99,22,"locktime"],[80,36,99,30],[80,41,99,35,"clonedPsbt"],[80,51,99,45],[80,52,99,46,"locktime"],[80,60,99,54],[80,62,99,56],[81,14,100,8],[81,20,100,14],[81,24,100,18,"Error"],[81,29,100,23],[81,30,100,24],[81,71,100,65],[81,72,100,66],[82,12,101,6],[83,12,102,6],[83,16,102,12,"sequences"],[83,25,102,21],[83,28,102,24],[83,32,102,28,"Set"],[83,35,102,31],[83,36,102,32],[83,37,102,33],[84,12,103,6],[85,12,104,6],[85,17,104,11],[85,21,104,15,"i"],[85,22,104,16],[85,25,104,19],[85,26,104,20],[85,28,104,22,"i"],[85,29,104,23],[85,32,104,26,"payjoinPsbt"],[85,43,104,37],[85,44,104,38,"data"],[85,48,104,42],[85,49,104,43,"inputs"],[85,55,104,49],[85,56,104,50,"length"],[85,62,104,56],[85,64,104,58,"i"],[85,65,104,59],[85,67,104,61],[85,69,104,63],[86,14,105,8],[86,18,105,14,"proposedPSBTInput"],[86,35,105,31],[86,38,105,34,"payjoinPsbt"],[86,49,105,45],[86,50,105,46,"data"],[86,54,105,50],[86,55,105,51,"inputs"],[86,61,105,57],[86,62,105,58,"i"],[86,63,105,59],[86,64,105,60],[87,14,106,8],[87,18,106,12,"_$$_REQUIRE"],[87,29,106,12],[87,30,106,12,"_dependencyMap"],[87,44,106,12],[87,60,106,20,"hasKeypathInformationSet"],[87,84,106,44],[87,85,106,45,"proposedPSBTInput"],[87,102,106,62],[87,103,106,63],[87,105,107,10],[87,111,107,16],[87,115,107,20,"Error"],[87,120,107,25],[87,121,107,26],[87,162,107,67],[87,163,107,68],[88,14,108,8],[88,18,109,10,"proposedPSBTInput"],[88,35,109,27],[88,36,109,28,"partialSig"],[88,46,109,38],[88,50,110,10,"proposedPSBTInput"],[88,67,110,27],[88,68,110,28,"partialSig"],[88,78,110,38],[88,79,110,39,"length"],[88,85,110,45],[88,88,110,48],[88,89,110,49],[88,91,112,10],[88,97,112,16],[88,101,112,20,"Error"],[88,106,112,25],[88,107,112,26],[88,158,112,77],[88,159,112,78],[89,14,113,8],[89,18,113,14,"proposedTxIn"],[89,30,113,26],[89,33,113,29,"payjoinPsbt"],[89,44,113,40],[89,45,113,41,"txInputs"],[89,53,113,49],[89,54,113,50,"i"],[89,55,113,51],[89,56,113,52],[90,14,114,8],[90,18,114,14,"ourInputIndex"],[90,31,114,27],[90,34,114,30,"_$$_REQUIRE"],[90,45,114,30],[90,46,114,30,"_dependencyMap"],[90,60,114,30],[90,76,114,38,"getInputIndex"],[90,89,114,51],[90,90,115,10,"clonedPsbt"],[90,100,115,20],[90,102,116,10,"proposedTxIn"],[90,114,116,22],[90,115,116,23,"hash"],[90,119,116,27],[90,121,117,10,"proposedTxIn"],[90,133,117,22],[90,134,117,23,"index"],[90,139,118,8],[90,140,118,9],[91,14,119,8],[91,18,119,14,"isOurInput"],[91,28,119,24],[91,31,119,27,"ourInputIndex"],[91,44,119,40],[91,48,119,44],[91,49,119,45],[92,14,120,8],[93,14,121,8],[93,18,121,12,"isOurInput"],[93,28,121,22],[93,30,121,24],[94,16,122,10],[94,20,122,16,"input"],[94,25,122,21],[94,28,122,24,"originalInputs"],[94,42,122,38],[94,43,122,39,"splice"],[94,49,122,45],[94,50,122,46],[94,51,122,47],[94,53,122,49],[94,54,122,50],[94,55,122,51],[94,56,122,52],[94,57,122,53],[94,58,122,54],[95,16,123,10],[96,16,124,10],[96,20,124,14,"input"],[96,25,124,19],[96,26,124,20,"originalTxIn"],[96,38,124,32],[96,39,124,33,"sequence"],[96,47,124,41],[96,52,124,46,"proposedTxIn"],[96,64,124,58],[96,65,124,59,"sequence"],[96,73,124,67],[96,75,125,12],[96,81,125,18],[96,85,125,22,"Error"],[96,90,125,27],[96,91,126,14],[96,152,127,12],[96,153,127,13],[97,16,128,10],[98,16,129,10],[98,20,129,14,"_$$_REQUIRE"],[98,31,129,14],[98,32,129,14,"_dependencyMap"],[98,46,129,14],[98,62,129,22,"isFinalized"],[98,73,129,33],[98,74,129,34,"proposedPSBTInput"],[98,91,129,51],[98,92,129,52],[98,94,130,12],[98,100,130,18],[98,104,130,22,"Error"],[98,109,130,27],[98,110,130,28],[98,152,130,70],[98,153,130,71],[99,16,131,10],[100,16,132,10],[100,20,132,14,"proposedPSBTInput"],[100,37,132,31],[100,38,132,32,"nonWitnessUtxo"],[100,52,132,46],[100,56,132,50,"proposedPSBTInput"],[100,73,132,67],[100,74,132,68,"witnessUtxo"],[100,85,132,79],[100,87,133,12],[100,93,133,18],[100,97,133,22,"Error"],[100,102,133,27],[100,103,134,14],[100,177,135,12],[100,178,135,13],[101,16,136,10],[101,20,136,14,"proposedTxIn"],[101,32,136,26],[101,33,136,27,"sequence"],[101,41,136,35],[101,45,136,39],[101,49,136,43],[101,51,136,45],[102,18,137,12,"sequences"],[102,27,137,21],[102,28,137,22,"add"],[102,31,137,25],[102,32,137,26,"proposedTxIn"],[102,44,137,38],[102,45,137,39,"sequence"],[102,53,137,47],[102,54,137,48],[103,16,138,10],[104,16,139,10],[105,16,140,10,"proposedPSBTInput"],[105,33,140,27],[105,34,140,28,"nonWitnessUtxo"],[105,48,140,42],[105,51,141,12,"input"],[105,56,141,17],[105,57,141,18,"signedPSBTInput"],[105,72,141,33],[105,73,141,34,"nonWitnessUtxo"],[105,87,141,48],[106,16,142,10,"proposedPSBTInput"],[106,33,142,27],[106,34,142,28,"witnessUtxo"],[106,45,142,39],[106,48,142,42,"input"],[106,53,142,47],[106,54,142,48,"signedPSBTInput"],[106,69,142,63],[106,70,142,64,"witnessUtxo"],[106,81,142,75],[107,16,143,10],[108,16,144,10,"payjoinPsbt"],[108,27,144,21],[108,28,144,22,"data"],[108,32,144,26],[108,33,144,27,"inputs"],[108,39,144,33],[108,40,144,34,"i"],[108,41,144,35],[108,42,144,36],[108,43,144,37,"bip32Derivation"],[108,58,144,52],[108,61,145,12,"input"],[108,66,145,17],[108,67,145,18,"signedPSBTInput"],[108,82,145,33],[108,83,145,34,"bip32Derivation"],[108,98,145,49],[108,102,145,53],[108,104,145,55],[109,16,146,10,"payjoinPsbt"],[109,27,146,21],[109,28,146,22,"data"],[109,32,146,26],[109,33,146,27,"inputs"],[109,39,146,33],[109,40,146,34,"i"],[109,41,146,35],[109,42,146,36],[109,43,146,37,"nonWitnessUtxo"],[109,57,146,51],[109,60,147,12,"input"],[109,65,147,17],[109,66,147,18,"signedPSBTInput"],[109,81,147,33],[109,82,147,34,"nonWitnessUtxo"],[109,96,147,48],[110,16,148,10,"payjoinPsbt"],[110,27,148,21],[110,28,148,22,"data"],[110,32,148,26],[110,33,148,27,"inputs"],[110,39,148,33],[110,40,148,34,"i"],[110,41,148,35],[110,42,148,36],[110,43,148,37,"witnessUtxo"],[110,54,148,48],[110,57,149,12,"input"],[110,62,149,17],[110,63,149,18,"signedPSBTInput"],[110,78,149,33],[110,79,149,34,"witnessUtxo"],[110,90,149,45],[111,16,150,10,"payjoinPsbt"],[111,27,150,21],[111,28,150,22,"data"],[111,32,150,26],[111,33,150,27,"inputs"],[111,39,150,33],[111,40,150,34,"i"],[111,41,150,35],[111,42,150,36],[111,43,150,37,"redeemScript"],[111,55,150,49],[111,58,151,12,"input"],[111,63,151,17],[111,64,151,18,"signedPSBTInput"],[111,79,151,33],[111,80,151,34,"redeemScript"],[111,92,151,46],[112,16,152,10,"payjoinPsbt"],[112,27,152,21],[112,28,152,22,"data"],[112,32,152,26],[112,33,152,27,"inputs"],[112,39,152,33],[112,40,152,34,"i"],[112,41,152,35],[112,42,152,36],[112,43,152,37,"sighashType"],[112,54,152,48],[112,57,153,12,"input"],[112,62,153,17],[112,63,153,18,"signedPSBTInput"],[112,78,153,33],[112,79,153,34,"sighashType"],[112,90,153,45],[113,14,154,8],[113,15,154,9],[113,21,154,15],[114,16,155,10],[115,16,156,10],[115,20,156,14],[115,21,156,15,"_$$_REQUIRE"],[115,32,156,15],[115,33,156,15,"_dependencyMap"],[115,47,156,15],[115,63,156,23,"isFinalized"],[115,74,156,34],[115,75,156,35,"proposedPSBTInput"],[115,92,156,52],[115,93,156,53],[115,95,157,12],[115,101,157,18],[115,105,157,22,"Error"],[115,110,157,27],[115,111,158,14],[115,162,159,12],[115,163,159,13],[116,16,160,10],[117,16,161,10],[117,20,162,12],[117,21,162,13,"proposedPSBTInput"],[117,38,162,30],[117,39,162,31,"nonWitnessUtxo"],[117,53,162,45],[117,57,163,12],[117,58,163,13,"proposedPSBTInput"],[117,75,163,30],[117,76,163,31,"witnessUtxo"],[117,87,163,42],[117,89,165,12],[117,95,165,18],[117,99,165,22,"Error"],[117,104,165,27],[117,105,166,14],[117,192,167,12],[117,193,167,13],[118,16,168,10],[118,20,168,14,"proposedTxIn"],[118,32,168,26],[118,33,168,27,"sequence"],[118,41,168,35],[118,45,168,39],[118,49,168,43],[118,51,168,45],[119,18,169,12,"sequences"],[119,27,169,21],[119,28,169,22,"add"],[119,31,169,25],[119,32,169,26,"proposedTxIn"],[119,44,169,38],[119,45,169,39,"sequence"],[119,53,169,47],[119,54,169,48],[120,16,170,10],[121,16,171,10],[122,16,172,10],[122,20,172,14,"originalType"],[122,32,172,26],[122,37,172,31,"_$$_REQUIRE"],[122,48,172,31],[122,49,172,31,"_dependencyMap"],[122,63,172,31],[122,79,172,39,"getInputScriptPubKeyType"],[122,103,172,63],[122,104,172,64,"payjoinPsbt"],[122,115,172,75],[122,117,172,77,"i"],[122,118,172,78],[122,119,172,79],[122,121,173,12],[122,127,173,18],[122,131,173,22,"Error"],[122,136,173,27],[122,137,173,28],[122,180,173,71],[122,181,173,72],[123,14,174,8],[124,12,175,6],[125,12,176,6],[126,12,177,6],[126,16,177,10,"originalInputs"],[126,30,177,24],[126,31,177,25,"length"],[126,37,177,31],[126,42,177,36],[126,43,177,37],[126,45,178,8],[126,51,178,14],[126,55,178,18,"Error"],[126,60,178,23],[126,61,178,24],[126,114,178,77],[126,115,178,78],[127,12,179,6],[128,12,180,6],[128,16,180,10,"sequences"],[128,25,180,19],[128,26,180,20,"size"],[128,30,180,24],[128,35,180,29],[128,36,180,30],[128,38,181,8],[128,44,181,14],[128,48,181,18,"Error"],[128,53,181,23],[128,54,181,24],[128,95,181,65],[128,96,181,66],[129,12,182,6],[129,16,182,12,"originalFee"],[129,27,182,23],[129,30,182,26,"clonedPsbt"],[129,40,182,36],[129,41,182,37,"getFee"],[129,47,182,43],[129,48,182,44],[129,49,182,45],[130,12,183,6],[130,16,183,10,"newFee"],[130,22,183,16],[131,12,184,6],[131,16,184,12,"signedPsbt"],[131,26,184,22],[131,35,184,31],[131,39,184,35],[131,40,184,36,"wallet"],[131,46,184,42],[131,47,184,43,"signPsbt"],[131,55,184,51],[131,56,184,52,"payjoinPsbt"],[131,67,184,63],[131,68,184,64],[132,12,185,6],[132,16,185,10],[133,14,186,8,"newFee"],[133,20,186,14],[133,23,186,17,"signedPsbt"],[133,33,186,27],[133,34,186,28,"getFee"],[133,40,186,34],[133,41,186,35],[133,42,186,36],[134,12,187,6],[134,13,187,7],[134,14,187,8],[134,21,187,15,"e"],[134,22,187,16],[134,24,187,18],[135,14,188,8],[135,20,188,14],[135,24,188,18,"Error"],[135,29,188,23],[135,30,189,10],[135,113,190,8],[135,114,190,9],[136,12,191,6],[137,12,192,6],[137,16,192,12,"additionalFee"],[137,29,192,25],[137,32,192,28,"newFee"],[137,38,192,34],[137,41,192,37,"originalFee"],[137,52,192,48],[138,12,193,6],[138,16,193,10,"additionalFee"],[138,29,193,23],[138,32,193,26],[138,33,193,27],[138,35,194,8],[138,41,194,14],[138,45,194,18,"Error"],[138,50,194,23],[138,51,194,24],[138,88,194,61],[138,89,194,62],[139,12,195,6],[140,12,196,6],[140,17,196,11],[140,21,196,15,"i"],[140,23,196,16],[140,26,196,19],[140,27,196,20],[140,29,196,22,"i"],[140,31,196,23],[140,34,196,26,"payjoinPsbt"],[140,45,196,37],[140,46,196,38,"data"],[140,50,196,42],[140,51,196,43,"outputs"],[140,58,196,50],[140,59,196,51,"length"],[140,65,196,57],[140,67,196,59,"i"],[140,69,196,60],[140,71,196,62],[140,73,196,64],[141,14,197,8],[141,18,197,14,"proposedPSBTOutput"],[141,36,197,32],[141,39,197,35,"payjoinPsbt"],[141,50,197,46],[141,51,197,47,"data"],[141,55,197,51],[141,56,197,52,"outputs"],[141,63,197,59],[141,64,197,60,"i"],[141,66,197,61],[141,67,197,62],[142,14,198,8],[142,18,198,14,"proposedTxOut"],[142,31,198,27],[142,34,198,30,"payjoinPsbt"],[142,45,198,41],[142,46,198,42,"txOutputs"],[142,55,198,51],[142,56,198,52,"i"],[142,58,198,53],[142,59,198,54],[143,14,199,8],[144,14,200,8],[144,18,200,12,"_$$_REQUIRE"],[144,29,200,12],[144,30,200,12,"_dependencyMap"],[144,44,200,12],[144,60,200,20,"hasKeypathInformationSet"],[144,84,200,44],[144,85,200,45,"proposedPSBTOutput"],[144,103,200,63],[144,104,200,64],[144,106,201,10],[144,112,201,16],[144,116,201,20,"Error"],[144,121,201,25],[144,122,201,26],[144,164,201,68],[144,165,201,69],[145,14,202,8],[145,18,202,12,"originalOutputs"],[145,33,202,27],[145,34,202,28,"length"],[145,40,202,34],[145,45,202,39],[145,46,202,40],[145,48,202,42],[146,14,203,8],[146,18,203,14,"originalOutput"],[146,32,203,28],[146,35,203,31,"originalOutputs"],[146,50,203,46],[146,51,203,47],[146,52,203,48],[146,53,203,49],[147,14,204,8],[147,18,204,14,"isOriginalOutput"],[147,34,204,30],[147,37,204,33,"originalOutput"],[147,51,204,47],[147,52,204,48,"originalTxOut"],[147,65,204,61],[147,66,204,62,"script"],[147,72,204,68],[147,73,204,69,"equals"],[147,79,204,75],[147,80,205,10,"payjoinPsbt"],[147,91,205,21],[147,92,205,22,"txOutputs"],[147,101,205,31],[147,102,205,32,"i"],[147,104,205,33],[147,105,205,34],[147,106,205,35,"script"],[147,112,206,8],[147,113,206,9],[148,14,207,8],[148,18,207,14,"substitutedOutput"],[148,35,207,31],[148,38,208,10],[148,39,208,11,"isOriginalOutput"],[148,55,208,27],[148,59,209,10,"allowOutputSubstitution"],[148,82,209,33],[148,86,210,10,"originalOutput"],[148,100,210,24],[148,101,210,25,"originalTxOut"],[148,114,210,38],[148,115,210,39,"script"],[148,121,210,45],[148,122,210,46,"equals"],[148,128,210,52],[148,129,210,53],[148,133,210,57],[148,134,210,58,"paymentScript"],[148,147,210,71],[148,148,210,72],[149,14,211,8],[149,18,211,12,"isOriginalOutput"],[149,34,211,28],[149,38,211,32,"substitutedOutput"],[149,55,211,49],[149,57,211,51],[150,16,212,10,"originalOutputs"],[150,31,212,25],[150,32,212,26,"splice"],[150,38,212,32],[150,39,212,33],[150,40,212,34],[150,42,212,36],[150,43,212,37],[150,44,212,38],[151,16,213,10],[151,20,214,12,"feeOutput"],[151,29,214,21],[151,33,215,12,"originalOutput"],[151,47,215,26],[151,48,215,27,"index"],[151,53,215,32],[151,59,216,15],[151,60,216,16,"_e"],[151,62,216,18],[151,65,216,21],[151,69,216,25],[151,70,216,26,"payjoinParameters"],[151,87,216,43],[151,93,216,49],[151,97,216,53],[151,101,216,57,"_e"],[151,103,216,59],[151,108,216,64],[151,113,216,69],[151,114,216,70],[151,117,217,18],[151,122,217,23],[151,123,217,24],[151,126,218,18,"_e"],[151,128,218,20],[151,129,218,21,"additionalFeeOutputIndex"],[151,153,218,45],[151,154,218,46],[151,159,219,13],[151,160,219,14,"_f"],[151,162,219,16],[151,165,219,19],[151,169,219,23],[151,170,219,24,"payjoinParameters"],[151,187,219,41],[151,193,219,47],[151,197,219,51],[151,201,219,55,"_f"],[151,203,219,57],[151,208,219,62],[151,213,219,67],[151,214,219,68],[151,217,220,16],[151,222,220,21],[151,223,220,22],[151,226,221,16,"_f"],[151,228,221,18],[151,229,221,19,"maxAdditionalFeeContribution"],[151,257,221,47],[151,258,221,48],[151,262,222,12,"proposedTxOut"],[151,275,222,25],[151,276,222,26,"value"],[151,281,222,31],[151,286,222,36,"feeOutput"],[151,295,222,45],[151,296,222,46,"originalTxOut"],[151,309,222,59],[151,310,222,60,"value"],[151,315,222,65],[151,317,223,12],[152,18,224,12],[152,22,224,18,"actualContribution"],[152,40,224,36],[152,43,225,14,"feeOutput"],[152,52,225,23],[152,53,225,24,"originalTxOut"],[152,66,225,37],[152,67,225,38,"value"],[152,72,225,43],[152,75,225,46,"proposedTxOut"],[152,88,225,59],[152,89,225,60,"value"],[152,94,225,65],[153,18,226,12],[154,18,227,12],[154,22,228,14,"actualContribution"],[154,40,228,32],[154,44,229,15],[154,45,229,16,"_g"],[154,47,229,18],[154,50,229,21],[154,54,229,25],[154,55,229,26,"payjoinParameters"],[154,72,229,43],[154,78,229,49],[154,82,229,53],[154,86,229,57,"_g"],[154,88,229,59],[154,93,229,64],[154,98,229,69],[154,99,229,70],[154,102,230,18],[154,107,230,23],[154,108,230,24],[154,111,231,18,"_g"],[154,113,231,20],[154,114,231,21,"maxAdditionalFeeContribution"],[154,142,231,49],[154,143,231,50],[154,145,233,14],[154,151,233,20],[154,155,233,24,"Error"],[154,160,233,29],[154,161,234,16],[154,228,235,14],[154,229,235,15],[155,18,236,12],[156,18,237,12],[156,22,237,16,"actualContribution"],[156,40,237,34],[156,43,237,37,"additionalFee"],[156,56,237,50],[156,58,238,14],[156,64,238,20],[156,68,238,24,"Error"],[156,73,238,29],[156,74,238,30],[156,122,238,78],[156,123,238,79],[157,18,239,12],[158,18,240,12],[158,22,240,18,"additionalInputsCount"],[158,43,240,39],[158,46,241,14,"payjoinPsbt"],[158,57,241,25],[158,58,241,26,"txInputs"],[158,66,241,34],[158,67,241,35,"length"],[158,73,241,41],[158,76,241,44,"clonedPsbt"],[158,86,241,54],[158,87,241,55,"txInputs"],[158,95,241,63],[158,96,241,64,"length"],[158,102,241,70],[159,18,242,12],[159,22,243,14,"actualContribution"],[159,40,243,32],[159,43,244,14,"_$$_REQUIRE"],[159,54,244,14],[159,55,244,14,"_dependencyMap"],[159,69,244,14],[159,85,244,22,"getFee"],[159,91,244,28],[159,92,245,16,"originalFeeRate"],[159,107,245,31],[159,109,246,16,"_$$_REQUIRE"],[159,120,246,16],[159,121,246,16,"_dependencyMap"],[159,135,246,16],[159,151,246,24,"getVirtualSize"],[159,165,246,38],[159,166,246,39,"originalType"],[159,178,246,51],[159,179,247,14],[159,180,247,15],[159,183,248,16,"additionalInputsCount"],[159,204,248,37],[159,206,250,14],[159,212,250,20],[159,216,250,24,"Error"],[159,221,250,29],[159,222,251,16],[159,288,252,14],[159,289,252,15],[160,16,253,10],[160,17,253,11],[160,23,253,17],[160,27,254,12,"allowOutputSubstitution"],[160,50,254,35],[160,54,255,12,"originalOutput"],[160,68,255,26],[160,69,255,27,"originalTxOut"],[160,82,255,40],[160,83,255,41,"script"],[160,89,255,47],[160,90,255,48,"equals"],[160,96,255,54],[160,97,255,55],[160,101,255,59],[160,102,255,60,"paymentScript"],[160,115,255,73],[160,116,255,74],[160,118,256,12],[161,18,257,12],[162,16,257,12],[162,17,258,11],[162,23,258,17],[163,18,259,12],[163,22,259,16,"originalOutput"],[163,36,259,30],[163,37,259,31,"originalTxOut"],[163,50,259,44],[163,51,259,45,"value"],[163,56,259,50],[163,59,259,53,"proposedTxOut"],[163,72,259,66],[163,73,259,67,"value"],[163,78,259,72],[163,80,260,14],[163,86,260,20],[163,90,260,24,"Error"],[163,95,260,29],[163,96,261,16],[163,152,262,14],[163,153,262,15],[164,16,263,10],[165,16,264,10],[166,16,265,10,"payjoinPsbt"],[166,27,265,21],[166,28,265,22,"updateOutput"],[166,40,265,34],[166,41,265,35,"i"],[166,43,265,36],[166,45,265,38,"proposedPSBTOutput"],[166,63,265,56],[166,64,265,57],[167,14,266,8],[168,12,267,6],[169,12,268,6],[170,12,269,6],[170,16,269,10,"originalOutputs"],[170,31,269,25],[170,32,269,26,"length"],[170,38,269,32],[170,43,269,37],[170,44,269,38],[170,46,269,40],[171,14,270,8],[171,18,271,10],[171,19,271,11,"allowOutputSubstitution"],[171,42,271,34],[171,46,272,10,"originalOutputs"],[171,61,272,25],[171,62,272,26,"length"],[171,68,272,32],[171,73,272,37],[171,74,272,38],[171,78,273,10],[171,79,273,11,"originalOutputs"],[171,94,273,26],[171,95,274,13,"splice"],[171,101,274,19],[171,102,274,20],[171,103,274,21],[171,105,274,23],[171,106,274,24],[171,107,274,25],[171,108,274,26],[171,109,274,27],[171,110,274,28],[171,111,275,13,"originalTxOut"],[171,124,275,26],[171,125,275,27,"script"],[171,131,275,33],[171,132,275,34,"equals"],[171,138,275,40],[171,139,275,41],[171,143,275,45],[171,144,275,46,"paymentScript"],[171,157,275,59],[171,158,275,60],[171,160,276,10],[172,16,277,10],[172,22,277,16],[172,26,277,20,"Error"],[172,31,277,25],[172,32,278,12],[172,86,279,10],[172,87,279,11],[173,14,280,8],[174,12,281,6],[175,12,282,6],[176,12,283,6],[176,16,284,8],[176,17,284,9,"_h"],[176,19,284,11],[176,22,284,14],[176,26,284,18],[176,27,284,19,"payjoinParameters"],[176,44,284,36],[176,50,284,42],[176,54,284,46],[176,58,284,50,"_h"],[176,60,284,52],[176,65,284,57],[176,70,284,62],[176,71,284,63],[176,74,285,12],[176,79,285,17],[176,80,285,18],[176,83,286,12,"_h"],[176,85,286,14],[176,86,286,15,"minimumFeeRate"],[176,100,286,29],[176,102,287,8],[177,14,288,8],[177,18,288,12,"newFeeRate"],[177,28,288,22],[178,14,289,8],[178,18,289,12],[179,16,290,10,"newFeeRate"],[179,26,290,20],[179,29,290,23,"payjoinPsbt"],[179,40,290,34],[179,41,290,35,"getFeeRate"],[179,51,290,45],[179,52,290,46],[179,53,290,47],[180,14,291,8],[180,15,291,9],[180,16,291,10],[180,23,291,17,"_k"],[180,25,291,19],[180,27,291,21],[181,16,292,10],[181,22,292,16],[181,26,292,20,"Error"],[181,31,292,25],[181,32,293,12],[181,115,294,10],[181,116,294,11],[182,14,295,8],[183,14,296,8],[183,18,297,10,"newFeeRate"],[183,28,297,20],[183,32,298,11],[183,33,298,12,"_j"],[183,35,298,14],[183,38,298,17],[183,42,298,21],[183,43,298,22,"payjoinParameters"],[183,60,298,39],[183,66,298,45],[183,70,298,49],[183,74,298,53,"_j"],[183,76,298,55],[183,81,298,60],[183,86,298,65],[183,87,298,66],[183,90,299,14],[183,95,299,19],[183,96,299,20],[183,99,300,14,"_j"],[183,101,300,16],[183,102,300,17,"minimumFeeRate"],[183,116,300,31],[183,117,300,32],[183,119,302,10],[183,125,302,16],[183,129,302,20,"Error"],[183,134,302,25],[183,135,303,12],[183,199,304,10],[183,200,304,11],[184,12,305,6],[185,12,306,6],[186,12,307,6],[186,16,307,12,"tx"],[186,18,307,14],[186,21,307,17,"signedPsbt"],[186,31,307,27],[186,32,307,28,"extractTransaction"],[186,50,307,46],[186,51,307,47],[186,52,307,48],[187,12,308,6],[188,12,309,6],[189,12,310,6],[190,12,311,6],[191,12,312,6],[192,12,313,6],[192,16,313,12,"response"],[192,24,313,20],[192,33,313,29],[192,37,313,33],[192,38,313,34,"wallet"],[192,44,313,40],[192,45,313,41,"broadcastTx"],[192,56,313,52],[192,57,313,53,"tx"],[192,59,313,55],[192,60,313,56,"toHex"],[192,65,313,61],[192,66,313,62],[192,67,313,63],[192,68,313,64],[193,12,314,6],[193,16,314,10,"response"],[193,24,314,18],[193,29,314,23],[193,31,314,25],[193,33,314,27],[194,14,315,8],[194,20,315,14],[194,24,315,18,"Error"],[194,29,315,23],[194,30,316,10],[194,74,316,54],[194,77,316,57,"response"],[194,85,317,8],[194,86,317,9],[195,12,318,6],[195,13,318,7],[195,19,318,13],[196,14,319,8],[197,14,320,8],[197,20,320,14],[197,24,320,18],[197,25,320,19,"wallet"],[197,31,320,25],[197,32,320,26,"scheduleBroadcastTx"],[197,51,320,45],[197,52,321,10,"originalTxHex"],[197,65,321,23],[197,67,322,10,"BROADCAST_ATTEMPT_TIME"],[197,89,323,8],[197,90,323,9],[198,12,324,6],[199,10,325,4],[199,11,325,5],[199,12,325,6],[199,19,325,13,"e"],[199,20,325,14],[199,22,325,16],[200,12,326,6],[201,12,327,6],[201,18,327,12,"broadcastOriginalNow"],[201,38,327,32],[201,39,327,33],[201,40,327,34],[202,12,328,6],[202,18,328,12,"e"],[202,19,328,13],[203,10,329,4],[204,8,330,2],[204,9,330,3],[205,8,330,3],[205,17,35,8,"run"],[205,20,35,11,"run"],[205,21,35,11],[206,10,35,11],[206,17,35,11,"_run"],[206,21,35,11],[206,22,35,11,"apply"],[206,27,35,11],[206,34,35,11,"arguments"],[206,43,35,11],[207,8,35,11],[208,8,35,11],[208,15,35,8,"run"],[208,18,35,11],[209,6,35,11],[210,4,35,11],[211,2,35,11],[212,2,332,0,"exports"],[212,9,332,7],[212,10,332,8,"PayjoinClient"],[212,23,332,21],[212,26,332,24,"PayjoinClient"],[212,39,332,37],[213,2,333,0],[213,11,333,9,"isRequesterOpts"],[213,26,333,24,"isRequesterOpts"],[213,27,333,25,"opts"],[213,31,333,29],[213,33,333,31],[214,4,334,2],[214,11,334,9,"opts"],[214,15,334,13],[214,16,334,14,"payjoinRequester"],[214,32,334,30],[214,37,334,35,"undefined"],[214,46,334,44],[215,2,335,0],[216,0,335,1],[216,3]],"functionMap":{"names":["<global>","PayjoinClient","PayjoinClient#constructor","PayjoinClient#run","broadcastOriginalNow","clonedPsbt.data.outputs.forEach$argument_0","clonedPsbt.txInputs.map$argument_0","clonedPsbt.txOutputs.map$argument_0","isRequesterOpts"],"mappings":"AAA;ACM;ECC;GD0B;EEC;iCCO,4CD;sCEM;OFE;qDGE;OHK;uDIC;OJM;GF0Q;CDC;AQE;CRE"}},"type":"js/module"}]}