{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0},"end":{"line":81,"column":26}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk="}},{"name":"../EventEmitter/RCTDeviceEventEmitter","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0},"end":{"line":11,"column":74}}],"key":"XoPAg1BdnOZCXdEAjKNXTGpZCQ4="}},{"name":"./NativeSettingsManager","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0},"end":{"line":12,"column":60}}],"key":"ZALF2E990bb3N7JpHAv6te6YuYk="}},{"name":"invariant","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0},"end":{"line":13,"column":34}}],"key":"4HPAaDQ25ZwZ2dzTLatXuUucZUM="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  var _RCTDeviceEventEmitter = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"../EventEmitter/RCTDeviceEventEmitter\"));\n  var _NativeSettingsManager = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"./NativeSettingsManager\"));\n  var _invariant = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"invariant\"));\n  var subscriptions = [];\n  var Settings = {\n    _settings: _NativeSettingsManager.default && _NativeSettingsManager.default.getConstants().settings,\n    get: function get(key) {\n      return this._settings[key];\n    },\n    set: function set(settings) {\n      this._settings = Object.assign(this._settings, settings);\n      _NativeSettingsManager.default.setValues(settings);\n    },\n    watchKeys: function watchKeys(keys, callback) {\n      if (typeof keys === 'string') {\n        keys = [keys];\n      }\n      (0, _invariant.default)(Array.isArray(keys), 'keys should be a string or array of strings');\n      var sid = subscriptions.length;\n      subscriptions.push({\n        keys: keys,\n        callback: callback\n      });\n      return sid;\n    },\n    clearWatch: function clearWatch(watchId) {\n      if (watchId < subscriptions.length) {\n        subscriptions[watchId] = {\n          keys: [],\n          callback: null\n        };\n      }\n    },\n    _sendObservations: function _sendObservations(body) {\n      var _this = this;\n      Object.keys(body).forEach(function (key) {\n        var newValue = body[key];\n        var didChange = _this._settings[key] !== newValue;\n        _this._settings[key] = newValue;\n        if (didChange) {\n          subscriptions.forEach(function (sub) {\n            if (sub.keys.indexOf(key) !== -1 && sub.callback) {\n              sub.callback();\n            }\n          });\n        }\n      });\n    }\n  };\n  _RCTDeviceEventEmitter.default.addListener('settingsUpdated', Settings._sendObservations.bind(Settings));\n  module.exports = Settings;\n});","lineCount":54,"map":[[3,2,11,0],[3,6,11,0,"_RCTDeviceEventEmitter"],[3,28,11,0],[3,31,11,0,"_interopRequireDefault"],[3,53,11,0],[3,54,11,0,"_$$_REQUIRE"],[3,65,11,0],[3,66,11,0,"_dependencyMap"],[3,80,11,0],[4,2,12,0],[4,6,12,0,"_NativeSettingsManager"],[4,28,12,0],[4,31,12,0,"_interopRequireDefault"],[4,53,12,0],[4,54,12,0,"_$$_REQUIRE"],[4,65,12,0],[4,66,12,0,"_dependencyMap"],[4,80,12,0],[5,2,13,0],[5,6,13,0,"_invariant"],[5,16,13,0],[5,19,13,0,"_interopRequireDefault"],[5,41,13,0],[5,42,13,0,"_$$_REQUIRE"],[5,53,13,0],[5,54,13,0,"_dependencyMap"],[5,68,13,0],[6,2,15,0],[6,6,15,6,"subscriptions"],[6,19,19,2],[6,22,19,5],[6,24,19,7],[7,2,21,0],[7,6,21,6,"Settings"],[7,14,21,14],[7,17,21,17],[8,4,22,2,"_settings"],[8,13,22,11],[8,15,22,14,"NativeSettingsManager"],[8,45,22,35],[8,49,23,4,"NativeSettingsManager"],[8,79,23,25],[8,80,23,26,"getConstants"],[8,92,23,38],[8,93,23,39],[8,94,23,40],[8,95,23,41,"settings"],[8,103,23,55],[9,4,25,2,"get"],[9,7,25,5],[9,18,25,2,"get"],[9,21,25,5,"get"],[9,22,25,6,"key"],[9,25,25,17],[9,27,25,26],[10,6,27,4],[10,13,27,11],[10,17,27,15],[10,18,27,16,"_settings"],[10,27,27,25],[10,28,27,26,"key"],[10,31,27,29],[10,32,27,30],[11,4,28,2],[11,5,28,3],[12,4,30,2,"set"],[12,7,30,5],[12,18,30,2,"set"],[12,21,30,5,"set"],[12,22,30,6,"settings"],[12,30,30,22],[12,32,30,24],[13,6,32,4],[13,10,32,8],[13,11,32,9,"_settings"],[13,20,32,18],[13,23,32,21,"Object"],[13,29,32,27],[13,30,32,28,"assign"],[13,36,32,34],[13,37,32,35],[13,41,32,39],[13,42,32,40,"_settings"],[13,51,32,49],[13,53,32,51,"settings"],[13,61,32,59],[13,62,32,60],[14,6,33,4,"NativeSettingsManager"],[14,36,33,25],[14,37,33,26,"setValues"],[14,46,33,35],[14,47,33,36,"settings"],[14,55,33,44],[14,56,33,45],[15,4,34,2],[15,5,34,3],[16,4,36,2,"watchKeys"],[16,13,36,11],[16,24,36,2,"watchKeys"],[16,33,36,11,"watchKeys"],[16,34,36,12,"keys"],[16,38,36,40],[16,40,36,42,"callback"],[16,48,36,60],[16,50,36,70],[17,6,37,4],[17,10,37,8],[17,17,37,15,"keys"],[17,21,37,19],[17,26,37,24],[17,34,37,32],[17,36,37,34],[18,8,38,6,"keys"],[18,12,38,10],[18,15,38,13],[18,16,38,14,"keys"],[18,20,38,18],[18,21,38,19],[19,6,39,4],[20,6,41,4],[20,10,41,4,"invariant"],[20,28,41,13],[20,30,42,6,"Array"],[20,35,42,11],[20,36,42,12,"isArray"],[20,43,42,19],[20,44,42,20,"keys"],[20,48,42,24],[20,49,42,25],[20,51,43,6],[20,96,44,4],[20,97,44,5],[21,6,46,4],[21,10,46,10,"sid"],[21,13,46,13],[21,16,46,16,"subscriptions"],[21,29,46,29],[21,30,46,30,"length"],[21,36,46,36],[22,6,47,4,"subscriptions"],[22,19,47,17],[22,20,47,18,"push"],[22,24,47,22],[22,25,47,23],[23,8,47,24,"keys"],[23,12,47,28],[23,14,47,30,"keys"],[23,18,47,34],[24,8,47,36,"callback"],[24,16,47,44],[24,18,47,46,"callback"],[25,6,47,54],[25,7,47,55],[25,8,47,56],[26,6,48,4],[26,13,48,11,"sid"],[26,16,48,14],[27,4,49,2],[27,5,49,3],[28,4,51,2,"clearWatch"],[28,14,51,12],[28,25,51,2,"clearWatch"],[28,35,51,12,"clearWatch"],[28,36,51,13,"watchId"],[28,43,51,28],[28,45,51,30],[29,6,52,4],[29,10,52,8,"watchId"],[29,17,52,15],[29,20,52,18,"subscriptions"],[29,33,52,31],[29,34,52,32,"length"],[29,40,52,38],[29,42,52,40],[30,8,53,6,"subscriptions"],[30,21,53,19],[30,22,53,20,"watchId"],[30,29,53,27],[30,30,53,28],[30,33,53,31],[31,10,53,32,"keys"],[31,14,53,36],[31,16,53,38],[31,18,53,40],[32,10,53,42,"callback"],[32,18,53,50],[32,20,53,52],[33,8,53,56],[33,9,53,57],[34,6,54,4],[35,4,55,2],[35,5,55,3],[36,4,57,2,"_sendObservations"],[36,21,57,19],[36,32,57,2,"_sendObservations"],[36,49,57,19,"_sendObservations"],[36,50,57,20,"body"],[36,54,57,32],[36,56,57,34],[37,6,57,34],[37,10,57,34,"_this"],[37,15,57,34],[38,6,58,4,"Object"],[38,12,58,10],[38,13,58,11,"keys"],[38,17,58,15],[38,18,58,16,"body"],[38,22,58,20],[38,23,58,21],[38,24,58,22,"forEach"],[38,31,58,29],[38,32,58,30],[38,42,58,30,"key"],[38,45,58,33],[38,47,58,37],[39,8,59,6],[39,12,59,12,"newValue"],[39,20,59,20],[39,23,59,23,"body"],[39,27,59,27],[39,28,59,28,"key"],[39,31,59,31],[39,32,59,32],[40,8,61,6],[40,12,61,12,"didChange"],[40,21,61,21],[40,24,61,24,"_this"],[40,29,61,28],[40,30,61,29,"_settings"],[40,39,61,38],[40,40,61,39,"key"],[40,43,61,42],[40,44,61,43],[40,49,61,48,"newValue"],[40,57,61,56],[41,8,63,6,"_this"],[41,13,63,10],[41,14,63,11,"_settings"],[41,23,63,20],[41,24,63,21,"key"],[41,27,63,24],[41,28,63,25],[41,31,63,28,"newValue"],[41,39,63,36],[42,8,65,6],[42,12,65,10,"didChange"],[42,21,65,19],[42,23,65,21],[43,10,66,8,"subscriptions"],[43,23,66,21],[43,24,66,22,"forEach"],[43,31,66,29],[43,32,66,30],[43,42,66,30,"sub"],[43,45,66,33],[43,47,66,37],[44,12,67,10],[44,16,67,14,"sub"],[44,19,67,17],[44,20,67,18,"keys"],[44,24,67,22],[44,25,67,23,"indexOf"],[44,32,67,30],[44,33,67,31,"key"],[44,36,67,34],[44,37,67,35],[44,42,67,40],[44,43,67,41],[44,44,67,42],[44,48,67,46,"sub"],[44,51,67,49],[44,52,67,50,"callback"],[44,60,67,58],[44,62,67,60],[45,14,68,12,"sub"],[45,17,68,15],[45,18,68,16,"callback"],[45,26,68,24],[45,27,68,25],[45,28,68,26],[46,12,69,10],[47,10,70,8],[47,11,70,9],[47,12,70,10],[48,8,71,6],[49,6,72,4],[49,7,72,5],[49,8,72,6],[50,4,73,2],[51,2,74,0],[51,3,74,1],[52,2,76,0,"RCTDeviceEventEmitter"],[52,32,76,21],[52,33,76,22,"addListener"],[52,44,76,33],[52,45,77,2],[52,62,77,19],[52,64,78,2,"Settings"],[52,72,78,10],[52,73,78,11,"_sendObservations"],[52,90,78,28],[52,91,78,29,"bind"],[52,95,78,33],[52,96,78,34,"Settings"],[52,104,78,42],[52,105,79,0],[52,106,79,1],[53,2,81,0,"module"],[53,8,81,6],[53,9,81,7,"exports"],[53,16,81,14],[53,19,81,17,"Settings"],[53,27,81,25],[54,0,81,26],[54,3]],"functionMap":{"names":["<global>","get","set","watchKeys","clearWatch","_sendObservations","Object.keys.forEach$argument_0","subscriptions.forEach$argument_0"],"mappings":"AAA;ECwB;GDG;EEE;GFI;EGE;GHa;EIE;GJI;EKE;8BCC;8BCQ;SDI;KDE;GLC"}},"type":"js/module"}]}