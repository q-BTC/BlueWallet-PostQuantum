{"dependencies":[{"name":"./es-utils/is-array","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":16,"index":16},"end":{"line":1,"column":46,"index":46}}],"key":"bqc1oUBrnT7eJ/g7I7OjDF3ZBcU="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var isSafeLiteral = function isSafeLiteral(obj) {\n    return typeof obj === 'string' || obj instanceof String || typeof obj === 'number' || obj instanceof Number || typeof obj === 'boolean' || obj instanceof Boolean;\n  };\n  var isError = function isError(o) {\n    return o instanceof Error || /^\\[object (Error|(Dom)?Exception)]$/.test(Object.prototype.toString.call(o));\n  };\n  var throwsMessage = function throwsMessage(err) {\n    return '[Throws: ' + (err ? err.message : '?') + ']';\n  };\n  var safelyGetProp = function safelyGetProp(obj, propName) {\n    try {\n      return obj[propName];\n    } catch (err) {\n      return throwsMessage(err);\n    }\n  };\n\n  /**\n   * Similar to `safe-json-stringify` this function rebuilds an object graph without any circular references.\n   * This requirement is different to `JSON.parse(safeJsonStringify(data))` in three key ways:\n   * - `toJSON` methods are not called\n   * - there is no redaction or fixed depth limit\n   *\n   * @param data the value to be made safe for the ReactNative bridge\n   * @returns a safe version of the given `data`\n   */\n  module.exports = function (data) {\n    var seen = [];\n    var _visit = function visit(obj) {\n      if (obj === null || obj === undefined) return obj;\n      if (isSafeLiteral(obj)) {\n        return obj;\n      }\n      if (isError(obj)) {\n        return _visit({\n          name: obj.name,\n          message: obj.message\n        });\n      }\n      if (obj instanceof Date) {\n        return obj.toISOString();\n      }\n      if (seen.includes(obj)) {\n        // circular references are replaced and marked\n        return '[Circular]';\n      }\n\n      // handle arrays, and all iterable non-array types (such as Set)\n      if (_$$_REQUIRE(_dependencyMap[0], \"./es-utils/is-array\")(obj) || obj[Symbol.iterator]) {\n        seen.push(obj);\n        var safeArray = [];\n        try {\n          for (var value of obj) {\n            safeArray.push(_visit(value));\n          }\n        } catch (err) {\n          // if retrieving the Iterator fails\n          return throwsMessage(err);\n        }\n        seen.pop();\n        return safeArray;\n      }\n      seen.push(obj);\n      var safeObj = {};\n      for (var propName in obj) {\n        safeObj[propName] = _visit(safelyGetProp(obj, propName));\n      }\n      seen.pop();\n      return safeObj;\n    };\n    return _visit(data);\n  };\n});","lineCount":74,"map":[[2,2,3,0],[2,6,3,6,"isSafeLiteral"],[2,19,3,19],[2,22,3,22],[2,31,3,6,"isSafeLiteral"],[2,44,3,19,"isSafeLiteral"],[2,45,3,23,"obj"],[2,48,3,26],[3,4,3,26],[3,11,4,2],[3,18,4,9,"obj"],[3,21,4,12],[3,26,4,17],[3,34,4,25],[3,38,4,29,"obj"],[3,41,4,32],[3,53,4,44,"String"],[3,59,4,50],[3,63,5,2],[3,70,5,9,"obj"],[3,73,5,12],[3,78,5,17],[3,86,5,25],[3,90,5,29,"obj"],[3,93,5,32],[3,105,5,44,"Number"],[3,111,5,50],[3,115,6,2],[3,122,6,9,"obj"],[3,125,6,12],[3,130,6,17],[3,139,6,26],[3,143,6,30,"obj"],[3,146,6,33],[3,158,6,45,"Boolean"],[3,165,6,52],[4,2,6,52],[4,3,7,1],[5,2,9,0],[5,6,9,6,"isError"],[5,13,9,13],[5,16,9,16],[5,25,9,6,"isError"],[5,32,9,13,"isError"],[5,33,9,16,"o"],[5,34,9,17],[6,4,9,17],[6,11,10,2,"o"],[6,12,10,3],[6,24,10,15,"Error"],[6,29,10,20],[6,33,10,24],[6,70,10,61],[6,71,10,62,"test"],[6,75,10,66],[6,76,10,67,"Object"],[6,82,10,73],[6,83,10,74,"prototype"],[6,92,10,83],[6,93,10,84,"toString"],[6,101,10,92],[6,102,10,93,"call"],[6,106,10,97],[6,107,10,98,"o"],[6,108,10,99],[6,109,10,100],[6,110,10,101],[7,2,10,101],[7,3,11,1],[8,2,13,0],[8,6,13,6,"throwsMessage"],[8,19,13,19],[8,22,13,22],[8,31,13,6,"throwsMessage"],[8,44,13,19,"throwsMessage"],[8,45,13,22,"err"],[8,48,13,25],[9,4,13,25],[9,11,13,29],[9,22,13,40],[9,26,13,44,"err"],[9,29,13,47],[9,32,13,50,"err"],[9,35,13,53],[9,36,13,54,"message"],[9,43,13,61],[9,46,13,64],[9,49,13,67],[9,50,13,68],[9,53,13,71],[9,56,13,74],[10,2,13,74],[11,2,15,0],[11,6,15,6,"safelyGetProp"],[11,19,15,19],[11,22,15,22],[11,31,15,6,"safelyGetProp"],[11,44,15,19,"safelyGetProp"],[11,45,15,23,"obj"],[11,48,15,26],[11,50,15,28,"propName"],[11,58,15,36],[11,60,15,41],[12,4,16,2],[12,8,16,6],[13,6,17,4],[13,13,17,11,"obj"],[13,16,17,14],[13,17,17,15,"propName"],[13,25,17,23],[13,26,17,24],[14,4,18,2],[14,5,18,3],[14,6,18,4],[14,13,18,11,"err"],[14,16,18,14],[14,18,18,16],[15,6,19,4],[15,13,19,11,"throwsMessage"],[15,26,19,24],[15,27,19,25,"err"],[15,30,19,28],[15,31,19,29],[16,4,20,2],[17,2,21,0],[17,3,21,1],[19,2,23,0],[20,0,24,0],[21,0,25,0],[22,0,26,0],[23,0,27,0],[24,0,28,0],[25,0,29,0],[26,0,30,0],[27,0,31,0],[28,2,32,0,"module"],[28,8,32,6],[28,9,32,7,"exports"],[28,16,32,14],[28,19,32,17],[28,29,32,27,"data"],[28,33,32,31],[28,35,32,33],[29,4,33,2],[29,8,33,8,"seen"],[29,12,33,12],[29,15,33,15],[29,17,33,17],[30,4,35,2],[30,8,35,8,"visit"],[30,14,35,13],[30,17,35,16],[30,26,35,8,"visit"],[30,31,35,13,"visit"],[30,32,35,17,"obj"],[30,35,35,20],[30,37,35,25],[31,6,36,4],[31,10,36,8,"obj"],[31,13,36,11],[31,18,36,16],[31,22,36,20],[31,26,36,24,"obj"],[31,29,36,27],[31,34,36,32,"undefined"],[31,43,36,41],[31,45,36,43],[31,52,36,50,"obj"],[31,55,36,53],[32,6,38,4],[32,10,38,8,"isSafeLiteral"],[32,23,38,21],[32,24,38,22,"obj"],[32,27,38,25],[32,28,38,26],[32,30,38,28],[33,8,39,6],[33,15,39,13,"obj"],[33,18,39,16],[34,6,40,4],[35,6,42,4],[35,10,42,8,"isError"],[35,17,42,15],[35,18,42,16,"obj"],[35,21,42,19],[35,22,42,20],[35,24,42,22],[36,8,43,6],[36,15,43,13,"visit"],[36,21,43,18],[36,22,43,19],[37,10,43,21,"name"],[37,14,43,25],[37,16,43,27,"obj"],[37,19,43,30],[37,20,43,31,"name"],[37,24,43,35],[38,10,43,37,"message"],[38,17,43,44],[38,19,43,46,"obj"],[38,22,43,49],[38,23,43,50,"message"],[39,8,43,58],[39,9,43,59],[39,10,43,60],[40,6,44,4],[41,6,46,4],[41,10,46,8,"obj"],[41,13,46,11],[41,25,46,23,"Date"],[41,29,46,27],[41,31,46,29],[42,8,47,6],[42,15,47,13,"obj"],[42,18,47,16],[42,19,47,17,"toISOString"],[42,30,47,28],[42,31,47,29],[42,32,47,30],[43,6,48,4],[44,6,50,4],[44,10,50,8,"seen"],[44,14,50,12],[44,15,50,13,"includes"],[44,23,50,21],[44,24,50,22,"obj"],[44,27,50,25],[44,28,50,26],[44,30,50,28],[45,8,51,6],[46,8,52,6],[46,15,52,13],[46,27,52,25],[47,6,53,4],[49,6,55,4],[50,6,56,4],[50,10,56,8,"_$$_REQUIRE"],[50,21,56,8],[50,22,56,8,"_dependencyMap"],[50,36,56,8],[50,64,56,16,"obj"],[50,67,56,19],[50,68,56,20],[50,72,56,24,"obj"],[50,75,56,27],[50,76,56,28,"Symbol"],[50,82,56,34],[50,83,56,35,"iterator"],[50,91,56,43],[50,92,56,44],[50,94,56,46],[51,8,57,6,"seen"],[51,12,57,10],[51,13,57,11,"push"],[51,17,57,15],[51,18,57,16,"obj"],[51,21,57,19],[51,22,57,20],[52,8,58,6],[52,12,58,12,"safeArray"],[52,21,58,21],[52,24,58,24],[52,26,58,26],[53,8,59,6],[53,12,59,10],[54,10,60,8],[54,15,60,13],[54,19,60,19,"value"],[54,24,60,24],[54,28,60,28,"obj"],[54,31,60,31],[54,33,60,33],[55,12,61,10,"safeArray"],[55,21,61,19],[55,22,61,20,"push"],[55,26,61,24],[55,27,61,25,"visit"],[55,33,61,30],[55,34,61,31,"value"],[55,39,61,36],[55,40,61,37],[55,41,61,38],[56,10,62,8],[57,8,63,6],[57,9,63,7],[57,10,63,8],[57,17,63,15,"err"],[57,20,63,18],[57,22,63,20],[58,10,64,8],[59,10,65,8],[59,17,65,15,"throwsMessage"],[59,30,65,28],[59,31,65,29,"err"],[59,34,65,32],[59,35,65,33],[60,8,66,6],[61,8,67,6,"seen"],[61,12,67,10],[61,13,67,11,"pop"],[61,16,67,14],[61,17,67,15],[61,18,67,16],[62,8,68,6],[62,15,68,13,"safeArray"],[62,24,68,22],[63,6,69,4],[64,6,71,4,"seen"],[64,10,71,8],[64,11,71,9,"push"],[64,15,71,13],[64,16,71,14,"obj"],[64,19,71,17],[64,20,71,18],[65,6,72,4],[65,10,72,10,"safeObj"],[65,17,72,17],[65,20,72,20],[65,21,72,21],[65,22,72,22],[66,6,73,4],[66,11,73,9],[66,15,73,15,"propName"],[66,23,73,23],[66,27,73,27,"obj"],[66,30,73,30],[66,32,73,32],[67,8,74,6,"safeObj"],[67,15,74,13],[67,16,74,14,"propName"],[67,24,74,22],[67,25,74,23],[67,28,74,26,"visit"],[67,34,74,31],[67,35,74,32,"safelyGetProp"],[67,48,74,45],[67,49,74,46,"obj"],[67,52,74,49],[67,54,74,51,"propName"],[67,62,74,59],[67,63,74,60],[67,64,74,61],[68,6,75,4],[69,6,76,4,"seen"],[69,10,76,8],[69,11,76,9,"pop"],[69,14,76,12],[69,15,76,13],[69,16,76,14],[70,6,78,4],[70,13,78,11,"safeObj"],[70,20,78,18],[71,4,79,2],[71,5,79,3],[72,4,81,2],[72,11,81,9,"visit"],[72,17,81,14],[72,18,81,15,"data"],[72,22,81,19],[72,23,81,20],[73,2,82,0],[73,3,82,1],[74,0,82,1],[74,3]],"functionMap":{"names":["<global>","isSafeLiteral","isError","throwsMessage","safelyGetProp","module.exports","visit"],"mappings":"AAA;sBCE;CDI;gBEE;CFE;sBGE,oDH;sBIE;CJM;iBKW;gBCG;GD4C;CLG"}},"type":"js/module"}]}