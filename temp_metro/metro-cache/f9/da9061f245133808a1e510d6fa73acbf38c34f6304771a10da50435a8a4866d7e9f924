{"dependencies":[{"name":"bip66","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":14,"index":125},"end":{"line":4,"column":30,"index":141}},{"start":{"line":4,"column":14,"index":125},"end":{"line":4,"column":30,"index":141}}],"key":"iXnkYwy9NTH4iitbdfo2FkyI2Ug="}},{"name":"typeforce","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":18,"index":161},"end":{"line":5,"column":38,"index":181}}],"key":"oCEA5RW0Ha+xwR9ueiGUwAxq7Z8="}},{"name":"./types","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":14,"index":91},"end":{"line":3,"column":32,"index":109}},{"start":{"line":3,"column":14,"index":91},"end":{"line":3,"column":32,"index":109}}],"key":"iU0PUTt27rZ09z7DeRf4jWGkzmo="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var ZERO = Buffer.alloc(1, 0);\n  function toDER(x) {\n    var i = 0;\n    while (x[i] === 0) ++i;\n    if (i === x.length) return ZERO;\n    x = x.slice(i);\n    if (x[0] & 0x80) return Buffer.concat([ZERO, x], 1 + x.length);\n    return x;\n  }\n  function fromDER(x) {\n    if (x[0] === 0x00) x = x.slice(1);\n    var buffer = Buffer.alloc(32, 0);\n    var bstart = Math.max(0, 32 - x.length);\n    x.copy(buffer, bstart);\n    return buffer;\n  }\n  // BIP62: 1 byte hashType flag (only 0x01, 0x02, 0x03, 0x81, 0x82 and 0x83 are allowed)\n  function decode(buffer) {\n    var hashType = buffer.readUInt8(buffer.length - 1);\n    var hashTypeMod = hashType & ~0x80;\n    if (hashTypeMod <= 0 || hashTypeMod >= 4) throw new Error('Invalid hashType ' + hashType);\n    var decoded = _$$_REQUIRE(_dependencyMap[0], \"bip66\").decode(buffer.slice(0, -1));\n    var r = fromDER(decoded.r);\n    var s = fromDER(decoded.s);\n    var signature = Buffer.concat([r, s], 64);\n    return {\n      signature: signature,\n      hashType: hashType\n    };\n  }\n  exports.decode = decode;\n  function encode(signature, hashType) {\n    _$$_REQUIRE(_dependencyMap[1], \"typeforce\")({\n      signature: _$$_REQUIRE(_dependencyMap[2], \"./types\").BufferN(64),\n      hashType: _$$_REQUIRE(_dependencyMap[2], \"./types\").UInt8\n    }, {\n      signature: signature,\n      hashType: hashType\n    });\n    var hashTypeMod = hashType & ~0x80;\n    if (hashTypeMod <= 0 || hashTypeMod >= 4) throw new Error('Invalid hashType ' + hashType);\n    var hashTypeBuffer = Buffer.allocUnsafe(1);\n    hashTypeBuffer.writeUInt8(hashType, 0);\n    var r = toDER(signature.slice(0, 32));\n    var s = toDER(signature.slice(32, 64));\n    return Buffer.concat([_$$_REQUIRE(_dependencyMap[0], \"bip66\").encode(r, s), hashTypeBuffer]);\n  }\n  exports.encode = encode;\n});","lineCount":55,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,6,0],[7,6,6,6,"ZERO"],[7,10,6,10],[7,13,6,13,"Buffer"],[7,19,6,19],[7,20,6,20,"alloc"],[7,25,6,25],[7,26,6,26],[7,27,6,27],[7,29,6,29],[7,30,6,30],[7,31,6,31],[8,2,7,0],[8,11,7,9,"toDER"],[8,16,7,14,"toDER"],[8,17,7,15,"x"],[8,18,7,16],[8,20,7,18],[9,4,8,2],[9,8,8,6,"i"],[9,9,8,7],[9,12,8,10],[9,13,8,11],[10,4,9,2],[10,11,9,9,"x"],[10,12,9,10],[10,13,9,11,"i"],[10,14,9,12],[10,15,9,13],[10,20,9,18],[10,21,9,19],[10,23,9,21],[10,25,9,23,"i"],[10,26,9,24],[11,4,10,2],[11,8,10,6,"i"],[11,9,10,7],[11,14,10,12,"x"],[11,15,10,13],[11,16,10,14,"length"],[11,22,10,20],[11,24,10,22],[11,31,10,29,"ZERO"],[11,35,10,33],[12,4,11,2,"x"],[12,5,11,3],[12,8,11,6,"x"],[12,9,11,7],[12,10,11,8,"slice"],[12,15,11,13],[12,16,11,14,"i"],[12,17,11,15],[12,18,11,16],[13,4,12,2],[13,8,12,6,"x"],[13,9,12,7],[13,10,12,8],[13,11,12,9],[13,12,12,10],[13,15,12,13],[13,19,12,17],[13,21,12,19],[13,28,12,26,"Buffer"],[13,34,12,32],[13,35,12,33,"concat"],[13,41,12,39],[13,42,12,40],[13,43,12,41,"ZERO"],[13,47,12,45],[13,49,12,47,"x"],[13,50,12,48],[13,51,12,49],[13,53,12,51],[13,54,12,52],[13,57,12,55,"x"],[13,58,12,56],[13,59,12,57,"length"],[13,65,12,63],[13,66,12,64],[14,4,13,2],[14,11,13,9,"x"],[14,12,13,10],[15,2,14,0],[16,2,15,0],[16,11,15,9,"fromDER"],[16,18,15,16,"fromDER"],[16,19,15,17,"x"],[16,20,15,18],[16,22,15,20],[17,4,16,2],[17,8,16,6,"x"],[17,9,16,7],[17,10,16,8],[17,11,16,9],[17,12,16,10],[17,17,16,15],[17,21,16,19],[17,23,16,21,"x"],[17,24,16,22],[17,27,16,25,"x"],[17,28,16,26],[17,29,16,27,"slice"],[17,34,16,32],[17,35,16,33],[17,36,16,34],[17,37,16,35],[18,4,17,2],[18,8,17,8,"buffer"],[18,14,17,14],[18,17,17,17,"Buffer"],[18,23,17,23],[18,24,17,24,"alloc"],[18,29,17,29],[18,30,17,30],[18,32,17,32],[18,34,17,34],[18,35,17,35],[18,36,17,36],[19,4,18,2],[19,8,18,8,"bstart"],[19,14,18,14],[19,17,18,17,"Math"],[19,21,18,21],[19,22,18,22,"max"],[19,25,18,25],[19,26,18,26],[19,27,18,27],[19,29,18,29],[19,31,18,31],[19,34,18,34,"x"],[19,35,18,35],[19,36,18,36,"length"],[19,42,18,42],[19,43,18,43],[20,4,19,2,"x"],[20,5,19,3],[20,6,19,4,"copy"],[20,10,19,8],[20,11,19,9,"buffer"],[20,17,19,15],[20,19,19,17,"bstart"],[20,25,19,23],[20,26,19,24],[21,4,20,2],[21,11,20,9,"buffer"],[21,17,20,15],[22,2,21,0],[23,2,22,0],[24,2,23,0],[24,11,23,9,"decode"],[24,17,23,15,"decode"],[24,18,23,16,"buffer"],[24,24,23,22],[24,26,23,24],[25,4,24,2],[25,8,24,8,"hashType"],[25,16,24,16],[25,19,24,19,"buffer"],[25,25,24,25],[25,26,24,26,"readUInt8"],[25,35,24,35],[25,36,24,36,"buffer"],[25,42,24,42],[25,43,24,43,"length"],[25,49,24,49],[25,52,24,52],[25,53,24,53],[25,54,24,54],[26,4,25,2],[26,8,25,8,"hashTypeMod"],[26,19,25,19],[26,22,25,22,"hashType"],[26,30,25,30],[26,33,25,33],[26,34,25,34],[26,38,25,38],[27,4,26,2],[27,8,26,6,"hashTypeMod"],[27,19,26,17],[27,23,26,21],[27,24,26,22],[27,28,26,26,"hashTypeMod"],[27,39,26,37],[27,43,26,41],[27,44,26,42],[27,46,27,4],[27,52,27,10],[27,56,27,14,"Error"],[27,61,27,19],[27,62,27,20],[27,81,27,39],[27,84,27,42,"hashType"],[27,92,27,50],[27,93,27,51],[28,4,28,2],[28,8,28,8,"decoded"],[28,15,28,15],[28,18,28,18,"_$$_REQUIRE"],[28,29,28,18],[28,30,28,18,"_dependencyMap"],[28,44,28,18],[28,58,28,24,"decode"],[28,64,28,30],[28,65,28,31,"buffer"],[28,71,28,37],[28,72,28,38,"slice"],[28,77,28,43],[28,78,28,44],[28,79,28,45],[28,81,28,47],[28,82,28,48],[28,83,28,49],[28,84,28,50],[28,85,28,51],[29,4,29,2],[29,8,29,8,"r"],[29,9,29,9],[29,12,29,12,"fromDER"],[29,19,29,19],[29,20,29,20,"decoded"],[29,27,29,27],[29,28,29,28,"r"],[29,29,29,29],[29,30,29,30],[30,4,30,2],[30,8,30,8,"s"],[30,9,30,9],[30,12,30,12,"fromDER"],[30,19,30,19],[30,20,30,20,"decoded"],[30,27,30,27],[30,28,30,28,"s"],[30,29,30,29],[30,30,30,30],[31,4,31,2],[31,8,31,8,"signature"],[31,17,31,17],[31,20,31,20,"Buffer"],[31,26,31,26],[31,27,31,27,"concat"],[31,33,31,33],[31,34,31,34],[31,35,31,35,"r"],[31,36,31,36],[31,38,31,38,"s"],[31,39,31,39],[31,40,31,40],[31,42,31,42],[31,44,31,44],[31,45,31,45],[32,4,32,2],[32,11,32,9],[33,6,32,11,"signature"],[33,15,32,20],[33,17,32,11,"signature"],[33,26,32,20],[34,6,32,22,"hashType"],[34,14,32,30],[34,16,32,22,"hashType"],[35,4,32,31],[35,5,32,32],[36,2,33,0],[37,2,34,0,"exports"],[37,9,34,7],[37,10,34,8,"decode"],[37,16,34,14],[37,19,34,17,"decode"],[37,25,34,23],[38,2,35,0],[38,11,35,9,"encode"],[38,17,35,15,"encode"],[38,18,35,16,"signature"],[38,27,35,25],[38,29,35,27,"hashType"],[38,37,35,35],[38,39,35,37],[39,4,36,2,"_$$_REQUIRE"],[39,15,36,2],[39,16,36,2,"_dependencyMap"],[39,30,36,2],[39,48,37,4],[40,6,38,6,"signature"],[40,15,38,15],[40,17,38,17,"_$$_REQUIRE"],[40,28,38,17],[40,29,38,17,"_dependencyMap"],[40,43,38,17],[40,59,38,23,"BufferN"],[40,66,38,30],[40,67,38,31],[40,69,38,33],[40,70,38,34],[41,6,39,6,"hashType"],[41,14,39,14],[41,16,39,16,"_$$_REQUIRE"],[41,27,39,16],[41,28,39,16,"_dependencyMap"],[41,42,39,16],[41,58,39,22,"UInt8"],[42,4,40,4],[42,5,40,5],[42,7,41,4],[43,6,41,6,"signature"],[43,15,41,15],[43,17,41,6,"signature"],[43,26,41,15],[44,6,41,17,"hashType"],[44,14,41,25],[44,16,41,17,"hashType"],[45,4,41,26],[45,5,42,2],[45,6,42,3],[46,4,43,2],[46,8,43,8,"hashTypeMod"],[46,19,43,19],[46,22,43,22,"hashType"],[46,30,43,30],[46,33,43,33],[46,34,43,34],[46,38,43,38],[47,4,44,2],[47,8,44,6,"hashTypeMod"],[47,19,44,17],[47,23,44,21],[47,24,44,22],[47,28,44,26,"hashTypeMod"],[47,39,44,37],[47,43,44,41],[47,44,44,42],[47,46,45,4],[47,52,45,10],[47,56,45,14,"Error"],[47,61,45,19],[47,62,45,20],[47,81,45,39],[47,84,45,42,"hashType"],[47,92,45,50],[47,93,45,51],[48,4,46,2],[48,8,46,8,"hashTypeBuffer"],[48,22,46,22],[48,25,46,25,"Buffer"],[48,31,46,31],[48,32,46,32,"allocUnsafe"],[48,43,46,43],[48,44,46,44],[48,45,46,45],[48,46,46,46],[49,4,47,2,"hashTypeBuffer"],[49,18,47,16],[49,19,47,17,"writeUInt8"],[49,29,47,27],[49,30,47,28,"hashType"],[49,38,47,36],[49,40,47,38],[49,41,47,39],[49,42,47,40],[50,4,48,2],[50,8,48,8,"r"],[50,9,48,9],[50,12,48,12,"toDER"],[50,17,48,17],[50,18,48,18,"signature"],[50,27,48,27],[50,28,48,28,"slice"],[50,33,48,33],[50,34,48,34],[50,35,48,35],[50,37,48,37],[50,39,48,39],[50,40,48,40],[50,41,48,41],[51,4,49,2],[51,8,49,8,"s"],[51,9,49,9],[51,12,49,12,"toDER"],[51,17,49,17],[51,18,49,18,"signature"],[51,27,49,27],[51,28,49,28,"slice"],[51,33,49,33],[51,34,49,34],[51,36,49,36],[51,38,49,38],[51,40,49,40],[51,41,49,41],[51,42,49,42],[52,4,50,2],[52,11,50,9,"Buffer"],[52,17,50,15],[52,18,50,16,"concat"],[52,24,50,22],[52,25,50,23],[52,26,50,24,"_$$_REQUIRE"],[52,37,50,24],[52,38,50,24,"_dependencyMap"],[52,52,50,24],[52,66,50,30,"encode"],[52,72,50,36],[52,73,50,37,"r"],[52,74,50,38],[52,76,50,40,"s"],[52,77,50,41],[52,78,50,42],[52,80,50,44,"hashTypeBuffer"],[52,94,50,58],[52,95,50,59],[52,96,50,60],[53,2,51,0],[54,2,52,0,"exports"],[54,9,52,7],[54,10,52,8,"encode"],[54,16,52,14],[54,19,52,17,"encode"],[54,25,52,23],[55,0,52,24],[55,3]],"functionMap":{"names":["<global>","toDER","fromDER","decode","encode"],"mappings":"AAA;ACM;CDO;AEC;CFM;AGE;CHU;AIE;CJgB"}},"type":"js/module"}]}