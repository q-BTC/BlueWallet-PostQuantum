{"dependencies":[{"name":"safe-buffer","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":13,"index":13},"end":{"line":1,"column":42,"index":42}},{"start":{"line":1,"column":13,"index":13},"end":{"line":1,"column":42,"index":42}}],"key":"JYiVyKV2adrbhzv3Ouecl8p4NAI="}},{"name":"./sync","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":11,"index":155},"end":{"line":5,"column":28,"index":172}},{"start":{"line":5,"column":11,"index":155},"end":{"line":5,"column":28,"index":172}}],"key":"WQmw+uEtg74KnINt+0vRERYDj4o=","isOptional":false}},{"name":"./precondition","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":22,"index":66},"end":{"line":3,"column":47,"index":91}}],"key":"3hHef+Vxail+ofP4apUhxWin99Y="}},{"name":"./to-buffer","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":15,"index":188},"end":{"line":6,"column":37,"index":210}},{"start":{"line":6,"column":15,"index":188},"end":{"line":6,"column":37,"index":210}}],"key":"A0agEiXN4wdre1ynp9QlfUviZI4="}},{"name":"./default-encoding","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":22,"index":114},"end":{"line":4,"column":51,"index":143}},{"start":{"line":4,"column":22,"index":114},"end":{"line":4,"column":51,"index":143}}],"key":"a2IPQ5AzBZHFiGKT3f2/0+RXQxw="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var ZERO_BUF;\n  var subtle = global.crypto && global.crypto.subtle;\n  var toBrowser = {\n    sha: 'SHA-1',\n    'sha-1': 'SHA-1',\n    sha1: 'SHA-1',\n    sha256: 'SHA-256',\n    'sha-256': 'SHA-256',\n    sha384: 'SHA-384',\n    'sha-384': 'SHA-384',\n    'sha-512': 'SHA-512',\n    sha512: 'SHA-512'\n  };\n  var checks = [];\n  function checkNative(algo) {\n    if (global.process && !global.process.browser) {\n      return Promise.resolve(false);\n    }\n    if (!subtle || !subtle.importKey || !subtle.deriveBits) {\n      return Promise.resolve(false);\n    }\n    if (checks[algo] !== undefined) {\n      return checks[algo];\n    }\n    ZERO_BUF = ZERO_BUF || _$$_REQUIRE(_dependencyMap[0], \"safe-buffer\").Buffer.alloc(8);\n    var prom = browserPbkdf2(ZERO_BUF, ZERO_BUF, 10, 128, algo).then(function () {\n      return true;\n    }).catch(function () {\n      return false;\n    });\n    checks[algo] = prom;\n    return prom;\n  }\n  var nextTick;\n  function getNextTick() {\n    if (nextTick) {\n      return nextTick;\n    }\n    if (global.process && global.process.nextTick) {\n      nextTick = global.process.nextTick;\n    } else if (global.queueMicrotask) {\n      nextTick = global.queueMicrotask;\n    } else if (global.setImmediate) {\n      nextTick = global.setImmediate;\n    } else {\n      nextTick = global.setTimeout;\n    }\n    return nextTick;\n  }\n  function browserPbkdf2(password, salt, iterations, length, algo) {\n    return subtle.importKey('raw', password, {\n      name: 'PBKDF2'\n    }, false, ['deriveBits']).then(function (key) {\n      return subtle.deriveBits({\n        name: 'PBKDF2',\n        salt: salt,\n        iterations: iterations,\n        hash: {\n          name: algo\n        }\n      }, key, length << 3);\n    }).then(function (res) {\n      return _$$_REQUIRE(_dependencyMap[0], \"safe-buffer\").Buffer.from(res);\n    });\n  }\n  function resolvePromise(promise, callback) {\n    promise.then(function (out) {\n      getNextTick()(function () {\n        callback(null, out);\n      });\n    }, function (e) {\n      getNextTick()(function () {\n        callback(e);\n      });\n    });\n  }\n  module.exports = function (password, salt, iterations, keylen, digest, callback) {\n    if (typeof digest === 'function') {\n      callback = digest;\n      digest = undefined;\n    }\n    digest = digest || 'sha1';\n    var algo = toBrowser[digest.toLowerCase()];\n    if (!algo || typeof global.Promise !== 'function') {\n      getNextTick()(function () {\n        var out;\n        try {\n          out = _$$_REQUIRE(_dependencyMap[1], \"./sync\")(password, salt, iterations, keylen, digest);\n        } catch (e) {\n          return callback(e);\n        }\n        callback(null, out);\n      });\n      return;\n    }\n    _$$_REQUIRE(_dependencyMap[2], \"./precondition\")(iterations, keylen);\n    password = _$$_REQUIRE(_dependencyMap[3], \"./to-buffer\")(password, _$$_REQUIRE(_dependencyMap[4], \"./default-encoding\"), 'Password');\n    salt = _$$_REQUIRE(_dependencyMap[3], \"./to-buffer\")(salt, _$$_REQUIRE(_dependencyMap[4], \"./default-encoding\"), 'Salt');\n    if (typeof callback !== 'function') throw new Error('No callback provided to pbkdf2');\n    resolvePromise(checkNative(algo).then(function (resp) {\n      if (resp) return browserPbkdf2(password, salt, iterations, keylen, algo);\n      return _$$_REQUIRE(_dependencyMap[1], \"./sync\")(password, salt, iterations, keylen, digest);\n    }), callback);\n  };\n});","lineCount":106,"map":[[2,2,8,0],[2,6,8,4,"ZERO_BUF"],[2,14,8,12],[3,2,9,0],[3,6,9,4,"subtle"],[3,12,9,10],[3,15,9,13,"global"],[3,21,9,19],[3,22,9,20,"crypto"],[3,28,9,26],[3,32,9,30,"global"],[3,38,9,36],[3,39,9,37,"crypto"],[3,45,9,43],[3,46,9,44,"subtle"],[3,52,9,50],[4,2,10,0],[4,6,10,4,"toBrowser"],[4,15,10,13],[4,18,10,16],[5,4,11,2,"sha"],[5,7,11,5],[5,9,11,7],[5,16,11,14],[6,4,12,2],[6,11,12,9],[6,13,12,11],[6,20,12,18],[7,4,13,2,"sha1"],[7,8,13,6],[7,10,13,8],[7,17,13,15],[8,4,14,2,"sha256"],[8,10,14,8],[8,12,14,10],[8,21,14,19],[9,4,15,2],[9,13,15,11],[9,15,15,13],[9,24,15,22],[10,4,16,2,"sha384"],[10,10,16,8],[10,12,16,10],[10,21,16,19],[11,4,17,2],[11,13,17,11],[11,15,17,13],[11,24,17,22],[12,4,18,2],[12,13,18,11],[12,15,18,13],[12,24,18,22],[13,4,19,2,"sha512"],[13,10,19,8],[13,12,19,10],[14,2,20,0],[14,3,20,1],[15,2,21,0],[15,6,21,4,"checks"],[15,12,21,10],[15,15,21,13],[15,17,21,15],[16,2,22,0],[16,11,22,9,"checkNative"],[16,22,22,20,"checkNative"],[16,23,22,22,"algo"],[16,27,22,26],[16,29,22,28],[17,4,23,2],[17,8,23,6,"global"],[17,14,23,12],[17,15,23,13,"process"],[17,22,23,20],[17,26,23,24],[17,27,23,25,"global"],[17,33,23,31],[17,34,23,32,"process"],[17,41,23,39],[17,42,23,40,"browser"],[17,49,23,47],[17,51,23,49],[18,6,24,4],[18,13,24,11,"Promise"],[18,20,24,18],[18,21,24,19,"resolve"],[18,28,24,26],[18,29,24,27],[18,34,24,32],[18,35,24,33],[19,4,25,2],[20,4,26,2],[20,8,26,6],[20,9,26,7,"subtle"],[20,15,26,13],[20,19,26,17],[20,20,26,18,"subtle"],[20,26,26,24],[20,27,26,25,"importKey"],[20,36,26,34],[20,40,26,38],[20,41,26,39,"subtle"],[20,47,26,45],[20,48,26,46,"deriveBits"],[20,58,26,56],[20,60,26,58],[21,6,27,4],[21,13,27,11,"Promise"],[21,20,27,18],[21,21,27,19,"resolve"],[21,28,27,26],[21,29,27,27],[21,34,27,32],[21,35,27,33],[22,4,28,2],[23,4,29,2],[23,8,29,6,"checks"],[23,14,29,12],[23,15,29,13,"algo"],[23,19,29,17],[23,20,29,18],[23,25,29,23,"undefined"],[23,34,29,32],[23,36,29,34],[24,6,30,4],[24,13,30,11,"checks"],[24,19,30,17],[24,20,30,18,"algo"],[24,24,30,22],[24,25,30,23],[25,4,31,2],[26,4,32,2,"ZERO_BUF"],[26,12,32,10],[26,15,32,13,"ZERO_BUF"],[26,23,32,21],[26,27,32,25,"_$$_REQUIRE"],[26,38,32,25],[26,39,32,25,"_dependencyMap"],[26,53,32,25],[26,73,32,25,"Buffer"],[26,79,32,25],[26,80,32,32,"alloc"],[26,85,32,37],[26,86,32,38],[26,87,32,39],[26,88,32,40],[27,4,33,2],[27,8,33,6,"prom"],[27,12,33,10],[27,15,33,13,"browserPbkdf2"],[27,28,33,26],[27,29,33,27,"ZERO_BUF"],[27,37,33,35],[27,39,33,37,"ZERO_BUF"],[27,47,33,45],[27,49,33,47],[27,51,33,49],[27,53,33,51],[27,56,33,54],[27,58,33,56,"algo"],[27,62,33,60],[27,63,33,61],[27,64,34,5,"then"],[27,68,34,9],[27,69,34,10],[27,81,34,22],[28,6,35,6],[28,13,35,13],[28,17,35,17],[29,4,36,4],[29,5,36,5],[29,6,36,6],[29,7,36,7,"catch"],[29,12,36,12],[29,13,36,13],[29,25,36,25],[30,6,37,6],[30,13,37,13],[30,18,37,18],[31,4,38,4],[31,5,38,5],[31,6,38,6],[32,4,39,2,"checks"],[32,10,39,8],[32,11,39,9,"algo"],[32,15,39,13],[32,16,39,14],[32,19,39,17,"prom"],[32,23,39,21],[33,4,40,2],[33,11,40,9,"prom"],[33,15,40,13],[34,2,41,0],[35,2,42,0],[35,6,42,4,"nextTick"],[35,14,42,12],[36,2,43,0],[36,11,43,9,"getNextTick"],[36,22,43,20,"getNextTick"],[36,23,43,20],[36,25,43,24],[37,4,44,2],[37,8,44,6,"nextTick"],[37,16,44,14],[37,18,44,16],[38,6,45,4],[38,13,45,11,"nextTick"],[38,21,45,19],[39,4,46,2],[40,4,47,2],[40,8,47,6,"global"],[40,14,47,12],[40,15,47,13,"process"],[40,22,47,20],[40,26,47,24,"global"],[40,32,47,30],[40,33,47,31,"process"],[40,40,47,38],[40,41,47,39,"nextTick"],[40,49,47,47],[40,51,47,49],[41,6,48,4,"nextTick"],[41,14,48,12],[41,17,48,15,"global"],[41,23,48,21],[41,24,48,22,"process"],[41,31,48,29],[41,32,48,30,"nextTick"],[41,40,48,38],[42,4,49,2],[42,5,49,3],[42,11,49,9],[42,15,49,13,"global"],[42,21,49,19],[42,22,49,20,"queueMicrotask"],[42,36,49,34],[42,38,49,36],[43,6,50,4,"nextTick"],[43,14,50,12],[43,17,50,15,"global"],[43,23,50,21],[43,24,50,22,"queueMicrotask"],[43,38,50,36],[44,4,51,2],[44,5,51,3],[44,11,51,9],[44,15,51,13,"global"],[44,21,51,19],[44,22,51,20,"setImmediate"],[44,34,51,32],[44,36,51,34],[45,6,52,4,"nextTick"],[45,14,52,12],[45,17,52,15,"global"],[45,23,52,21],[45,24,52,22,"setImmediate"],[45,36,52,34],[46,4,53,2],[46,5,53,3],[46,11,53,9],[47,6,54,4,"nextTick"],[47,14,54,12],[47,17,54,15,"global"],[47,23,54,21],[47,24,54,22,"setTimeout"],[47,34,54,32],[48,4,55,2],[49,4,56,2],[49,11,56,9,"nextTick"],[49,19,56,17],[50,2,57,0],[51,2,58,0],[51,11,58,9,"browserPbkdf2"],[51,24,58,22,"browserPbkdf2"],[51,25,58,24,"password"],[51,33,58,32],[51,35,58,34,"salt"],[51,39,58,38],[51,41,58,40,"iterations"],[51,51,58,50],[51,53,58,52,"length"],[51,59,58,58],[51,61,58,60,"algo"],[51,65,58,64],[51,67,58,66],[52,4,59,2],[52,11,59,9,"subtle"],[52,17,59,15],[52,18,59,16,"importKey"],[52,27,59,25],[52,28,60,4],[52,33,60,9],[52,35,60,11,"password"],[52,43,60,19],[52,45,60,21],[53,6,60,23,"name"],[53,10,60,27],[53,12,60,29],[54,4,60,38],[54,5,60,39],[54,7,60,41],[54,12,60,46],[54,14,60,48],[54,15,60,49],[54,27,60,61],[54,28,61,2],[54,29,61,3],[54,30,61,4,"then"],[54,34,61,8],[54,35,61,9],[54,45,61,19,"key"],[54,48,61,22],[54,50,61,24],[55,6,62,4],[55,13,62,11,"subtle"],[55,19,62,17],[55,20,62,18,"deriveBits"],[55,30,62,28],[55,31,62,29],[56,8,63,6,"name"],[56,12,63,10],[56,14,63,12],[56,22,63,20],[57,8,64,6,"salt"],[57,12,64,10],[57,14,64,12,"salt"],[57,18,64,16],[58,8,65,6,"iterations"],[58,18,65,16],[58,20,65,18,"iterations"],[58,30,65,28],[59,8,66,6,"hash"],[59,12,66,10],[59,14,66,12],[60,10,67,8,"name"],[60,14,67,12],[60,16,67,14,"algo"],[61,8,68,6],[62,6,69,4],[62,7,69,5],[62,9,69,7,"key"],[62,12,69,10],[62,14,69,12,"length"],[62,20,69,18],[62,24,69,22],[62,25,69,23],[62,26,69,24],[63,4,70,2],[63,5,70,3],[63,6,70,4],[63,7,70,5,"then"],[63,11,70,9],[63,12,70,10],[63,22,70,20,"res"],[63,25,70,23],[63,27,70,25],[64,6,71,4],[64,13,71,11,"_$$_REQUIRE"],[64,24,71,11],[64,25,71,11,"_dependencyMap"],[64,39,71,11],[64,59,71,11,"Buffer"],[64,65,71,11],[64,66,71,18,"from"],[64,70,71,22],[64,71,71,23,"res"],[64,74,71,26],[64,75,71,27],[65,4,72,2],[65,5,72,3],[65,6,72,4],[66,2,73,0],[67,2,75,0],[67,11,75,9,"resolvePromise"],[67,25,75,23,"resolvePromise"],[67,26,75,25,"promise"],[67,33,75,32],[67,35,75,34,"callback"],[67,43,75,42],[67,45,75,44],[68,4,76,2,"promise"],[68,11,76,9],[68,12,76,10,"then"],[68,16,76,14],[68,17,76,15],[68,27,76,25,"out"],[68,30,76,28],[68,32,76,30],[69,6,77,4,"getNextTick"],[69,17,77,15],[69,18,77,16],[69,19,77,17],[69,20,77,18],[69,32,77,30],[70,8,78,6,"callback"],[70,16,78,14],[70,17,78,15],[70,21,78,19],[70,23,78,21,"out"],[70,26,78,24],[70,27,78,25],[71,6,79,4],[71,7,79,5],[71,8,79,6],[72,4,80,2],[72,5,80,3],[72,7,80,5],[72,17,80,15,"e"],[72,18,80,16],[72,20,80,18],[73,6,81,4,"getNextTick"],[73,17,81,15],[73,18,81,16],[73,19,81,17],[73,20,81,18],[73,32,81,30],[74,8,82,6,"callback"],[74,16,82,14],[74,17,82,15,"e"],[74,18,82,16],[74,19,82,17],[75,6,83,4],[75,7,83,5],[75,8,83,6],[76,4,84,2],[76,5,84,3],[76,6,84,4],[77,2,85,0],[78,2,86,0,"module"],[78,8,86,6],[78,9,86,7,"exports"],[78,16,86,14],[78,19,86,17],[78,29,86,27,"password"],[78,37,86,35],[78,39,86,37,"salt"],[78,43,86,41],[78,45,86,43,"iterations"],[78,55,86,53],[78,57,86,55,"keylen"],[78,63,86,61],[78,65,86,63,"digest"],[78,71,86,69],[78,73,86,71,"callback"],[78,81,86,79],[78,83,86,81],[79,4,87,2],[79,8,87,6],[79,15,87,13,"digest"],[79,21,87,19],[79,26,87,24],[79,36,87,34],[79,38,87,36],[80,6,88,4,"callback"],[80,14,88,12],[80,17,88,15,"digest"],[80,23,88,21],[81,6,89,4,"digest"],[81,12,89,10],[81,15,89,13,"undefined"],[81,24,89,22],[82,4,90,2],[83,4,92,2,"digest"],[83,10,92,8],[83,13,92,11,"digest"],[83,19,92,17],[83,23,92,21],[83,29,92,27],[84,4,93,2],[84,8,93,6,"algo"],[84,12,93,10],[84,15,93,13,"toBrowser"],[84,24,93,22],[84,25,93,23,"digest"],[84,31,93,29],[84,32,93,30,"toLowerCase"],[84,43,93,41],[84,44,93,42],[84,45,93,43],[84,46,93,44],[85,4,95,2],[85,8,95,6],[85,9,95,7,"algo"],[85,13,95,11],[85,17,95,15],[85,24,95,22,"global"],[85,30,95,28],[85,31,95,29,"Promise"],[85,38,95,36],[85,43,95,41],[85,53,95,51],[85,55,95,53],[86,6,96,4,"getNextTick"],[86,17,96,15],[86,18,96,16],[86,19,96,17],[86,20,96,18],[86,32,96,30],[87,8,97,6],[87,12,97,10,"out"],[87,15,97,13],[88,8,98,6],[88,12,98,10],[89,10,99,8,"out"],[89,13,99,11],[89,16,99,14,"_$$_REQUIRE"],[89,27,99,14],[89,28,99,14,"_dependencyMap"],[89,42,99,14],[89,57,99,19,"password"],[89,65,99,27],[89,67,99,29,"salt"],[89,71,99,33],[89,73,99,35,"iterations"],[89,83,99,45],[89,85,99,47,"keylen"],[89,91,99,53],[89,93,99,55,"digest"],[89,99,99,61],[89,100,99,62],[90,8,100,6],[90,9,100,7],[90,10,100,8],[90,17,100,15,"e"],[90,18,100,16],[90,20,100,18],[91,10,101,8],[91,17,101,15,"callback"],[91,25,101,23],[91,26,101,24,"e"],[91,27,101,25],[91,28,101,26],[92,8,102,6],[93,8,103,6,"callback"],[93,16,103,14],[93,17,103,15],[93,21,103,19],[93,23,103,21,"out"],[93,26,103,24],[93,27,103,25],[94,6,104,4],[94,7,104,5],[94,8,104,6],[95,6,105,4],[96,4,106,2],[97,4,108,2,"_$$_REQUIRE"],[97,15,108,2],[97,16,108,2,"_dependencyMap"],[97,30,108,2],[97,53,108,18,"iterations"],[97,63,108,28],[97,65,108,30,"keylen"],[97,71,108,36],[97,72,108,37],[98,4,109,2,"password"],[98,12,109,10],[98,15,109,13,"_$$_REQUIRE"],[98,26,109,13],[98,27,109,13,"_dependencyMap"],[98,41,109,13],[98,61,109,22,"password"],[98,69,109,30],[98,71,109,30,"_$$_REQUIRE"],[98,82,109,30],[98,83,109,30,"_dependencyMap"],[98,97,109,30],[98,125,109,49],[98,135,109,59],[98,136,109,60],[99,4,110,2,"salt"],[99,8,110,6],[99,11,110,9,"_$$_REQUIRE"],[99,22,110,9],[99,23,110,9,"_dependencyMap"],[99,37,110,9],[99,57,110,18,"salt"],[99,61,110,22],[99,63,110,22,"_$$_REQUIRE"],[99,74,110,22],[99,75,110,22,"_dependencyMap"],[99,89,110,22],[99,117,110,41],[99,123,110,47],[99,124,110,48],[100,4,111,2],[100,8,111,6],[100,15,111,13,"callback"],[100,23,111,21],[100,28,111,26],[100,38,111,36],[100,40,111,38],[100,46,111,44],[100,50,111,48,"Error"],[100,55,111,53],[100,56,111,54],[100,88,111,86],[100,89,111,87],[101,4,113,2,"resolvePromise"],[101,18,113,16],[101,19,113,17,"checkNative"],[101,30,113,28],[101,31,113,29,"algo"],[101,35,113,33],[101,36,113,34],[101,37,113,35,"then"],[101,41,113,39],[101,42,113,40],[101,52,113,50,"resp"],[101,56,113,54],[101,58,113,56],[102,6,114,4],[102,10,114,8,"resp"],[102,14,114,12],[102,16,114,14],[102,23,114,21,"browserPbkdf2"],[102,36,114,34],[102,37,114,35,"password"],[102,45,114,43],[102,47,114,45,"salt"],[102,51,114,49],[102,53,114,51,"iterations"],[102,63,114,61],[102,65,114,63,"keylen"],[102,71,114,69],[102,73,114,71,"algo"],[102,77,114,75],[102,78,114,76],[103,6,116,4],[103,13,116,11,"_$$_REQUIRE"],[103,24,116,11],[103,25,116,11,"_dependencyMap"],[103,39,116,11],[103,54,116,16,"password"],[103,62,116,24],[103,64,116,26,"salt"],[103,68,116,30],[103,70,116,32,"iterations"],[103,80,116,42],[103,82,116,44,"keylen"],[103,88,116,50],[103,90,116,52,"digest"],[103,96,116,58],[103,97,116,59],[104,4,117,2],[104,5,117,3],[104,6,117,4],[104,8,117,6,"callback"],[104,16,117,14],[104,17,117,15],[105,2,118,0],[105,3,118,1],[106,0,118,1],[106,3]],"functionMap":{"names":["<global>","checkNative","browserPbkdf2.then$argument_0","browserPbkdf2.then._catch$argument_0","getNextTick","browserPbkdf2","subtle.importKey.then$argument_0","subtle.importKey.then.then$argument_0","resolvePromise","promise.then$argument_0","getNextTick$argument_0","promise.then$argument_1","module.exports","checkNative.then$argument_0"],"mappings":"AAA;ACqB;UCY;KDE,QE;KFE;CDG;AIE;CJc;AKC;SCG;GDS,OE;GFE;CLC;AQE;eCC;kBCC;KDE;GDC,EG;kBDC;KCE;GHC;CRC;iBYC;kBFU;KEQ;wCCS;GDI;CZC"}},"type":"js/module"}]}