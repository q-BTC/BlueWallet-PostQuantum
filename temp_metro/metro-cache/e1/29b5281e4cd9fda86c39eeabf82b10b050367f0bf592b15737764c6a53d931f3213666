{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":31,"column":0,"index":1015}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":31,"column":0,"index":1015}}],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo="}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":50,"index":50}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g="}},{"name":"../codegenSpec/NativeRNShare","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":52},"end":{"line":3,"column":57,"index":109}}],"key":"6muSvoW0Qd6X/sViaMyLhcAqBiM="}},{"name":"./platform","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":110},"end":{"line":4,"column":47,"index":157}}],"key":"CVB7fKbPsciTJDxaTBMtbH9vStI="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.checkAndroidPermissionsForUrls = checkAndroidPermissionsForUrls;\n  var _asyncToGenerator2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _reactNative = _$$_REQUIRE(_dependencyMap[2], \"react-native\");\n  var _NativeRNShare = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"../codegenSpec/NativeRNShare\"));\n  function checkAndroidPermissionsForUrls(_x) {\n    return _checkAndroidPermissionsForUrls.apply(this, arguments);\n  }\n  function _checkAndroidPermissionsForUrls() {\n    _checkAndroidPermissionsForUrls = (0, _asyncToGenerator2.default)(function* (urls) {\n      // Reference: https://github.com/react-native-share/react-native-share/pull/871\n      if ((yield Promise.all(urls.map(function (url) {\n        return _NativeRNShare.default.isBase64File(url);\n      }))).includes(true)) {\n        yield checkExternalStoragePermission();\n      }\n    });\n    return _checkAndroidPermissionsForUrls.apply(this, arguments);\n  }\n  function checkExternalStoragePermission() {\n    return _checkExternalStoragePermission.apply(this, arguments);\n  }\n  function _checkExternalStoragePermission() {\n    _checkExternalStoragePermission = (0, _asyncToGenerator2.default)(function* () {\n      var WRITE_EXTERNAL_STORAGE = _reactNative.PermissionsAndroid.PERMISSIONS.WRITE_EXTERNAL_STORAGE;\n      var granted = yield _reactNative.PermissionsAndroid.check(WRITE_EXTERNAL_STORAGE);\n      if (!granted) {\n        if (!isAndroidVersionAtLeastKitKat()) {\n          var result = yield _reactNative.PermissionsAndroid.request(WRITE_EXTERNAL_STORAGE);\n          if (result !== _reactNative.PermissionsAndroid.RESULTS.GRANTED) {\n            throw new Error('Write Permission not available');\n          }\n        }\n      }\n    });\n    return _checkExternalStoragePermission.apply(this, arguments);\n  }\n  function isAndroidVersionAtLeastKitKat() {\n    return (0, _$$_REQUIRE(_dependencyMap[4], \"./platform\").getAndroidVersion)() >= 19;\n  }\n});","lineCount":45,"map":[[8,2,1,0],[8,6,1,0,"_reactNative"],[8,18,1,0],[8,21,1,0,"_$$_REQUIRE"],[8,32,1,0],[8,33,1,0,"_dependencyMap"],[8,47,1,0],[9,2,3,0],[9,6,3,0,"_NativeRNShare"],[9,20,3,0],[9,23,3,0,"_interopRequireDefault"],[9,45,3,0],[9,46,3,0,"_$$_REQUIRE"],[9,57,3,0],[9,58,3,0,"_dependencyMap"],[9,72,3,0],[10,2,3,57],[10,11,6,22,"checkAndroidPermissionsForUrls"],[10,41,6,52,"checkAndroidPermissionsForUrls"],[10,42,6,52,"_x"],[10,44,6,52],[11,4,6,52],[11,11,6,52,"_checkAndroidPermissionsForUrls"],[11,42,6,52],[11,43,6,52,"apply"],[11,48,6,52],[11,55,6,52,"arguments"],[11,64,6,52],[12,2,6,52],[13,2,6,52],[13,11,6,52,"_checkAndroidPermissionsForUrls"],[13,43,6,52],[14,4,6,52,"_checkAndroidPermissionsForUrls"],[14,35,6,52],[14,42,6,52,"_asyncToGenerator2"],[14,60,6,52],[14,61,6,52,"default"],[14,68,6,52],[14,70,6,7],[14,81,6,53,"urls"],[14,85,6,67],[14,87,6,69],[15,6,7,2],[16,6,8,2],[16,10,8,6],[16,17,8,13,"Promise"],[16,24,8,20],[16,25,8,21,"all"],[16,28,8,24],[16,29,8,25,"urls"],[16,33,8,29],[16,34,8,30,"map"],[16,37,8,33],[16,38,8,34],[16,48,8,35,"url"],[16,51,8,38],[17,8,8,38],[17,15,8,43,"NativeRNShare"],[17,37,8,56],[17,38,8,57,"isBase64File"],[17,50,8,69],[17,51,8,70,"url"],[17,54,8,73],[17,55,8,74],[18,6,8,74],[18,8,8,75],[18,9,8,76],[18,11,8,78,"includes"],[18,19,8,86],[18,20,8,87],[18,24,8,91],[18,25,8,92],[18,27,8,94],[19,8,9,4],[19,14,9,10,"checkExternalStoragePermission"],[19,44,9,40],[19,45,9,41],[19,46,9,42],[20,6,10,2],[21,4,11,0],[21,5,11,1],[22,4,11,1],[22,11,11,1,"_checkAndroidPermissionsForUrls"],[22,42,11,1],[22,43,11,1,"apply"],[22,48,11,1],[22,55,11,1,"arguments"],[22,64,11,1],[23,2,11,1],[24,2,11,1],[24,11,13,15,"checkExternalStoragePermission"],[24,41,13,45,"checkExternalStoragePermission"],[24,42,13,45],[25,4,13,45],[25,11,13,45,"_checkExternalStoragePermission"],[25,42,13,45],[25,43,13,45,"apply"],[25,48,13,45],[25,55,13,45,"arguments"],[25,64,13,45],[26,2,13,45],[27,2,13,45],[27,11,13,45,"_checkExternalStoragePermission"],[27,43,13,45],[28,4,13,45,"_checkExternalStoragePermission"],[28,35,13,45],[28,42,13,45,"_asyncToGenerator2"],[28,60,13,45],[28,61,13,45,"default"],[28,68,13,45],[28,70,13,0],[28,83,13,48],[29,6,14,2],[29,10,14,10,"WRITE_EXTERNAL_STORAGE"],[29,32,14,32],[29,35,14,37,"PermissionsAndroid"],[29,66,14,55],[29,67,14,56,"PERMISSIONS"],[29,78,14,67],[29,79,14,10,"WRITE_EXTERNAL_STORAGE"],[29,101,14,32],[30,6,16,2],[30,10,16,8,"granted"],[30,17,16,15],[30,26,16,24,"PermissionsAndroid"],[30,57,16,42],[30,58,16,43,"check"],[30,63,16,48],[30,64,16,49,"WRITE_EXTERNAL_STORAGE"],[30,86,16,71],[30,87,16,72],[31,6,18,2],[31,10,18,6],[31,11,18,7,"granted"],[31,18,18,14],[31,20,18,16],[32,8,19,4],[32,12,19,8],[32,13,19,9,"isAndroidVersionAtLeastKitKat"],[32,42,19,38],[32,43,19,39],[32,44,19,40],[32,46,19,42],[33,10,20,6],[33,14,20,12,"result"],[33,20,20,18],[33,29,20,27,"PermissionsAndroid"],[33,60,20,45],[33,61,20,46,"request"],[33,68,20,53],[33,69,20,54,"WRITE_EXTERNAL_STORAGE"],[33,91,20,76],[33,92,20,77],[34,10,21,6],[34,14,21,10,"result"],[34,20,21,16],[34,25,21,21,"PermissionsAndroid"],[34,56,21,39],[34,57,21,40,"RESULTS"],[34,64,21,47],[34,65,21,48,"GRANTED"],[34,72,21,55],[34,74,21,57],[35,12,22,8],[35,18,22,14],[35,22,22,18,"Error"],[35,27,22,23],[35,28,22,24],[35,60,22,56],[35,61,22,57],[36,10,23,6],[37,8,24,4],[38,6,25,2],[39,4,26,0],[39,5,26,1],[40,4,26,1],[40,11,26,1,"_checkExternalStoragePermission"],[40,42,26,1],[40,43,26,1,"apply"],[40,48,26,1],[40,55,26,1,"arguments"],[40,64,26,1],[41,2,26,1],[42,2,28,0],[42,11,28,9,"isAndroidVersionAtLeastKitKat"],[42,40,28,38,"isAndroidVersionAtLeastKitKat"],[42,41,28,38],[42,43,28,41],[43,4,29,2],[43,11,29,9],[43,15,29,9,"getAndroidVersion"],[43,45,29,9],[43,46,29,9,"getAndroidVersion"],[43,77,29,26],[43,79,29,27],[43,80,29,28],[43,84,29,32],[43,86,29,34],[44,2,30,0],[45,0,30,1],[45,3]],"functionMap":{"names":["<global>","checkAndroidPermissionsForUrls","urls.map$argument_0","checkExternalStoragePermission","isAndroidVersionAtLeastKitKat"],"mappings":"AAA;OCK;kCCE,wCD;CDG;AGE;CHa;AIE;CJE"}},"type":"js/module"}]}