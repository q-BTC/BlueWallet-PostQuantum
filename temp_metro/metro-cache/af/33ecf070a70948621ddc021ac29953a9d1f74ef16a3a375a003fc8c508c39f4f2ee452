{"dependencies":[{"name":"../types","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":16,"index":197},"end":{"line":6,"column":35,"index":216}},{"start":{"line":6,"column":16,"index":197},"end":{"line":6,"column":35,"index":216}},{"start":{"line":6,"column":16,"index":197},"end":{"line":6,"column":35,"index":216}},{"start":{"line":6,"column":16,"index":197},"end":{"line":6,"column":35,"index":216}},{"start":{"line":6,"column":16,"index":197},"end":{"line":6,"column":35,"index":216}},{"start":{"line":6,"column":16,"index":197},"end":{"line":6,"column":35,"index":216}},{"start":{"line":6,"column":16,"index":197},"end":{"line":6,"column":35,"index":216}},{"start":{"line":6,"column":16,"index":197},"end":{"line":6,"column":35,"index":216}},{"start":{"line":6,"column":16,"index":197},"end":{"line":6,"column":35,"index":216}},{"start":{"line":6,"column":16,"index":197},"end":{"line":6,"column":35,"index":216}},{"start":{"line":6,"column":16,"index":197},"end":{"line":6,"column":35,"index":216}}],"key":"2+h21LM/+NVMQKDHaRawSQRYYOQ="}},{"name":"../script","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":16,"index":159},"end":{"line":5,"column":36,"index":179}},{"start":{"line":5,"column":16,"index":159},"end":{"line":5,"column":36,"index":179}},{"start":{"line":5,"column":16,"index":159},"end":{"line":5,"column":36,"index":179}},{"start":{"line":8,"column":12,"index":262},"end":{"line":8,"column":23,"index":273}},{"start":{"line":5,"column":16,"index":159},"end":{"line":5,"column":36,"index":179}},{"start":{"line":8,"column":12,"index":262},"end":{"line":8,"column":23,"index":273}},{"start":{"line":5,"column":16,"index":159},"end":{"line":5,"column":36,"index":179}}],"key":"XOqjZpHZAfPtXF1u3MudqqFxY0c="}},{"name":"./lazy","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":13,"index":231},"end":{"line":7,"column":30,"index":248}},{"start":{"line":7,"column":13,"index":231},"end":{"line":7,"column":30,"index":248}},{"start":{"line":7,"column":13,"index":231},"end":{"line":7,"column":30,"index":248}},{"start":{"line":7,"column":13,"index":231},"end":{"line":7,"column":30,"index":248}},{"start":{"line":7,"column":13,"index":231},"end":{"line":7,"column":30,"index":248}},{"start":{"line":7,"column":13,"index":231},"end":{"line":7,"column":30,"index":248}}],"key":"g4ye5UxsflvXhbFiS+2Co5sloz8="}},{"name":"../networks","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":19,"index":119},"end":{"line":4,"column":41,"index":141}}],"key":"FiQD0tNYEY+NhtBSAnO78dixigg="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.p2pk = void 0;\n  // input: {signature}\n  // output: {pubKey} OP_CHECKSIG\n  /**\n   * Creates a pay-to-public-key (P2PK) payment object.\n   *\n   * @param a - The payment object containing the necessary data.\n   * @param opts - Optional payment options.\n   * @returns The P2PK payment object.\n   * @throws {TypeError} If the required data is not provided or if the data is invalid.\n   */\n  function p2pk(a, opts) {\n    if (!a.input && !a.output && !a.pubkey && !a.input && !a.signature) throw new TypeError('Not enough data');\n    opts = Object.assign({\n      validate: true\n    }, opts || {});\n    (0, _$$_REQUIRE(_dependencyMap[0], \"../types\").typeforce)({\n      network: _$$_REQUIRE(_dependencyMap[0], \"../types\").typeforce.maybe(_$$_REQUIRE(_dependencyMap[0], \"../types\").typeforce.Object),\n      output: _$$_REQUIRE(_dependencyMap[0], \"../types\").typeforce.maybe(_$$_REQUIRE(_dependencyMap[0], \"../types\").typeforce.Buffer),\n      pubkey: _$$_REQUIRE(_dependencyMap[0], \"../types\").typeforce.maybe(_$$_REQUIRE(_dependencyMap[0], \"../types\").isPoint),\n      signature: _$$_REQUIRE(_dependencyMap[0], \"../types\").typeforce.maybe(_$$_REQUIRE(_dependencyMap[1], \"../script\").isCanonicalScriptSignature),\n      input: _$$_REQUIRE(_dependencyMap[0], \"../types\").typeforce.maybe(_$$_REQUIRE(_dependencyMap[0], \"../types\").typeforce.Buffer)\n    }, a);\n    var _chunks = _$$_REQUIRE(_dependencyMap[2], \"./lazy\").value(function () {\n      return _$$_REQUIRE(_dependencyMap[1], \"../script\").decompile(a.input);\n    });\n    var network = a.network || _$$_REQUIRE(_dependencyMap[3], \"../networks\").bitcoin;\n    var o = {\n      name: 'p2pk',\n      network: network\n    };\n    _$$_REQUIRE(_dependencyMap[2], \"./lazy\").prop(o, 'output', function () {\n      if (!a.pubkey) return;\n      return _$$_REQUIRE(_dependencyMap[1], \"../script\").compile([a.pubkey, _$$_REQUIRE(_dependencyMap[1], \"../script\").OPS.OP_CHECKSIG]);\n    });\n    _$$_REQUIRE(_dependencyMap[2], \"./lazy\").prop(o, 'pubkey', function () {\n      if (!a.output) return;\n      return a.output.slice(1, -1);\n    });\n    _$$_REQUIRE(_dependencyMap[2], \"./lazy\").prop(o, 'signature', function () {\n      if (!a.input) return;\n      return _chunks()[0];\n    });\n    _$$_REQUIRE(_dependencyMap[2], \"./lazy\").prop(o, 'input', function () {\n      if (!a.signature) return;\n      return _$$_REQUIRE(_dependencyMap[1], \"../script\").compile([a.signature]);\n    });\n    _$$_REQUIRE(_dependencyMap[2], \"./lazy\").prop(o, 'witness', function () {\n      if (!o.input) return;\n      return [];\n    });\n    // extended validation\n    if (opts.validate) {\n      if (a.output) {\n        if (a.output[a.output.length - 1] !== _$$_REQUIRE(_dependencyMap[1], \"../script\").OPS.OP_CHECKSIG) throw new TypeError('Output is invalid');\n        if (!(0, _$$_REQUIRE(_dependencyMap[0], \"../types\").isPoint)(o.pubkey)) throw new TypeError('Output pubkey is invalid');\n        if (a.pubkey && !a.pubkey.equals(o.pubkey)) throw new TypeError('Pubkey mismatch');\n      }\n      if (a.signature) {\n        if (a.input && !a.input.equals(o.input)) throw new TypeError('Signature mismatch');\n      }\n      if (a.input) {\n        if (_chunks().length !== 1) throw new TypeError('Input is invalid');\n        if (!_$$_REQUIRE(_dependencyMap[1], \"../script\").isCanonicalScriptSignature(o.signature)) throw new TypeError('Input has invalid signature');\n      }\n    }\n    return Object.assign(o, a);\n  }\n  exports.p2pk = p2pk;\n});","lineCount":76,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"p2pk"],[7,14,3,12],[7,17,3,15],[7,22,3,20],[7,23,3,21],[8,2,9,0],[9,2,10,0],[10,2,11,0],[11,0,12,0],[12,0,13,0],[13,0,14,0],[14,0,15,0],[15,0,16,0],[16,0,17,0],[17,0,18,0],[18,2,19,0],[18,11,19,9,"p2pk"],[18,15,19,13,"p2pk"],[18,16,19,14,"a"],[18,17,19,15],[18,19,19,17,"opts"],[18,23,19,21],[18,25,19,23],[19,4,20,2],[19,8,20,6],[19,9,20,7,"a"],[19,10,20,8],[19,11,20,9,"input"],[19,16,20,14],[19,20,20,18],[19,21,20,19,"a"],[19,22,20,20],[19,23,20,21,"output"],[19,29,20,27],[19,33,20,31],[19,34,20,32,"a"],[19,35,20,33],[19,36,20,34,"pubkey"],[19,42,20,40],[19,46,20,44],[19,47,20,45,"a"],[19,48,20,46],[19,49,20,47,"input"],[19,54,20,52],[19,58,20,56],[19,59,20,57,"a"],[19,60,20,58],[19,61,20,59,"signature"],[19,70,20,68],[19,72,21,4],[19,78,21,10],[19,82,21,14,"TypeError"],[19,91,21,23],[19,92,21,24],[19,109,21,41],[19,110,21,42],[20,4,22,2,"opts"],[20,8,22,6],[20,11,22,9,"Object"],[20,17,22,15],[20,18,22,16,"assign"],[20,24,22,22],[20,25,22,23],[21,6,22,25,"validate"],[21,14,22,33],[21,16,22,35],[22,4,22,40],[22,5,22,41],[22,7,22,43,"opts"],[22,11,22,47],[22,15,22,51],[22,16,22,52],[22,17,22,53],[22,18,22,54],[23,4,23,2],[23,5,23,3],[23,6,23,4],[23,8,23,6,"_$$_REQUIRE"],[23,19,23,6],[23,20,23,6,"_dependencyMap"],[23,34,23,6],[23,51,23,14,"typeforce"],[23,60,23,23],[23,62,24,4],[24,6,25,6,"network"],[24,13,25,13],[24,15,25,15,"_$$_REQUIRE"],[24,26,25,15],[24,27,25,15,"_dependencyMap"],[24,41,25,15],[24,58,25,23,"typeforce"],[24,67,25,32],[24,68,25,33,"maybe"],[24,73,25,38],[24,74,25,39,"_$$_REQUIRE"],[24,85,25,39],[24,86,25,39,"_dependencyMap"],[24,100,25,39],[24,117,25,47,"typeforce"],[24,126,25,56],[24,127,25,57,"Object"],[24,133,25,63],[24,134,25,64],[25,6,26,6,"output"],[25,12,26,12],[25,14,26,14,"_$$_REQUIRE"],[25,25,26,14],[25,26,26,14,"_dependencyMap"],[25,40,26,14],[25,57,26,22,"typeforce"],[25,66,26,31],[25,67,26,32,"maybe"],[25,72,26,37],[25,73,26,38,"_$$_REQUIRE"],[25,84,26,38],[25,85,26,38,"_dependencyMap"],[25,99,26,38],[25,116,26,46,"typeforce"],[25,125,26,55],[25,126,26,56,"Buffer"],[25,132,26,62],[25,133,26,63],[26,6,27,6,"pubkey"],[26,12,27,12],[26,14,27,14,"_$$_REQUIRE"],[26,25,27,14],[26,26,27,14,"_dependencyMap"],[26,40,27,14],[26,57,27,22,"typeforce"],[26,66,27,31],[26,67,27,32,"maybe"],[26,72,27,37],[26,73,27,38,"_$$_REQUIRE"],[26,84,27,38],[26,85,27,38,"_dependencyMap"],[26,99,27,38],[26,116,27,46,"isPoint"],[26,123,27,53],[26,124,27,54],[27,6,28,6,"signature"],[27,15,28,15],[27,17,28,17,"_$$_REQUIRE"],[27,28,28,17],[27,29,28,17,"_dependencyMap"],[27,43,28,17],[27,60,28,25,"typeforce"],[27,69,28,34],[27,70,28,35,"maybe"],[27,75,28,40],[27,76,28,41,"_$$_REQUIRE"],[27,87,28,41],[27,88,28,41,"_dependencyMap"],[27,102,28,41],[27,120,28,49,"isCanonicalScriptSignature"],[27,146,28,75],[27,147,28,76],[28,6,29,6,"input"],[28,11,29,11],[28,13,29,13,"_$$_REQUIRE"],[28,24,29,13],[28,25,29,13,"_dependencyMap"],[28,39,29,13],[28,56,29,21,"typeforce"],[28,65,29,30],[28,66,29,31,"maybe"],[28,71,29,36],[28,72,29,37,"_$$_REQUIRE"],[28,83,29,37],[28,84,29,37,"_dependencyMap"],[28,98,29,37],[28,115,29,45,"typeforce"],[28,124,29,54],[28,125,29,55,"Buffer"],[28,131,29,61],[29,4,30,4],[29,5,30,5],[29,7,31,4,"a"],[29,8,32,2],[29,9,32,3],[30,4,33,2],[30,8,33,8,"_chunks"],[30,15,33,15],[30,18,33,18,"_$$_REQUIRE"],[30,29,33,18],[30,30,33,18,"_dependencyMap"],[30,44,33,18],[30,59,33,23,"value"],[30,64,33,28],[30,65,33,29],[30,77,33,35],[31,6,34,4],[31,13,34,11,"_$$_REQUIRE"],[31,24,34,11],[31,25,34,11,"_dependencyMap"],[31,39,34,11],[31,57,34,19,"decompile"],[31,66,34,28],[31,67,34,29,"a"],[31,68,34,30],[31,69,34,31,"input"],[31,74,34,36],[31,75,34,37],[32,4,35,2],[32,5,35,3],[32,6,35,4],[33,4,36,2],[33,8,36,8,"network"],[33,15,36,15],[33,18,36,18,"a"],[33,19,36,19],[33,20,36,20,"network"],[33,27,36,27],[33,31,36,31,"_$$_REQUIRE"],[33,42,36,31],[33,43,36,31,"_dependencyMap"],[33,57,36,31],[33,77,36,42,"bitcoin"],[33,84,36,49],[34,4,37,2],[34,8,37,8,"o"],[34,9,37,9],[34,12,37,12],[35,6,37,14,"name"],[35,10,37,18],[35,12,37,20],[35,18,37,26],[36,6,37,28,"network"],[36,13,37,35],[36,15,37,28,"network"],[37,4,37,36],[37,5,37,37],[38,4,38,2,"_$$_REQUIRE"],[38,15,38,2],[38,16,38,2,"_dependencyMap"],[38,30,38,2],[38,45,38,7,"prop"],[38,49,38,11],[38,50,38,12,"o"],[38,51,38,13],[38,53,38,15],[38,61,38,23],[38,63,38,25],[38,75,38,31],[39,6,39,4],[39,10,39,8],[39,11,39,9,"a"],[39,12,39,10],[39,13,39,11,"pubkey"],[39,19,39,17],[39,21,39,19],[40,6,40,4],[40,13,40,11,"_$$_REQUIRE"],[40,24,40,11],[40,25,40,11,"_dependencyMap"],[40,39,40,11],[40,57,40,19,"compile"],[40,64,40,26],[40,65,40,27],[40,66,40,28,"a"],[40,67,40,29],[40,68,40,30,"pubkey"],[40,74,40,36],[40,76,40,38,"_$$_REQUIRE"],[40,87,40,38],[40,88,40,38,"_dependencyMap"],[40,102,40,38],[40,120,40,38,"OPS"],[40,123,40,38],[40,124,40,42,"OP_CHECKSIG"],[40,135,40,53],[40,136,40,54],[40,137,40,55],[41,4,41,2],[41,5,41,3],[41,6,41,4],[42,4,42,2,"_$$_REQUIRE"],[42,15,42,2],[42,16,42,2,"_dependencyMap"],[42,30,42,2],[42,45,42,7,"prop"],[42,49,42,11],[42,50,42,12,"o"],[42,51,42,13],[42,53,42,15],[42,61,42,23],[42,63,42,25],[42,75,42,31],[43,6,43,4],[43,10,43,8],[43,11,43,9,"a"],[43,12,43,10],[43,13,43,11,"output"],[43,19,43,17],[43,21,43,19],[44,6,44,4],[44,13,44,11,"a"],[44,14,44,12],[44,15,44,13,"output"],[44,21,44,19],[44,22,44,20,"slice"],[44,27,44,25],[44,28,44,26],[44,29,44,27],[44,31,44,29],[44,32,44,30],[44,33,44,31],[44,34,44,32],[45,4,45,2],[45,5,45,3],[45,6,45,4],[46,4,46,2,"_$$_REQUIRE"],[46,15,46,2],[46,16,46,2,"_dependencyMap"],[46,30,46,2],[46,45,46,7,"prop"],[46,49,46,11],[46,50,46,12,"o"],[46,51,46,13],[46,53,46,15],[46,64,46,26],[46,66,46,28],[46,78,46,34],[47,6,47,4],[47,10,47,8],[47,11,47,9,"a"],[47,12,47,10],[47,13,47,11,"input"],[47,18,47,16],[47,20,47,18],[48,6,48,4],[48,13,48,11,"_chunks"],[48,20,48,18],[48,21,48,19],[48,22,48,20],[48,23,48,21],[48,24,48,22],[48,25,48,23],[49,4,49,2],[49,5,49,3],[49,6,49,4],[50,4,50,2,"_$$_REQUIRE"],[50,15,50,2],[50,16,50,2,"_dependencyMap"],[50,30,50,2],[50,45,50,7,"prop"],[50,49,50,11],[50,50,50,12,"o"],[50,51,50,13],[50,53,50,15],[50,60,50,22],[50,62,50,24],[50,74,50,30],[51,6,51,4],[51,10,51,8],[51,11,51,9,"a"],[51,12,51,10],[51,13,51,11,"signature"],[51,22,51,20],[51,24,51,22],[52,6,52,4],[52,13,52,11,"_$$_REQUIRE"],[52,24,52,11],[52,25,52,11,"_dependencyMap"],[52,39,52,11],[52,57,52,19,"compile"],[52,64,52,26],[52,65,52,27],[52,66,52,28,"a"],[52,67,52,29],[52,68,52,30,"signature"],[52,77,52,39],[52,78,52,40],[52,79,52,41],[53,4,53,2],[53,5,53,3],[53,6,53,4],[54,4,54,2,"_$$_REQUIRE"],[54,15,54,2],[54,16,54,2,"_dependencyMap"],[54,30,54,2],[54,45,54,7,"prop"],[54,49,54,11],[54,50,54,12,"o"],[54,51,54,13],[54,53,54,15],[54,62,54,24],[54,64,54,26],[54,76,54,32],[55,6,55,4],[55,10,55,8],[55,11,55,9,"o"],[55,12,55,10],[55,13,55,11,"input"],[55,18,55,16],[55,20,55,18],[56,6,56,4],[56,13,56,11],[56,15,56,13],[57,4,57,2],[57,5,57,3],[57,6,57,4],[58,4,58,2],[59,4,59,2],[59,8,59,6,"opts"],[59,12,59,10],[59,13,59,11,"validate"],[59,21,59,19],[59,23,59,21],[60,6,60,4],[60,10,60,8,"a"],[60,11,60,9],[60,12,60,10,"output"],[60,18,60,16],[60,20,60,18],[61,8,61,6],[61,12,61,10,"a"],[61,13,61,11],[61,14,61,12,"output"],[61,20,61,18],[61,21,61,19,"a"],[61,22,61,20],[61,23,61,21,"output"],[61,29,61,27],[61,30,61,28,"length"],[61,36,61,34],[61,39,61,37],[61,40,61,38],[61,41,61,39],[61,46,61,44,"_$$_REQUIRE"],[61,57,61,44],[61,58,61,44,"_dependencyMap"],[61,72,61,44],[61,90,61,44,"OPS"],[61,93,61,44],[61,94,61,48,"OP_CHECKSIG"],[61,105,61,59],[61,107,62,8],[61,113,62,14],[61,117,62,18,"TypeError"],[61,126,62,27],[61,127,62,28],[61,146,62,47],[61,147,62,48],[62,8,63,6],[62,12,63,10],[62,13,63,11],[62,14,63,12],[62,15,63,13],[62,17,63,15,"_$$_REQUIRE"],[62,28,63,15],[62,29,63,15,"_dependencyMap"],[62,43,63,15],[62,60,63,23,"isPoint"],[62,67,63,30],[62,69,63,32,"o"],[62,70,63,33],[62,71,63,34,"pubkey"],[62,77,63,40],[62,78,63,41],[62,80,64,8],[62,86,64,14],[62,90,64,18,"TypeError"],[62,99,64,27],[62,100,64,28],[62,126,64,54],[62,127,64,55],[63,8,65,6],[63,12,65,10,"a"],[63,13,65,11],[63,14,65,12,"pubkey"],[63,20,65,18],[63,24,65,22],[63,25,65,23,"a"],[63,26,65,24],[63,27,65,25,"pubkey"],[63,33,65,31],[63,34,65,32,"equals"],[63,40,65,38],[63,41,65,39,"o"],[63,42,65,40],[63,43,65,41,"pubkey"],[63,49,65,47],[63,50,65,48],[63,52,66,8],[63,58,66,14],[63,62,66,18,"TypeError"],[63,71,66,27],[63,72,66,28],[63,89,66,45],[63,90,66,46],[64,6,67,4],[65,6,68,4],[65,10,68,8,"a"],[65,11,68,9],[65,12,68,10,"signature"],[65,21,68,19],[65,23,68,21],[66,8,69,6],[66,12,69,10,"a"],[66,13,69,11],[66,14,69,12,"input"],[66,19,69,17],[66,23,69,21],[66,24,69,22,"a"],[66,25,69,23],[66,26,69,24,"input"],[66,31,69,29],[66,32,69,30,"equals"],[66,38,69,36],[66,39,69,37,"o"],[66,40,69,38],[66,41,69,39,"input"],[66,46,69,44],[66,47,69,45],[66,49,70,8],[66,55,70,14],[66,59,70,18,"TypeError"],[66,68,70,27],[66,69,70,28],[66,89,70,48],[66,90,70,49],[67,6,71,4],[68,6,72,4],[68,10,72,8,"a"],[68,11,72,9],[68,12,72,10,"input"],[68,17,72,15],[68,19,72,17],[69,8,73,6],[69,12,73,10,"_chunks"],[69,19,73,17],[69,20,73,18],[69,21,73,19],[69,22,73,20,"length"],[69,28,73,26],[69,33,73,31],[69,34,73,32],[69,36,73,34],[69,42,73,40],[69,46,73,44,"TypeError"],[69,55,73,53],[69,56,73,54],[69,74,73,72],[69,75,73,73],[70,8,74,6],[70,12,74,10],[70,13,74,11,"_$$_REQUIRE"],[70,24,74,11],[70,25,74,11,"_dependencyMap"],[70,39,74,11],[70,57,74,19,"isCanonicalScriptSignature"],[70,83,74,45],[70,84,74,46,"o"],[70,85,74,47],[70,86,74,48,"signature"],[70,95,74,57],[70,96,74,58],[70,98,75,8],[70,104,75,14],[70,108,75,18,"TypeError"],[70,117,75,27],[70,118,75,28],[70,147,75,57],[70,148,75,58],[71,6,76,4],[72,4,77,2],[73,4,78,2],[73,11,78,9,"Object"],[73,17,78,15],[73,18,78,16,"assign"],[73,24,78,22],[73,25,78,23,"o"],[73,26,78,24],[73,28,78,26,"a"],[73,29,78,27],[73,30,78,28],[74,2,79,0],[75,2,80,0,"exports"],[75,9,80,7],[75,10,80,8,"p2pk"],[75,14,80,12],[75,17,80,15,"p2pk"],[75,21,80,19],[76,0,80,20],[76,3]],"functionMap":{"names":["<global>","p2pk","lazy.value$argument_0","lazy.prop$argument_2"],"mappings":"AAA;ACkB;6BCc;GDE;yBEG;GFG;yBEC;GFG;4BEC;GFG;wBEC;GFG;0BEC;GFG;CDsB"}},"type":"js/module"}]}