{"dependencies":[{"name":"../../typeFields","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":21,"index":98},"end":{"line":3,"column":48,"index":125}},{"start":{"line":3,"column":21,"index":98},"end":{"line":3,"column":48,"index":125}}],"key":"JA6Y4U+9BJNyHBqSRMPAJW1YgVo="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function decode(keyVal) {\n    if (keyVal.key[0] !== _$$_REQUIRE(_dependencyMap[0], \"../../typeFields\").InputTypes.TAP_KEY_SIG || keyVal.key.length !== 1) {\n      throw new Error('Decode Error: could not decode tapKeySig with key 0x' + keyVal.key.toString('hex'));\n    }\n    if (!check(keyVal.value)) {\n      throw new Error('Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature');\n    }\n    return keyVal.value;\n  }\n  exports.decode = decode;\n  function encode(value) {\n    var key = Buffer.from([_$$_REQUIRE(_dependencyMap[0], \"../../typeFields\").InputTypes.TAP_KEY_SIG]);\n    return {\n      key: key,\n      value: value\n    };\n  }\n  exports.encode = encode;\n  exports.expected = 'Buffer';\n  function check(data) {\n    return Buffer.isBuffer(data) && (data.length === 64 || data.length === 65);\n  }\n  exports.check = check;\n  function canAdd(currentData, newData) {\n    return !!currentData && !!newData && currentData.tapKeySig === undefined;\n  }\n  exports.canAdd = canAdd;\n});","lineCount":34,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,4,0],[7,11,4,9,"decode"],[7,17,4,15,"decode"],[7,18,4,16,"keyVal"],[7,24,4,22],[7,26,4,24],[8,4,5,2],[8,8,6,4,"keyVal"],[8,14,6,10],[8,15,6,11,"key"],[8,18,6,14],[8,19,6,15],[8,20,6,16],[8,21,6,17],[8,26,6,22,"_$$_REQUIRE"],[8,37,6,22],[8,38,6,22,"_dependencyMap"],[8,52,6,22],[8,77,6,35,"InputTypes"],[8,87,6,45],[8,88,6,46,"TAP_KEY_SIG"],[8,99,6,57],[8,103,7,4,"keyVal"],[8,109,7,10],[8,110,7,11,"key"],[8,113,7,14],[8,114,7,15,"length"],[8,120,7,21],[8,125,7,26],[8,126,7,27],[8,128,8,4],[9,6,9,4],[9,12,9,10],[9,16,9,14,"Error"],[9,21,9,19],[9,22,10,6],[9,76,10,60],[9,79,11,8,"keyVal"],[9,85,11,14],[9,86,11,15,"key"],[9,89,11,18],[9,90,11,19,"toString"],[9,98,11,27],[9,99,11,28],[9,104,11,33],[9,105,12,4],[9,106,12,5],[10,4,13,2],[11,4,14,2],[11,8,14,6],[11,9,14,7,"check"],[11,14,14,12],[11,15,14,13,"keyVal"],[11,21,14,19],[11,22,14,20,"value"],[11,27,14,25],[11,28,14,26],[11,30,14,28],[12,6,15,4],[12,12,15,10],[12,16,15,14,"Error"],[12,21,15,19],[12,22,16,6],[12,87,17,4],[12,88,17,5],[13,4,18,2],[14,4,19,2],[14,11,19,9,"keyVal"],[14,17,19,15],[14,18,19,16,"value"],[14,23,19,21],[15,2,20,0],[16,2,21,0,"exports"],[16,9,21,7],[16,10,21,8,"decode"],[16,16,21,14],[16,19,21,17,"decode"],[16,25,21,23],[17,2,22,0],[17,11,22,9,"encode"],[17,17,22,15,"encode"],[17,18,22,16,"value"],[17,23,22,21],[17,25,22,23],[18,4,23,2],[18,8,23,8,"key"],[18,11,23,11],[18,14,23,14,"Buffer"],[18,20,23,20],[18,21,23,21,"from"],[18,25,23,25],[18,26,23,26],[18,27,23,27,"_$$_REQUIRE"],[18,38,23,27],[18,39,23,27,"_dependencyMap"],[18,53,23,27],[18,78,23,40,"InputTypes"],[18,88,23,50],[18,89,23,51,"TAP_KEY_SIG"],[18,100,23,62],[18,101,23,63],[18,102,23,64],[19,4,24,2],[19,11,24,9],[20,6,24,11,"key"],[20,9,24,14],[20,11,24,11,"key"],[20,14,24,14],[21,6,24,16,"value"],[21,11,24,21],[21,13,24,16,"value"],[22,4,24,22],[22,5,24,23],[23,2,25,0],[24,2,26,0,"exports"],[24,9,26,7],[24,10,26,8,"encode"],[24,16,26,14],[24,19,26,17,"encode"],[24,25,26,23],[25,2,27,0,"exports"],[25,9,27,7],[25,10,27,8,"expected"],[25,18,27,16],[25,21,27,19],[25,29,27,27],[26,2,28,0],[26,11,28,9,"check"],[26,16,28,14,"check"],[26,17,28,15,"data"],[26,21,28,19],[26,23,28,21],[27,4,29,2],[27,11,29,9,"Buffer"],[27,17,29,15],[27,18,29,16,"isBuffer"],[27,26,29,24],[27,27,29,25,"data"],[27,31,29,29],[27,32,29,30],[27,37,29,35,"data"],[27,41,29,39],[27,42,29,40,"length"],[27,48,29,46],[27,53,29,51],[27,55,29,53],[27,59,29,57,"data"],[27,63,29,61],[27,64,29,62,"length"],[27,70,29,68],[27,75,29,73],[27,77,29,75],[27,78,29,76],[28,2,30,0],[29,2,31,0,"exports"],[29,9,31,7],[29,10,31,8,"check"],[29,15,31,13],[29,18,31,16,"check"],[29,23,31,21],[30,2,32,0],[30,11,32,9,"canAdd"],[30,17,32,15,"canAdd"],[30,18,32,16,"currentData"],[30,29,32,27],[30,31,32,29,"newData"],[30,38,32,36],[30,40,32,38],[31,4,33,2],[31,11,33,9],[31,12,33,10],[31,13,33,11,"currentData"],[31,24,33,22],[31,28,33,26],[31,29,33,27],[31,30,33,28,"newData"],[31,37,33,35],[31,41,33,39,"currentData"],[31,52,33,50],[31,53,33,51,"tapKeySig"],[31,62,33,60],[31,67,33,65,"undefined"],[31,76,33,74],[32,2,34,0],[33,2,35,0,"exports"],[33,9,35,7],[33,10,35,8,"canAdd"],[33,16,35,14],[33,19,35,17,"canAdd"],[33,25,35,23],[34,0,35,24],[34,3]],"functionMap":{"names":["<global>","decode","encode","check","canAdd"],"mappings":"AAA;ACG;CDgB;AEE;CFG;AGG;CHE;AIE;CJE"}},"type":"js/module"}]}