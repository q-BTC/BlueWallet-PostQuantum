{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":15,"column":0,"index":616}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk="}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":15,"column":0,"index":616}}],"key":"fnQVLibs90KHiJ7y48fLgPWzDS0="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.fetch = fetch;\n  var _objectWithoutProperties2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/objectWithoutProperties\"));\n  var _excluded = [\"timeout\"];\n  var DEFAULT_TIMEOUT = 10000; // default timeout in ms\n\n  // protection against calling itself recursively\n  var nativeFetch = globalThis.fetch.bind(globalThis);\n  function fetch(input) {\n    var init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (__DEV__) {\n      console.log('fetch wrapper: ', input, init);\n    }\n    var _init$timeout = init.timeout,\n      timeout = _init$timeout === void 0 ? DEFAULT_TIMEOUT : _init$timeout,\n      rest = (0, _objectWithoutProperties2.default)(init, _excluded);\n    var controller = new AbortController();\n    var timer = setTimeout(function () {\n      return controller.abort();\n    }, timeout);\n    return nativeFetch(input, Object.assign({}, rest, {\n      signal: controller.signal\n    })).finally(function () {\n      return clearTimeout(timer);\n    });\n  }\n});","lineCount":31,"map":[[9,2,1,0],[9,6,1,6,"DEFAULT_TIMEOUT"],[9,21,1,21],[9,24,1,24],[9,29,1,29],[9,30,1,30],[9,31,1,31],[11,2,3,0],[12,2,4,0],[12,6,4,6,"nativeFetch"],[12,17,4,17],[12,20,4,20,"globalThis"],[12,30,4,30],[12,31,4,31,"fetch"],[12,36,4,36],[12,37,4,37,"bind"],[12,41,4,41],[12,42,4,42,"globalThis"],[12,52,4,52],[12,53,4,53],[13,2,6,7],[13,11,6,16,"fetch"],[13,16,6,21,"fetch"],[13,17,6,22,"input"],[13,22,6,46],[13,24,6,114],[14,4,6,114],[14,8,6,48,"init"],[14,12,6,88],[14,15,6,88,"arguments"],[14,24,6,88],[14,25,6,88,"length"],[14,31,6,88],[14,39,6,88,"arguments"],[14,48,6,88],[14,56,6,88,"undefined"],[14,65,6,88],[14,68,6,88,"arguments"],[14,77,6,88],[14,83,6,91],[14,84,6,92],[14,85,6,93],[15,4,7,2],[15,8,7,6,"__DEV__"],[15,15,7,13],[15,17,7,15],[16,6,8,4,"console"],[16,13,8,11],[16,14,8,12,"log"],[16,17,8,15],[16,18,8,16],[16,35,8,33],[16,37,8,35,"input"],[16,42,8,40],[16,44,8,42,"init"],[16,48,8,46],[16,49,8,47],[17,4,9,2],[18,4,10,2],[18,8,10,2,"_init$timeout"],[18,21,10,2],[18,24,10,49,"init"],[18,28,10,53],[18,29,10,10,"timeout"],[18,36,10,17],[19,6,10,10,"timeout"],[19,13,10,17],[19,16,10,17,"_init$timeout"],[19,29,10,17],[19,43,10,20,"DEFAULT_TIMEOUT"],[19,58,10,35],[19,61,10,35,"_init$timeout"],[19,74,10,35],[20,6,10,40,"rest"],[20,10,10,44],[20,17,10,44,"_objectWithoutProperties2"],[20,42,10,44],[20,43,10,44,"default"],[20,50,10,44],[20,52,10,49,"init"],[20,56,10,53],[20,58,10,53,"_excluded"],[20,67,10,53],[21,4,11,2],[21,8,11,8,"controller"],[21,18,11,18],[21,21,11,21],[21,25,11,25,"AbortController"],[21,40,11,40],[21,41,11,41],[21,42,11,42],[22,4,12,2],[22,8,12,8,"timer"],[22,13,12,13],[22,16,12,16,"setTimeout"],[22,26,12,26],[22,27,12,27],[23,6,12,27],[23,13,12,33,"controller"],[23,23,12,43],[23,24,12,44,"abort"],[23,29,12,49],[23,30,12,50],[23,31,12,51],[24,4,12,51],[24,7,12,53,"timeout"],[24,14,12,60],[24,15,12,61],[25,4,13,2],[25,11,13,9,"nativeFetch"],[25,22,13,20],[25,23,13,21,"input"],[25,28,13,26],[25,30,13,26,"Object"],[25,36,13,26],[25,37,13,26,"assign"],[25,43,13,26],[25,48,13,33,"rest"],[25,52,13,37],[26,6,13,39,"signal"],[26,12,13,45],[26,14,13,47,"controller"],[26,24,13,57],[26,25,13,58,"signal"],[27,4,13,64],[27,6,13,66],[27,7,13,67],[27,8,13,68,"finally"],[27,15,13,75],[27,16,13,76],[28,6,13,76],[28,13,13,82,"clearTimeout"],[28,25,13,94],[28,26,13,95,"timer"],[28,31,13,100],[28,32,13,101],[29,4,13,101],[29,6,13,102],[30,2,14,0],[31,0,14,1],[31,3]],"functionMap":{"names":["<global>","fetch","setTimeout$argument_0","nativeFetch._finally$argument_0"],"mappings":"AAA;OCK;2BCM,wBD;4EEC,yBF;CDC"}},"type":"js/module"}]}