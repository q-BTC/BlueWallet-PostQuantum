{"dependencies":[{"name":"@babel/runtime/helpers/toConsumableArray","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":47,"column":37,"index":2008}}],"key":"kiCFfIx1MWoD4noR0gEoyrFAUKE="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":47,"column":37,"index":2008}}],"key":"yg7e6laZwmpbIvId5jovq9ugXp8="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":47,"column":37,"index":2008}}],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30="}},{"name":"./fountainEncoder","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":42,"index":258},"end":{"line":6,"column":70,"index":286}}],"key":"MX5UsTACrwldTOM4xSgl4IPZehA="}},{"name":"./bytewords","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":36,"index":325},"end":{"line":7,"column":58,"index":347}}],"key":"7X0Ora8nN1au/ubYjp5R3ftYFu8="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _toConsumableArray = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/toConsumableArray\");\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _createClass = _$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var __importDefault = this && this.__importDefault || function (mod) {\n    return mod && mod.__esModule ? mod : {\n      \"default\": mod\n    };\n  };\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var fountainEncoder_1 = __importDefault(_$$_REQUIRE(_dependencyMap[3], \"./fountainEncoder\"));\n  var bytewords_1 = __importDefault(_$$_REQUIRE(_dependencyMap[4], \"./bytewords\"));\n  var UREncoder = /*#__PURE__*/function () {\n    function UREncoder(_ur, maxFragmentLength, firstSeqNum, minFragmentLength) {\n      _classCallCheck(this, UREncoder);\n      this.ur = _ur;\n      this.fountainEncoder = new fountainEncoder_1.default(_ur.cbor, maxFragmentLength, firstSeqNum, minFragmentLength);\n    }\n    return _createClass(UREncoder, [{\n      key: \"fragmentsLength\",\n      get: function get() {\n        return this.fountainEncoder.fragmentsLength;\n      }\n    }, {\n      key: \"fragments\",\n      get: function get() {\n        return this.fountainEncoder.fragments;\n      }\n    }, {\n      key: \"messageLength\",\n      get: function get() {\n        return this.fountainEncoder.messageLength;\n      }\n    }, {\n      key: \"cbor\",\n      get: function get() {\n        return this.ur.cbor;\n      }\n    }, {\n      key: \"encodeWhole\",\n      value: function encodeWhole() {\n        var _this = this;\n        return _toConsumableArray(new Array(this.fragmentsLength)).map(function () {\n          return _this.nextPart();\n        });\n      }\n    }, {\n      key: \"nextPart\",\n      value: function nextPart() {\n        var part = this.fountainEncoder.nextPart();\n        if (this.fountainEncoder.isSinglePart()) {\n          return UREncoder.encodeSinglePart(this.ur);\n        } else {\n          return UREncoder.encodePart(this.ur.type, part);\n        }\n      }\n    }], [{\n      key: \"encodeUri\",\n      value: function encodeUri(scheme, pathComponents) {\n        var path = pathComponents.join('/');\n        return [scheme, path].join(':');\n      }\n    }, {\n      key: \"encodeUR\",\n      value: function encodeUR(pathComponents) {\n        return UREncoder.encodeUri('ur', pathComponents);\n      }\n    }, {\n      key: \"encodePart\",\n      value: function encodePart(type, part) {\n        var seq = `${part.seqNum}-${part.seqLength}`;\n        var body = bytewords_1.default.encode(part.cbor().toString('hex'), bytewords_1.default.STYLES.MINIMAL);\n        return UREncoder.encodeUR([type, seq, body]);\n      }\n    }, {\n      key: \"encodeSinglePart\",\n      value: function encodeSinglePart(ur) {\n        var body = bytewords_1.default.encode(ur.cbor.toString('hex'), bytewords_1.default.STYLES.MINIMAL);\n        return UREncoder.encodeUR([ur.type, body]);\n      }\n    }]);\n  }();\n  exports.default = UREncoder;\n});","lineCount":88,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_toConsumableArray"],[4,24,1,13],[4,27,1,13,"_$$_REQUIRE"],[4,38,1,13],[4,39,1,13,"_dependencyMap"],[4,53,1,13],[5,2,1,13],[5,6,1,13,"_classCallCheck"],[5,21,1,13],[5,24,1,13,"_$$_REQUIRE"],[5,35,1,13],[5,36,1,13,"_dependencyMap"],[5,50,1,13],[6,2,1,13],[6,6,1,13,"_createClass"],[6,18,1,13],[6,21,1,13,"_$$_REQUIRE"],[6,32,1,13],[6,33,1,13,"_dependencyMap"],[6,47,1,13],[7,2,2,0],[7,6,2,4,"__importDefault"],[7,21,2,19],[7,24,2,23],[7,28,2,27],[7,32,2,31],[7,36,2,35],[7,37,2,36,"__importDefault"],[7,52,2,51],[7,56,2,56],[7,66,2,66,"mod"],[7,69,2,69],[7,71,2,71],[8,4,3,4],[8,11,3,12,"mod"],[8,14,3,15],[8,18,3,19,"mod"],[8,21,3,22],[8,22,3,23,"__esModule"],[8,32,3,33],[8,35,3,37,"mod"],[8,38,3,40],[8,41,3,43],[9,6,3,45],[9,15,3,54],[9,17,3,56,"mod"],[10,4,3,60],[10,5,3,61],[11,2,4,0],[11,3,4,1],[12,2,5,0,"Object"],[12,8,5,6],[12,9,5,7,"defineProperty"],[12,23,5,21],[12,24,5,22,"exports"],[12,31,5,29],[12,33,5,31],[12,45,5,43],[12,47,5,45],[13,4,5,47,"value"],[13,9,5,52],[13,11,5,54],[14,2,5,59],[14,3,5,60],[14,4,5,61],[15,2,6,0],[15,6,6,6,"fountainEncoder_1"],[15,23,6,23],[15,26,6,26,"__importDefault"],[15,41,6,41],[15,42,6,42,"require"],[15,53,6,49],[15,54,6,49,"_dependencyMap"],[15,68,6,49],[15,92,6,69],[15,93,6,70],[15,94,6,71],[16,2,7,0],[16,6,7,6,"bytewords_1"],[16,17,7,17],[16,20,7,20,"__importDefault"],[16,35,7,35],[16,36,7,36,"require"],[16,47,7,43],[16,48,7,43,"_dependencyMap"],[16,62,7,43],[16,80,7,57],[16,81,7,58],[16,82,7,59],[17,2,7,60],[17,6,8,6,"UREncoder"],[17,15,8,15],[18,4,9,4],[18,13,9,4,"UREncoder"],[18,23,9,16,"_ur"],[18,26,9,19],[18,28,9,21,"maxFragmentLength"],[18,45,9,38],[18,47,9,40,"firstSeqNum"],[18,58,9,51],[18,60,9,53,"minFragmentLength"],[18,77,9,70],[18,79,9,72],[19,6,9,72,"_classCallCheck"],[19,21,9,72],[19,28,9,72,"UREncoder"],[19,37,9,72],[20,6,10,8],[20,10,10,12],[20,11,10,13,"ur"],[20,13,10,15],[20,16,10,18,"_ur"],[20,19,10,21],[21,6,11,8],[21,10,11,12],[21,11,11,13,"fountainEncoder"],[21,26,11,28],[21,29,11,31],[21,33,11,35,"fountainEncoder_1"],[21,50,11,52],[21,51,11,53,"default"],[21,58,11,60],[21,59,11,61,"_ur"],[21,62,11,64],[21,63,11,65,"cbor"],[21,67,11,69],[21,69,11,71,"maxFragmentLength"],[21,86,11,88],[21,88,11,90,"firstSeqNum"],[21,99,11,101],[21,101,11,103,"minFragmentLength"],[21,118,11,120],[21,119,11,121],[22,4,12,4],[23,4,12,5],[23,11,12,5,"_createClass"],[23,23,12,5],[23,24,12,5,"UREncoder"],[23,33,12,5],[24,6,12,5,"key"],[24,9,12,5],[25,6,12,5,"get"],[25,9,12,5],[25,11,13,4],[25,20,13,4,"get"],[25,24,13,4],[25,26,13,26],[26,8,13,28],[26,15,13,35],[26,19,13,39],[26,20,13,40,"fountainEncoder"],[26,35,13,55],[26,36,13,56,"fragmentsLength"],[26,51,13,71],[27,6,13,73],[28,4,13,74],[29,6,13,74,"key"],[29,9,13,74],[30,6,13,74,"get"],[30,9,13,74],[30,11,14,4],[30,20,14,4,"get"],[30,24,14,4],[30,26,14,20],[31,8,14,22],[31,15,14,29],[31,19,14,33],[31,20,14,34,"fountainEncoder"],[31,35,14,49],[31,36,14,50,"fragments"],[31,45,14,59],[32,6,14,61],[33,4,14,62],[34,6,14,62,"key"],[34,9,14,62],[35,6,14,62,"get"],[35,9,14,62],[35,11,15,4],[35,20,15,4,"get"],[35,24,15,4],[35,26,15,24],[36,8,15,26],[36,15,15,33],[36,19,15,37],[36,20,15,38,"fountainEncoder"],[36,35,15,53],[36,36,15,54,"messageLength"],[36,49,15,67],[37,6,15,69],[38,4,15,70],[39,6,15,70,"key"],[39,9,15,70],[40,6,15,70,"get"],[40,9,15,70],[40,11,16,4],[40,20,16,4,"get"],[40,24,16,4],[40,26,16,15],[41,8,16,17],[41,15,16,24],[41,19,16,28],[41,20,16,29,"ur"],[41,22,16,31],[41,23,16,32,"cbor"],[41,27,16,36],[42,6,16,38],[43,4,16,39],[44,6,16,39,"key"],[44,9,16,39],[45,6,16,39,"value"],[45,11,16,39],[45,13,17,4],[45,22,17,4,"encodeWhole"],[45,33,17,15,"encodeWhole"],[45,34,17,15],[45,36,17,18],[46,8,17,18],[46,12,17,18,"_this"],[46,17,17,18],[47,8,18,8],[47,15,18,15,"_toConsumableArray"],[47,33,18,15],[47,34,18,19],[47,38,18,23,"Array"],[47,43,18,28],[47,44,18,29],[47,48,18,33],[47,49,18,34,"fragmentsLength"],[47,64,18,49],[47,65,18,50],[47,67,18,52,"map"],[47,70,18,55],[47,71,18,56],[48,10,18,56],[48,17,18,62,"_this"],[48,22,18,66],[48,23,18,67,"nextPart"],[48,31,18,75],[48,32,18,76],[48,33,18,77],[49,8,18,77],[49,10,18,78],[50,6,19,4],[51,4,19,5],[52,6,19,5,"key"],[52,9,19,5],[53,6,19,5,"value"],[53,11,19,5],[53,13,20,4],[53,22,20,4,"nextPart"],[53,30,20,12,"nextPart"],[53,31,20,12],[53,33,20,15],[54,8,21,8],[54,12,21,14,"part"],[54,16,21,18],[54,19,21,21],[54,23,21,25],[54,24,21,26,"fountainEncoder"],[54,39,21,41],[54,40,21,42,"nextPart"],[54,48,21,50],[54,49,21,51],[54,50,21,52],[55,8,22,8],[55,12,22,12],[55,16,22,16],[55,17,22,17,"fountainEncoder"],[55,32,22,32],[55,33,22,33,"isSinglePart"],[55,45,22,45],[55,46,22,46],[55,47,22,47],[55,49,22,49],[56,10,23,12],[56,17,23,19,"UREncoder"],[56,26,23,28],[56,27,23,29,"encodeSinglePart"],[56,43,23,45],[56,44,23,46],[56,48,23,50],[56,49,23,51,"ur"],[56,51,23,53],[56,52,23,54],[57,8,24,8],[57,9,24,9],[57,15,25,13],[58,10,26,12],[58,17,26,19,"UREncoder"],[58,26,26,28],[58,27,26,29,"encodePart"],[58,37,26,39],[58,38,26,40],[58,42,26,44],[58,43,26,45,"ur"],[58,45,26,47],[58,46,26,48,"type"],[58,50,26,52],[58,52,26,54,"part"],[58,56,26,58],[58,57,26,59],[59,8,27,8],[60,6,28,4],[61,4,28,5],[62,6,28,5,"key"],[62,9,28,5],[63,6,28,5,"value"],[63,11,28,5],[63,13,29,4],[63,22,29,11,"encodeUri"],[63,31,29,20,"encodeUri"],[63,32,29,21,"scheme"],[63,38,29,27],[63,40,29,29,"pathComponents"],[63,54,29,43],[63,56,29,45],[64,8,30,8],[64,12,30,14,"path"],[64,16,30,18],[64,19,30,21,"pathComponents"],[64,33,30,35],[64,34,30,36,"join"],[64,38,30,40],[64,39,30,41],[64,42,30,44],[64,43,30,45],[65,8,31,8],[65,15,31,15],[65,16,31,16,"scheme"],[65,22,31,22],[65,24,31,24,"path"],[65,28,31,28],[65,29,31,29],[65,30,31,30,"join"],[65,34,31,34],[65,35,31,35],[65,38,31,38],[65,39,31,39],[66,6,32,4],[67,4,32,5],[68,6,32,5,"key"],[68,9,32,5],[69,6,32,5,"value"],[69,11,32,5],[69,13,33,4],[69,22,33,11,"encodeUR"],[69,30,33,19,"encodeUR"],[69,31,33,20,"pathComponents"],[69,45,33,34],[69,47,33,36],[70,8,34,8],[70,15,34,15,"UREncoder"],[70,24,34,24],[70,25,34,25,"encodeUri"],[70,34,34,34],[70,35,34,35],[70,39,34,39],[70,41,34,41,"pathComponents"],[70,55,34,55],[70,56,34,56],[71,6,35,4],[72,4,35,5],[73,6,35,5,"key"],[73,9,35,5],[74,6,35,5,"value"],[74,11,35,5],[74,13,36,4],[74,22,36,11,"encodePart"],[74,32,36,21,"encodePart"],[74,33,36,22,"type"],[74,37,36,26],[74,39,36,28,"part"],[74,43,36,32],[74,45,36,34],[75,8,37,8],[75,12,37,14,"seq"],[75,15,37,17],[75,18,37,20],[75,21,37,23,"part"],[75,25,37,27],[75,26,37,28,"seqNum"],[75,32,37,34],[75,36,37,38,"part"],[75,40,37,42],[75,41,37,43,"seqLength"],[75,50,37,52],[75,52,37,54],[76,8,38,8],[76,12,38,14,"body"],[76,16,38,18],[76,19,38,21,"bytewords_1"],[76,30,38,32],[76,31,38,33,"default"],[76,38,38,40],[76,39,38,41,"encode"],[76,45,38,47],[76,46,38,48,"part"],[76,50,38,52],[76,51,38,53,"cbor"],[76,55,38,57],[76,56,38,58],[76,57,38,59],[76,58,38,60,"toString"],[76,66,38,68],[76,67,38,69],[76,72,38,74],[76,73,38,75],[76,75,38,77,"bytewords_1"],[76,86,38,88],[76,87,38,89,"default"],[76,94,38,96],[76,95,38,97,"STYLES"],[76,101,38,103],[76,102,38,104,"MINIMAL"],[76,109,38,111],[76,110,38,112],[77,8,39,8],[77,15,39,15,"UREncoder"],[77,24,39,24],[77,25,39,25,"encodeUR"],[77,33,39,33],[77,34,39,34],[77,35,39,35,"type"],[77,39,39,39],[77,41,39,41,"seq"],[77,44,39,44],[77,46,39,46,"body"],[77,50,39,50],[77,51,39,51],[77,52,39,52],[78,6,40,4],[79,4,40,5],[80,6,40,5,"key"],[80,9,40,5],[81,6,40,5,"value"],[81,11,40,5],[81,13,41,4],[81,22,41,11,"encodeSinglePart"],[81,38,41,27,"encodeSinglePart"],[81,39,41,28,"ur"],[81,41,41,30],[81,43,41,32],[82,8,42,8],[82,12,42,14,"body"],[82,16,42,18],[82,19,42,21,"bytewords_1"],[82,30,42,32],[82,31,42,33,"default"],[82,38,42,40],[82,39,42,41,"encode"],[82,45,42,47],[82,46,42,48,"ur"],[82,48,42,50],[82,49,42,51,"cbor"],[82,53,42,55],[82,54,42,56,"toString"],[82,62,42,64],[82,63,42,65],[82,68,42,70],[82,69,42,71],[82,71,42,73,"bytewords_1"],[82,82,42,84],[82,83,42,85,"default"],[82,90,42,92],[82,91,42,93,"STYLES"],[82,97,42,99],[82,98,42,100,"MINIMAL"],[82,105,42,107],[82,106,42,108],[83,8,43,8],[83,15,43,15,"UREncoder"],[83,24,43,24],[83,25,43,25,"encodeUR"],[83,33,43,33],[83,34,43,34],[83,35,43,35,"ur"],[83,37,43,37],[83,38,43,38,"type"],[83,42,43,42],[83,44,43,44,"body"],[83,48,43,48],[83,49,43,49],[83,50,43,50],[84,6,44,4],[85,4,44,5],[86,2,44,5],[87,2,46,0,"exports"],[87,9,46,7],[87,10,46,8,"default"],[87,17,46,15],[87,20,46,18,"UREncoder"],[87,29,46,27],[88,0,46,28],[88,3]],"functionMap":{"names":["<global>","<anonymous>","UREncoder","UREncoder#constructor","UREncoder#get__fragmentsLength","UREncoder#get__fragments","UREncoder#get__messageLength","UREncoder#get__cbor","UREncoder#encodeWhole","map$argument_0","UREncoder#nextPart","UREncoder.encodeUri","UREncoder.encodeUR","UREncoder.encodePart","UREncoder.encodeSinglePart"],"mappings":"AAA;wDCC;CDE;AEI;ICC;KDG;IEC,sEF;IGC,0DH;IIC,kEJ;IKC,mCL;IMC;wDCC,qBD;KNC;IQC;KRQ;ISC;KTG;IUC;KVE;IWC;KXI;IYC;KZG;CFC"}},"type":"js/module"}]}