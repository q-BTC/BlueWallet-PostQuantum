{"dependencies":[{"name":"create-hmac","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":19,"index":19},"end":{"line":1,"column":41,"index":41}},{"start":{"line":1,"column":19,"index":19},"end":{"line":1,"column":41,"index":41}},{"start":{"line":1,"column":19,"index":19},"end":{"line":1,"column":41,"index":41}},{"start":{"line":1,"column":19,"index":19},"end":{"line":1,"column":41,"index":41}},{"start":{"line":1,"column":19,"index":19},"end":{"line":1,"column":41,"index":41}},{"start":{"line":1,"column":19,"index":19},"end":{"line":1,"column":41,"index":41}},{"start":{"line":1,"column":19,"index":19},"end":{"line":1,"column":41,"index":41}},{"start":{"line":1,"column":19,"index":19},"end":{"line":1,"column":41,"index":41}}],"key":"Hb4O2fQ/eTYGCsl146rR3M0LxJk="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var ONE1 = Buffer.alloc(1, 1);\n  var ZERO1 = Buffer.alloc(1, 0);\n\n  // https://tools.ietf.org/html/rfc6979#section-3.2\n  function deterministicGenerateK(hash, x, checkSig, isPrivate, extraEntropy) {\n    // Step A, ignored as hash already provided\n    // Step B\n    // Step C\n    var k = Buffer.alloc(32, 0);\n    var v = Buffer.alloc(32, 1);\n\n    // Step D\n    k = _$$_REQUIRE(_dependencyMap[0], \"create-hmac\")('sha256', k).update(v).update(ZERO1).update(x).update(hash).update(extraEntropy || '').digest();\n\n    // Step E\n    v = _$$_REQUIRE(_dependencyMap[0], \"create-hmac\")('sha256', k).update(v).digest();\n\n    // Step F\n    k = _$$_REQUIRE(_dependencyMap[0], \"create-hmac\")('sha256', k).update(v).update(ONE1).update(x).update(hash).update(extraEntropy || '').digest();\n\n    // Step G\n    v = _$$_REQUIRE(_dependencyMap[0], \"create-hmac\")('sha256', k).update(v).digest();\n\n    // Step H1/H2a, ignored as tlen === qlen (256 bit)\n    // Step H2b\n    v = _$$_REQUIRE(_dependencyMap[0], \"create-hmac\")('sha256', k).update(v).digest();\n    var T = v;\n\n    // Step H3, repeat until T is within the interval [1, n - 1] and is suitable for ECDSA\n    while (!isPrivate(T) || !checkSig(T)) {\n      k = _$$_REQUIRE(_dependencyMap[0], \"create-hmac\")('sha256', k).update(v).update(ZERO1).digest();\n      v = _$$_REQUIRE(_dependencyMap[0], \"create-hmac\")('sha256', k).update(v).digest();\n\n      // Step H1/H2a, again, ignored as tlen === qlen (256 bit)\n      // Step H2b again\n      v = _$$_REQUIRE(_dependencyMap[0], \"create-hmac\")('sha256', k).update(v).digest();\n      T = v;\n    }\n    return T;\n  }\n  module.exports = deterministicGenerateK;\n});","lineCount":43,"map":[[2,2,3,0],[2,6,3,6,"ONE1"],[2,10,3,10],[2,13,3,13,"Buffer"],[2,19,3,19],[2,20,3,20,"alloc"],[2,25,3,25],[2,26,3,26],[2,27,3,27],[2,29,3,29],[2,30,3,30],[2,31,3,31],[3,2,4,0],[3,6,4,6,"ZERO1"],[3,11,4,11],[3,14,4,14,"Buffer"],[3,20,4,20],[3,21,4,21,"alloc"],[3,26,4,26],[3,27,4,27],[3,28,4,28],[3,30,4,30],[3,31,4,31],[3,32,4,32],[5,2,6,0],[6,2,7,0],[6,11,7,9,"deterministicGenerateK"],[6,33,7,31,"deterministicGenerateK"],[6,34,7,33,"hash"],[6,38,7,37],[6,40,7,39,"x"],[6,41,7,40],[6,43,7,42,"checkSig"],[6,51,7,50],[6,53,7,52,"isPrivate"],[6,62,7,61],[6,64,7,63,"extraEntropy"],[6,76,7,75],[6,78,7,77],[7,4,8,2],[8,4,9,2],[9,4,10,2],[10,4,11,2],[10,8,11,6,"k"],[10,9,11,7],[10,12,11,10,"Buffer"],[10,18,11,16],[10,19,11,17,"alloc"],[10,24,11,22],[10,25,11,23],[10,27,11,25],[10,29,11,27],[10,30,11,28],[10,31,11,29],[11,4,12,2],[11,8,12,6,"v"],[11,9,12,7],[11,12,12,10,"Buffer"],[11,18,12,16],[11,19,12,17,"alloc"],[11,24,12,22],[11,25,12,23],[11,27,12,25],[11,29,12,27],[11,30,12,28],[11,31,12,29],[13,4,14,2],[14,4,15,2,"k"],[14,5,15,3],[14,8,15,6,"_$$_REQUIRE"],[14,19,15,6],[14,20,15,6,"_dependencyMap"],[14,34,15,6],[14,54,15,17],[14,62,15,25],[14,64,15,27,"k"],[14,65,15,28],[14,66,15,29],[14,67,16,5,"update"],[14,73,16,11],[14,74,16,12,"v"],[14,75,16,13],[14,76,16,14],[14,77,17,5,"update"],[14,83,17,11],[14,84,17,12,"ZERO1"],[14,89,17,17],[14,90,17,18],[14,91,18,5,"update"],[14,97,18,11],[14,98,18,12,"x"],[14,99,18,13],[14,100,18,14],[14,101,19,5,"update"],[14,107,19,11],[14,108,19,12,"hash"],[14,112,19,16],[14,113,19,17],[14,114,20,5,"update"],[14,120,20,11],[14,121,20,12,"extraEntropy"],[14,133,20,24],[14,137,20,28],[14,139,20,30],[14,140,20,31],[14,141,21,5,"digest"],[14,147,21,11],[14,148,21,12],[14,149,21,13],[16,4,23,2],[17,4,24,2,"v"],[17,5,24,3],[17,8,24,6,"_$$_REQUIRE"],[17,19,24,6],[17,20,24,6,"_dependencyMap"],[17,34,24,6],[17,54,24,17],[17,62,24,25],[17,64,24,27,"k"],[17,65,24,28],[17,66,24,29],[17,67,24,30,"update"],[17,73,24,36],[17,74,24,37,"v"],[17,75,24,38],[17,76,24,39],[17,77,24,40,"digest"],[17,83,24,46],[17,84,24,47],[17,85,24,48],[19,4,26,2],[20,4,27,2,"k"],[20,5,27,3],[20,8,27,6,"_$$_REQUIRE"],[20,19,27,6],[20,20,27,6,"_dependencyMap"],[20,34,27,6],[20,54,27,17],[20,62,27,25],[20,64,27,27,"k"],[20,65,27,28],[20,66,27,29],[20,67,28,5,"update"],[20,73,28,11],[20,74,28,12,"v"],[20,75,28,13],[20,76,28,14],[20,77,29,5,"update"],[20,83,29,11],[20,84,29,12,"ONE1"],[20,88,29,16],[20,89,29,17],[20,90,30,5,"update"],[20,96,30,11],[20,97,30,12,"x"],[20,98,30,13],[20,99,30,14],[20,100,31,5,"update"],[20,106,31,11],[20,107,31,12,"hash"],[20,111,31,16],[20,112,31,17],[20,113,32,5,"update"],[20,119,32,11],[20,120,32,12,"extraEntropy"],[20,132,32,24],[20,136,32,28],[20,138,32,30],[20,139,32,31],[20,140,33,5,"digest"],[20,146,33,11],[20,147,33,12],[20,148,33,13],[22,4,35,2],[23,4,36,2,"v"],[23,5,36,3],[23,8,36,6,"_$$_REQUIRE"],[23,19,36,6],[23,20,36,6,"_dependencyMap"],[23,34,36,6],[23,54,36,17],[23,62,36,25],[23,64,36,27,"k"],[23,65,36,28],[23,66,36,29],[23,67,36,30,"update"],[23,73,36,36],[23,74,36,37,"v"],[23,75,36,38],[23,76,36,39],[23,77,36,40,"digest"],[23,83,36,46],[23,84,36,47],[23,85,36,48],[25,4,38,2],[26,4,39,2],[27,4,40,2,"v"],[27,5,40,3],[27,8,40,6,"_$$_REQUIRE"],[27,19,40,6],[27,20,40,6,"_dependencyMap"],[27,34,40,6],[27,54,40,17],[27,62,40,25],[27,64,40,27,"k"],[27,65,40,28],[27,66,40,29],[27,67,40,30,"update"],[27,73,40,36],[27,74,40,37,"v"],[27,75,40,38],[27,76,40,39],[27,77,40,40,"digest"],[27,83,40,46],[27,84,40,47],[27,85,40,48],[28,4,42,2],[28,8,42,6,"T"],[28,9,42,7],[28,12,42,10,"v"],[28,13,42,11],[30,4,44,2],[31,4,45,2],[31,11,45,9],[31,12,45,10,"isPrivate"],[31,21,45,19],[31,22,45,20,"T"],[31,23,45,21],[31,24,45,22],[31,28,45,26],[31,29,45,27,"checkSig"],[31,37,45,35],[31,38,45,36,"T"],[31,39,45,37],[31,40,45,38],[31,42,45,40],[32,6,46,4,"k"],[32,7,46,5],[32,10,46,8,"_$$_REQUIRE"],[32,21,46,8],[32,22,46,8,"_dependencyMap"],[32,36,46,8],[32,56,46,19],[32,64,46,27],[32,66,46,29,"k"],[32,67,46,30],[32,68,46,31],[32,69,47,7,"update"],[32,75,47,13],[32,76,47,14,"v"],[32,77,47,15],[32,78,47,16],[32,79,48,7,"update"],[32,85,48,13],[32,86,48,14,"ZERO1"],[32,91,48,19],[32,92,48,20],[32,93,49,7,"digest"],[32,99,49,13],[32,100,49,14],[32,101,49,15],[33,6,51,4,"v"],[33,7,51,5],[33,10,51,8,"_$$_REQUIRE"],[33,21,51,8],[33,22,51,8,"_dependencyMap"],[33,36,51,8],[33,56,51,19],[33,64,51,27],[33,66,51,29,"k"],[33,67,51,30],[33,68,51,31],[33,69,51,32,"update"],[33,75,51,38],[33,76,51,39,"v"],[33,77,51,40],[33,78,51,41],[33,79,51,42,"digest"],[33,85,51,48],[33,86,51,49],[33,87,51,50],[35,6,53,4],[36,6,54,4],[37,6,55,4,"v"],[37,7,55,5],[37,10,55,8,"_$$_REQUIRE"],[37,21,55,8],[37,22,55,8,"_dependencyMap"],[37,36,55,8],[37,56,55,19],[37,64,55,27],[37,66,55,29,"k"],[37,67,55,30],[37,68,55,31],[37,69,55,32,"update"],[37,75,55,38],[37,76,55,39,"v"],[37,77,55,40],[37,78,55,41],[37,79,55,42,"digest"],[37,85,55,48],[37,86,55,49],[37,87,55,50],[38,6,56,4,"T"],[38,7,56,5],[38,10,56,8,"v"],[38,11,56,9],[39,4,57,2],[40,4,59,2],[40,11,59,9,"T"],[40,12,59,10],[41,2,60,0],[42,2,62,0,"module"],[42,8,62,6],[42,9,62,7,"exports"],[42,16,62,14],[42,19,62,17,"deterministicGenerateK"],[42,41,62,39],[43,0,62,39],[43,3]],"functionMap":{"names":["<global>","deterministicGenerateK"],"mappings":"AAA;ACM;CDqD"}},"type":"js/module"}]}