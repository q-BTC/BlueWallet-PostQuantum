{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":59,"column":0,"index":1690}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":59,"column":0,"index":1690}}],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":59,"column":0,"index":1690}}],"key":"yg7e6laZwmpbIvId5jovq9ugXp8="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":59,"column":0,"index":1690}}],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30="}},{"name":"url","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":22,"index":22}}],"key":"54BFVWPMMcc1L7t+9m1S0mVlMRI="}},{"name":"../util/fetch","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":23},"end":{"line":2,"column":38,"index":61}}],"key":"3iL/Ks2hu0RPswKqkfzLI/5LXGg=","isOptional":true}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/createClass\"));\n  var _url = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"url\"));\n  var Azteco = exports.default = /*#__PURE__*/function () {\n    function Azteco() {\n      (0, _classCallCheck2.default)(this, Azteco);\n    }\n    return (0, _createClass2.default)(Azteco, null, [{\n      key: \"redeem\",\n      value: (\n      /**\n       * Redeems an Azteco bitcoin voucher.\n       *\n       * @param {string[]} voucher - 16-digit voucher code in groups of 4.\n       * @param {string} address - Bitcoin address to send the redeemed bitcoin to.\n       *\n       * @returns {Promise<boolean>} Successfully redeemed or not. This method does not throw exceptions\n       */\n      function () {\n        var _redeem = (0, _asyncToGenerator2.default)(function* (voucher, address) {\n          var baseURI = 'https://azte.co/';\n          var url = `${baseURI}blue_despatch.php?CODE_1=${voucher[0]}&CODE_2=${voucher[1]}&CODE_3=${voucher[2]}&CODE_4=${voucher[3]}&ADDRESS=${address}`;\n          try {\n            var response = yield (0, _$$_REQUIRE(_dependencyMap[5], \"../util/fetch\").fetch)(url, {\n              method: 'GET'\n            });\n            return response && response.status === 200;\n          } catch (_) {\n            return false;\n          }\n        });\n        function redeem(_x, _x2) {\n          return _redeem.apply(this, arguments);\n        }\n        return redeem;\n      }())\n    }, {\n      key: \"isRedeemUrl\",\n      value: function isRedeemUrl(u) {\n        return u.startsWith('https://azte.co');\n      }\n    }, {\n      key: \"getParamsFromUrl\",\n      value: function getParamsFromUrl(u) {\n        var urlObject = _url.default.parse(u, true); // eslint-disable-line n/no-deprecated-api\n\n        if (urlObject.query.code) {\n          // check if code is a string\n          if (typeof urlObject.query.code !== 'string') {\n            throw new Error('Invalid URL');\n          }\n\n          // newer format of the url\n          return {\n            uri: u,\n            c1: urlObject.query.code.substring(0, 4),\n            c2: urlObject.query.code.substring(4, 8),\n            c3: urlObject.query.code.substring(8, 12),\n            c4: urlObject.query.code.substring(12, 16)\n          };\n        }\n        return {\n          uri: u,\n          c1: urlObject.query.c1,\n          c2: urlObject.query.c2,\n          c3: urlObject.query.c3,\n          c4: urlObject.query.c4\n        };\n      }\n    }]);\n  }();\n});","lineCount":79,"map":[[10,2,1,0],[10,6,1,0,"_url"],[10,10,1,0],[10,13,1,0,"_interopRequireDefault"],[10,35,1,0],[10,36,1,0,"_$$_REQUIRE"],[10,47,1,0],[10,48,1,0,"_dependencyMap"],[10,62,1,0],[11,2,1,22],[11,6,4,21,"Azteco"],[11,12,4,27],[11,15,4,27,"exports"],[11,22,4,27],[11,23,4,27,"default"],[11,30,4,27],[12,4,4,27],[12,13,4,27,"Azteco"],[12,20,4,27],[13,6,4,27],[13,10,4,27,"_classCallCheck2"],[13,26,4,27],[13,27,4,27,"default"],[13,34,4,27],[13,42,4,27,"Azteco"],[13,48,4,27],[14,4,4,27],[15,4,4,27],[15,15,4,27,"_createClass2"],[15,28,4,27],[15,29,4,27,"default"],[15,36,4,27],[15,38,4,27,"Azteco"],[15,44,4,27],[16,6,4,27,"key"],[16,9,4,27],[17,6,4,27,"value"],[17,11,4,27],[18,6,5,2],[19,0,6,0],[20,0,7,0],[21,0,8,0],[22,0,9,0],[23,0,10,0],[24,0,11,0],[25,0,12,0],[26,6,5,2],[27,8,5,2],[27,12,5,2,"_redeem"],[27,19,5,2],[27,26,5,2,"_asyncToGenerator2"],[27,44,5,2],[27,45,5,2,"default"],[27,52,5,2],[27,54,13,2],[27,65,13,22,"voucher"],[27,72,13,39],[27,74,13,41,"address"],[27,81,13,56],[27,83,13,76],[28,10,14,4],[28,14,14,10,"baseURI"],[28,21,14,17],[28,24,14,20],[28,42,14,38],[29,10,15,4],[29,14,15,10,"url"],[29,17,15,13],[29,20,15,16],[29,23,15,19,"baseURI"],[29,30,15,26],[29,58,15,54,"voucher"],[29,65,15,61],[29,66,15,62],[29,67,15,63],[29,68,15,64],[29,79,15,75,"voucher"],[29,86,15,82],[29,87,15,83],[29,88,15,84],[29,89,15,85],[29,100,15,96,"voucher"],[29,107,15,103],[29,108,15,104],[29,109,15,105],[29,110,15,106],[29,121,15,117,"voucher"],[29,128,15,124],[29,129,15,125],[29,130,15,126],[29,131,15,127],[29,143,15,139,"address"],[29,150,15,146],[29,152,15,148],[30,10,17,4],[30,14,17,8],[31,12,18,6],[31,16,18,12,"response"],[31,24,18,20],[31,33,18,29],[31,37,18,29,"fetch"],[31,67,18,29],[31,68,18,29,"fetch"],[31,90,18,34],[31,92,18,35,"url"],[31,95,18,38],[31,97,18,40],[32,14,19,8,"method"],[32,20,19,14],[32,22,19,16],[33,12,20,6],[33,13,20,7],[33,14,20,8],[34,12,21,6],[34,19,21,13,"response"],[34,27,21,21],[34,31,21,25,"response"],[34,39,21,33],[34,40,21,34,"status"],[34,46,21,40],[34,51,21,45],[34,54,21,48],[35,10,22,4],[35,11,22,5],[35,12,22,6],[35,19,22,13,"_"],[35,20,22,14],[35,22,22,16],[36,12,23,6],[36,19,23,13],[36,24,23,18],[37,10,24,4],[38,8,25,2],[38,9,25,3],[39,8,25,3],[39,17,13,15,"redeem"],[39,23,13,21,"redeem"],[39,24,13,21,"_x"],[39,26,13,21],[39,28,13,21,"_x2"],[39,31,13,21],[40,10,13,21],[40,17,13,21,"_redeem"],[40,24,13,21],[40,25,13,21,"apply"],[40,30,13,21],[40,37,13,21,"arguments"],[40,46,13,21],[41,8,13,21],[42,8,13,21],[42,15,13,15,"redeem"],[42,21,13,21],[43,6,13,21],[44,4,13,21],[45,6,13,21,"key"],[45,9,13,21],[46,6,13,21,"value"],[46,11,13,21],[46,13,27,2],[46,22,27,9,"isRedeemUrl"],[46,33,27,20,"isRedeemUrl"],[46,34,27,21,"u"],[46,35,27,30],[46,37,27,41],[47,8,28,4],[47,15,28,11,"u"],[47,16,28,12],[47,17,28,13,"startsWith"],[47,27,28,23],[47,28,28,24],[47,45,28,41],[47,46,28,42],[48,6,29,2],[49,4,29,3],[50,6,29,3,"key"],[50,9,29,3],[51,6,29,3,"value"],[51,11,29,3],[51,13,31,2],[51,22,31,9,"getParamsFromUrl"],[51,38,31,25,"getParamsFromUrl"],[51,39,31,26,"u"],[51,40,31,35],[51,42,31,37],[52,8,32,4],[52,12,32,10,"urlObject"],[52,21,32,19],[52,24,32,22,"URL"],[52,36,32,25],[52,37,32,26,"parse"],[52,42,32,31],[52,43,32,32,"u"],[52,44,32,33],[52,46,32,35],[52,50,32,39],[52,51,32,40],[52,52,32,41],[52,53,32,42],[54,8,34,4],[54,12,34,8,"urlObject"],[54,21,34,17],[54,22,34,18,"query"],[54,27,34,23],[54,28,34,24,"code"],[54,32,34,28],[54,34,34,30],[55,10,35,6],[56,10,36,6],[56,14,36,10],[56,21,36,17,"urlObject"],[56,30,36,26],[56,31,36,27,"query"],[56,36,36,32],[56,37,36,33,"code"],[56,41,36,37],[56,46,36,42],[56,54,36,50],[56,56,36,52],[57,12,37,8],[57,18,37,14],[57,22,37,18,"Error"],[57,27,37,23],[57,28,37,24],[57,41,37,37],[57,42,37,38],[58,10,38,6],[60,10,40,6],[61,10,41,6],[61,17,41,13],[62,12,42,8,"uri"],[62,15,42,11],[62,17,42,13,"u"],[62,18,42,14],[63,12,43,8,"c1"],[63,14,43,10],[63,16,43,12,"urlObject"],[63,25,43,21],[63,26,43,22,"query"],[63,31,43,27],[63,32,43,28,"code"],[63,36,43,32],[63,37,43,33,"substring"],[63,46,43,42],[63,47,43,43],[63,48,43,44],[63,50,43,46],[63,51,43,47],[63,52,43,48],[64,12,44,8,"c2"],[64,14,44,10],[64,16,44,12,"urlObject"],[64,25,44,21],[64,26,44,22,"query"],[64,31,44,27],[64,32,44,28,"code"],[64,36,44,32],[64,37,44,33,"substring"],[64,46,44,42],[64,47,44,43],[64,48,44,44],[64,50,44,46],[64,51,44,47],[64,52,44,48],[65,12,45,8,"c3"],[65,14,45,10],[65,16,45,12,"urlObject"],[65,25,45,21],[65,26,45,22,"query"],[65,31,45,27],[65,32,45,28,"code"],[65,36,45,32],[65,37,45,33,"substring"],[65,46,45,42],[65,47,45,43],[65,48,45,44],[65,50,45,46],[65,52,45,48],[65,53,45,49],[66,12,46,8,"c4"],[66,14,46,10],[66,16,46,12,"urlObject"],[66,25,46,21],[66,26,46,22,"query"],[66,31,46,27],[66,32,46,28,"code"],[66,36,46,32],[66,37,46,33,"substring"],[66,46,46,42],[66,47,46,43],[66,49,46,45],[66,51,46,47],[66,53,46,49],[67,10,47,6],[67,11,47,7],[68,8,48,4],[69,8,50,4],[69,15,50,11],[70,10,51,6,"uri"],[70,13,51,9],[70,15,51,11,"u"],[70,16,51,12],[71,10,52,6,"c1"],[71,12,52,8],[71,14,52,10,"urlObject"],[71,23,52,19],[71,24,52,20,"query"],[71,29,52,25],[71,30,52,26,"c1"],[71,32,52,28],[72,10,53,6,"c2"],[72,12,53,8],[72,14,53,10,"urlObject"],[72,23,53,19],[72,24,53,20,"query"],[72,29,53,25],[72,30,53,26,"c2"],[72,32,53,28],[73,10,54,6,"c3"],[73,12,54,8],[73,14,54,10,"urlObject"],[73,23,54,19],[73,24,54,20,"query"],[73,29,54,25],[73,30,54,26,"c3"],[73,32,54,28],[74,10,55,6,"c4"],[74,12,55,8],[74,14,55,10,"urlObject"],[74,23,55,19],[74,24,55,20,"query"],[74,29,55,25],[74,30,55,26,"c4"],[75,8,56,4],[75,9,56,5],[76,6,57,2],[77,4,57,3],[78,2,57,3],[79,0,57,3],[79,3]],"functionMap":{"names":["<global>","Azteco","Azteco.redeem","Azteco.isRedeemUrl","Azteco.getParamsFromUrl"],"mappings":"AAA;eCG;ECS;GDY;EEE;GFE;EGE;GH0B;CDC"}},"type":"js/module"}]}