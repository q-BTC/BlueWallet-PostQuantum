{"dependencies":[{"name":"uint8array-tools","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":15,"column":27,"index":462},"end":{"line":15,"column":54,"index":489}}],"key":"d9z2uhLIsbEZR4MIqnLfYd/zTK8="}},{"name":"../../typeFields.cjs","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":14,"column":24,"index":402},"end":{"line":14,"column":55,"index":433}},{"start":{"line":14,"column":24,"index":402},"end":{"line":14,"column":55,"index":433}}],"key":"6VKrghDrlipK/Kkfa9oBo7LMnas="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var __importStar = this && this.__importStar || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result['default'] = mod;\n    return result;\n  };\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var tools = __importStar(_$$_REQUIRE(_dependencyMap[0], \"uint8array-tools\"));\n  function decode(keyVal) {\n    if (keyVal.key[0] !== _$$_REQUIRE(_dependencyMap[1], \"../../typeFields.cjs\").InputTypes.PARTIAL_SIG) {\n      throw new Error('Decode Error: could not decode partialSig with key 0x' + tools.toHex(keyVal.key));\n    }\n    if (!(keyVal.key.length === 34 || keyVal.key.length === 66) || ![2, 3, 4].includes(keyVal.key[1])) {\n      throw new Error('Decode Error: partialSig has invalid pubkey in key 0x' + tools.toHex(keyVal.key));\n    }\n    var pubkey = keyVal.key.slice(1);\n    return {\n      pubkey: pubkey,\n      signature: keyVal.value\n    };\n  }\n  exports.decode = decode;\n  function encode(pSig) {\n    var head = new Uint8Array([_$$_REQUIRE(_dependencyMap[1], \"../../typeFields.cjs\").InputTypes.PARTIAL_SIG]);\n    return {\n      key: tools.concat([head, pSig.pubkey]),\n      value: pSig.signature\n    };\n  }\n  exports.encode = encode;\n  exports.expected = '{ pubkey: Uint8Array; signature: Uint8Array; }';\n  function check(data) {\n    return data.pubkey instanceof Uint8Array && data.signature instanceof Uint8Array && [33, 65].includes(data.pubkey.length) && [2, 3, 4].includes(data.pubkey[0]) && isDerSigWithSighash(data.signature);\n  }\n  exports.check = check;\n  function isDerSigWithSighash(buf) {\n    if (!(buf instanceof Uint8Array) || buf.length < 9) return false;\n    if (buf[0] !== 0x30) return false;\n    if (buf.length !== buf[1] + 3) return false;\n    if (buf[2] !== 0x02) return false;\n    var rLen = buf[3];\n    if (rLen > 33 || rLen < 1) return false;\n    if (buf[3 + rLen + 1] !== 0x02) return false;\n    var sLen = buf[3 + rLen + 2];\n    if (sLen > 33 || sLen < 1) return false;\n    if (buf.length !== 3 + rLen + 2 + sLen + 2) return false;\n    return true;\n  }\n  function canAddToArray(array, item, dupeSet) {\n    var dupeString = tools.toHex(item.pubkey);\n    if (dupeSet.has(dupeString)) return false;\n    dupeSet.add(dupeString);\n    return array.filter(function (v) {\n      return tools.compare(v.pubkey, item.pubkey) === 0;\n    }).length === 0;\n  }\n  exports.canAddToArray = canAddToArray;\n});","lineCount":64,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0],[4,6,2,4,"__importStar"],[4,18,2,16],[4,21,3,3],[4,25,3,7],[4,29,3,11],[4,33,3,15],[4,34,3,16,"__importStar"],[4,46,3,28],[4,50,4,2],[4,60,4,11,"mod"],[4,63,4,14],[4,65,4,16],[5,4,5,4],[5,8,5,8,"mod"],[5,11,5,11],[5,15,5,15,"mod"],[5,18,5,18],[5,19,5,19,"__esModule"],[5,29,5,29],[5,31,5,31],[5,38,5,38,"mod"],[5,41,5,41],[6,4,6,4],[6,8,6,8,"result"],[6,14,6,14],[6,17,6,17],[6,18,6,18],[6,19,6,19],[7,4,7,4],[7,8,7,8,"mod"],[7,11,7,11],[7,15,7,15],[7,19,7,19],[7,21,8,6],[7,26,8,11],[7,30,8,15,"k"],[7,31,8,16],[7,35,8,20,"mod"],[7,38,8,23],[7,40,9,8],[7,44,9,12,"Object"],[7,50,9,18],[7,51,9,19,"hasOwnProperty"],[7,65,9,33],[7,66,9,34,"call"],[7,70,9,38],[7,71,9,39,"mod"],[7,74,9,42],[7,76,9,44,"k"],[7,77,9,45],[7,78,9,46],[7,80,9,48,"result"],[7,86,9,54],[7,87,9,55,"k"],[7,88,9,56],[7,89,9,57],[7,92,9,60,"mod"],[7,95,9,63],[7,96,9,64,"k"],[7,97,9,65],[7,98,9,66],[8,4,10,4,"result"],[8,10,10,10],[8,11,10,11],[8,20,10,20],[8,21,10,21],[8,24,10,24,"mod"],[8,27,10,27],[9,4,11,4],[9,11,11,11,"result"],[9,17,11,17],[10,2,12,2],[10,3,12,3],[11,2,13,0,"Object"],[11,8,13,6],[11,9,13,7,"defineProperty"],[11,23,13,21],[11,24,13,22,"exports"],[11,31,13,29],[11,33,13,31],[11,45,13,43],[11,47,13,45],[12,4,13,47,"value"],[12,9,13,52],[12,11,13,54],[13,2,13,59],[13,3,13,60],[13,4,13,61],[14,2,15,0],[14,6,15,6,"tools"],[14,11,15,11],[14,14,15,14,"__importStar"],[14,26,15,26],[14,27,15,27,"require"],[14,38,15,34],[14,39,15,34,"_dependencyMap"],[14,53,15,34],[14,76,15,53],[14,77,15,54],[14,78,15,55],[15,2,16,0],[15,11,16,9,"decode"],[15,17,16,15,"decode"],[15,18,16,16,"keyVal"],[15,24,16,22],[15,26,16,24],[16,4,17,2],[16,8,17,6,"keyVal"],[16,14,17,12],[16,15,17,13,"key"],[16,18,17,16],[16,19,17,17],[16,20,17,18],[16,21,17,19],[16,26,17,24,"_$$_REQUIRE"],[16,37,17,24],[16,38,17,24,"_dependencyMap"],[16,52,17,24],[16,81,17,40,"InputTypes"],[16,91,17,50],[16,92,17,51,"PARTIAL_SIG"],[16,103,17,62],[16,105,17,64],[17,6,18,4],[17,12,18,10],[17,16,18,14,"Error"],[17,21,18,19],[17,22,19,6],[17,77,19,61],[17,80,20,8,"tools"],[17,85,20,13],[17,86,20,14,"toHex"],[17,91,20,19],[17,92,20,20,"keyVal"],[17,98,20,26],[17,99,20,27,"key"],[17,102,20,30],[17,103,21,4],[17,104,21,5],[18,4,22,2],[19,4,23,2],[19,8,24,4],[19,10,24,6,"keyVal"],[19,16,24,12],[19,17,24,13,"key"],[19,20,24,16],[19,21,24,17,"length"],[19,27,24,23],[19,32,24,28],[19,34,24,30],[19,38,24,34,"keyVal"],[19,44,24,40],[19,45,24,41,"key"],[19,48,24,44],[19,49,24,45,"length"],[19,55,24,51],[19,60,24,56],[19,62,24,58],[19,63,24,59],[19,67,25,4],[19,68,25,5],[19,69,25,6],[19,70,25,7],[19,72,25,9],[19,73,25,10],[19,75,25,12],[19,76,25,13],[19,77,25,14],[19,78,25,15,"includes"],[19,86,25,23],[19,87,25,24,"keyVal"],[19,93,25,30],[19,94,25,31,"key"],[19,97,25,34],[19,98,25,35],[19,99,25,36],[19,100,25,37],[19,101,25,38],[19,103,26,4],[20,6,27,4],[20,12,27,10],[20,16,27,14,"Error"],[20,21,27,19],[20,22,28,6],[20,77,28,61],[20,80,29,8,"tools"],[20,85,29,13],[20,86,29,14,"toHex"],[20,91,29,19],[20,92,29,20,"keyVal"],[20,98,29,26],[20,99,29,27,"key"],[20,102,29,30],[20,103,30,4],[20,104,30,5],[21,4,31,2],[22,4,32,2],[22,8,32,8,"pubkey"],[22,14,32,14],[22,17,32,17,"keyVal"],[22,23,32,23],[22,24,32,24,"key"],[22,27,32,27],[22,28,32,28,"slice"],[22,33,32,33],[22,34,32,34],[22,35,32,35],[22,36,32,36],[23,4,33,2],[23,11,33,9],[24,6,34,4,"pubkey"],[24,12,34,10],[24,14,34,4,"pubkey"],[24,20,34,10],[25,6,35,4,"signature"],[25,15,35,13],[25,17,35,15,"keyVal"],[25,23,35,21],[25,24,35,22,"value"],[26,4,36,2],[26,5,36,3],[27,2,37,0],[28,2,38,0,"exports"],[28,9,38,7],[28,10,38,8,"decode"],[28,16,38,14],[28,19,38,17,"decode"],[28,25,38,23],[29,2,39,0],[29,11,39,9,"encode"],[29,17,39,15,"encode"],[29,18,39,16,"pSig"],[29,22,39,20],[29,24,39,22],[30,4,40,2],[30,8,40,8,"head"],[30,12,40,12],[30,15,40,15],[30,19,40,19,"Uint8Array"],[30,29,40,29],[30,30,40,30],[30,31,40,31,"_$$_REQUIRE"],[30,42,40,31],[30,43,40,31,"_dependencyMap"],[30,57,40,31],[30,86,40,47,"InputTypes"],[30,96,40,57],[30,97,40,58,"PARTIAL_SIG"],[30,108,40,69],[30,109,40,70],[30,110,40,71],[31,4,41,2],[31,11,41,9],[32,6,42,4,"key"],[32,9,42,7],[32,11,42,9,"tools"],[32,16,42,14],[32,17,42,15,"concat"],[32,23,42,21],[32,24,42,22],[32,25,42,23,"head"],[32,29,42,27],[32,31,42,29,"pSig"],[32,35,42,33],[32,36,42,34,"pubkey"],[32,42,42,40],[32,43,42,41],[32,44,42,42],[33,6,43,4,"value"],[33,11,43,9],[33,13,43,11,"pSig"],[33,17,43,15],[33,18,43,16,"signature"],[34,4,44,2],[34,5,44,3],[35,2,45,0],[36,2,46,0,"exports"],[36,9,46,7],[36,10,46,8,"encode"],[36,16,46,14],[36,19,46,17,"encode"],[36,25,46,23],[37,2,47,0,"exports"],[37,9,47,7],[37,10,47,8,"expected"],[37,18,47,16],[37,21,47,19],[37,69,47,67],[38,2,48,0],[38,11,48,9,"check"],[38,16,48,14,"check"],[38,17,48,15,"data"],[38,21,48,19],[38,23,48,21],[39,4,49,2],[39,11,50,4,"data"],[39,15,50,8],[39,16,50,9,"pubkey"],[39,22,50,15],[39,34,50,27,"Uint8Array"],[39,44,50,37],[39,48,51,4,"data"],[39,52,51,8],[39,53,51,9,"signature"],[39,62,51,18],[39,74,51,30,"Uint8Array"],[39,84,51,40],[39,88,52,4],[39,89,52,5],[39,91,52,7],[39,93,52,9],[39,95,52,11],[39,96,52,12],[39,97,52,13,"includes"],[39,105,52,21],[39,106,52,22,"data"],[39,110,52,26],[39,111,52,27,"pubkey"],[39,117,52,33],[39,118,52,34,"length"],[39,124,52,40],[39,125,52,41],[39,129,53,4],[39,130,53,5],[39,131,53,6],[39,133,53,8],[39,134,53,9],[39,136,53,11],[39,137,53,12],[39,138,53,13],[39,139,53,14,"includes"],[39,147,53,22],[39,148,53,23,"data"],[39,152,53,27],[39,153,53,28,"pubkey"],[39,159,53,34],[39,160,53,35],[39,161,53,36],[39,162,53,37],[39,163,53,38],[39,167,54,4,"isDerSigWithSighash"],[39,186,54,23],[39,187,54,24,"data"],[39,191,54,28],[39,192,54,29,"signature"],[39,201,54,38],[39,202,54,39],[40,2,56,0],[41,2,57,0,"exports"],[41,9,57,7],[41,10,57,8,"check"],[41,15,57,13],[41,18,57,16,"check"],[41,23,57,21],[42,2,58,0],[42,11,58,9,"isDerSigWithSighash"],[42,30,58,28,"isDerSigWithSighash"],[42,31,58,29,"buf"],[42,34,58,32],[42,36,58,34],[43,4,59,2],[43,8,59,6],[43,10,59,8,"buf"],[43,13,59,11],[43,25,59,23,"Uint8Array"],[43,35,59,33],[43,36,59,34],[43,40,59,38,"buf"],[43,43,59,41],[43,44,59,42,"length"],[43,50,59,48],[43,53,59,51],[43,54,59,52],[43,56,59,54],[43,63,59,61],[43,68,59,66],[44,4,60,2],[44,8,60,6,"buf"],[44,11,60,9],[44,12,60,10],[44,13,60,11],[44,14,60,12],[44,19,60,17],[44,23,60,21],[44,25,60,23],[44,32,60,30],[44,37,60,35],[45,4,61,2],[45,8,61,6,"buf"],[45,11,61,9],[45,12,61,10,"length"],[45,18,61,16],[45,23,61,21,"buf"],[45,26,61,24],[45,27,61,25],[45,28,61,26],[45,29,61,27],[45,32,61,30],[45,33,61,31],[45,35,61,33],[45,42,61,40],[45,47,61,45],[46,4,62,2],[46,8,62,6,"buf"],[46,11,62,9],[46,12,62,10],[46,13,62,11],[46,14,62,12],[46,19,62,17],[46,23,62,21],[46,25,62,23],[46,32,62,30],[46,37,62,35],[47,4,63,2],[47,8,63,8,"rLen"],[47,12,63,12],[47,15,63,15,"buf"],[47,18,63,18],[47,19,63,19],[47,20,63,20],[47,21,63,21],[48,4,64,2],[48,8,64,6,"rLen"],[48,12,64,10],[48,15,64,13],[48,17,64,15],[48,21,64,19,"rLen"],[48,25,64,23],[48,28,64,26],[48,29,64,27],[48,31,64,29],[48,38,64,36],[48,43,64,41],[49,4,65,2],[49,8,65,6,"buf"],[49,11,65,9],[49,12,65,10],[49,13,65,11],[49,16,65,14,"rLen"],[49,20,65,18],[49,23,65,21],[49,24,65,22],[49,25,65,23],[49,30,65,28],[49,34,65,32],[49,36,65,34],[49,43,65,41],[49,48,65,46],[50,4,66,2],[50,8,66,8,"sLen"],[50,12,66,12],[50,15,66,15,"buf"],[50,18,66,18],[50,19,66,19],[50,20,66,20],[50,23,66,23,"rLen"],[50,27,66,27],[50,30,66,30],[50,31,66,31],[50,32,66,32],[51,4,67,2],[51,8,67,6,"sLen"],[51,12,67,10],[51,15,67,13],[51,17,67,15],[51,21,67,19,"sLen"],[51,25,67,23],[51,28,67,26],[51,29,67,27],[51,31,67,29],[51,38,67,36],[51,43,67,41],[52,4,68,2],[52,8,68,6,"buf"],[52,11,68,9],[52,12,68,10,"length"],[52,18,68,16],[52,23,68,21],[52,24,68,22],[52,27,68,25,"rLen"],[52,31,68,29],[52,34,68,32],[52,35,68,33],[52,38,68,36,"sLen"],[52,42,68,40],[52,45,68,43],[52,46,68,44],[52,48,68,46],[52,55,68,53],[52,60,68,58],[53,4,69,2],[53,11,69,9],[53,15,69,13],[54,2,70,0],[55,2,71,0],[55,11,71,9,"canAddToArray"],[55,24,71,22,"canAddToArray"],[55,25,71,23,"array"],[55,30,71,28],[55,32,71,30,"item"],[55,36,71,34],[55,38,71,36,"dupeSet"],[55,45,71,43],[55,47,71,45],[56,4,72,2],[56,8,72,8,"dupeString"],[56,18,72,18],[56,21,72,21,"tools"],[56,26,72,26],[56,27,72,27,"toHex"],[56,32,72,32],[56,33,72,33,"item"],[56,37,72,37],[56,38,72,38,"pubkey"],[56,44,72,44],[56,45,72,45],[57,4,73,2],[57,8,73,6,"dupeSet"],[57,15,73,13],[57,16,73,14,"has"],[57,19,73,17],[57,20,73,18,"dupeString"],[57,30,73,28],[57,31,73,29],[57,33,73,31],[57,40,73,38],[57,45,73,43],[58,4,74,2,"dupeSet"],[58,11,74,9],[58,12,74,10,"add"],[58,15,74,13],[58,16,74,14,"dupeString"],[58,26,74,24],[58,27,74,25],[59,4,75,2],[59,11,76,4,"array"],[59,16,76,9],[59,17,76,10,"filter"],[59,23,76,16],[59,24,76,17],[59,34,76,17,"v"],[59,35,76,18],[60,6,76,18],[60,13,76,22,"tools"],[60,18,76,27],[60,19,76,28,"compare"],[60,26,76,35],[60,27,76,36,"v"],[60,28,76,37],[60,29,76,38,"pubkey"],[60,35,76,44],[60,37,76,46,"item"],[60,41,76,50],[60,42,76,51,"pubkey"],[60,48,76,57],[60,49,76,58],[60,54,76,63],[60,55,76,64],[61,4,76,64],[61,6,76,65],[61,7,76,66,"length"],[61,13,76,72],[61,18,76,77],[61,19,76,78],[62,2,78,0],[63,2,79,0,"exports"],[63,9,79,7],[63,10,79,8,"canAddToArray"],[63,23,79,21],[63,26,79,24,"canAddToArray"],[63,39,79,37],[64,0,79,38],[64,3]],"functionMap":{"names":["<global>","<anonymous>","decode","encode","check","isDerSigWithSighash","canAddToArray","array.filter$argument_0"],"mappings":"AAA;ECG;GDQ;AEI;CFqB;AGE;CHM;AIG;CJQ;AKE;CLY;AMC;iBCK,+CD;CNE"}},"type":"js/module"}]}